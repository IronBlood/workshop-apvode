import{d as to,r as io,G as ao,o as so,a as no}from"./vendor-CuhU66Da.js";const mt=navigator?navigator.userAgent.toLowerCase():"no-user-agent-specified",pi=document?document.documentElement:null,ro=mt?mt.indexOf("phantom")!==-1:!1,Pi=window&&"ActiveXObject"in window;Pi&&mt.match(/MSIE 9/i);const fa=mt.indexOf("webkit")!==-1;mt.indexOf("android");const oo=mt.search("android [23]")!==-1,ii=window?typeof window.orientation<"u":!1,lo=navigator&&window?navigator.msPointerEnabled&&navigator.msMaxTouchPoints&&!window.PointerEvent:!1,ho=navigator&&window?window.PointerEvent&&navigator.pointerEnabled&&navigator.maxTouchPoints:lo,Rn=window?window.opera:!1;mt.indexOf("gecko");const gi=mt.indexOf("gecko")!==-1&&!fa&&!Rn&&!Pi;mt.indexOf("chrome");const uo=mt.indexOf("edge/")!==-1;pi&&Pi&&"transition"in pi.style;window&&"WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix;pi&&"MozPerspective"in pi.style;pi&&"OTransition"in pi.style;let sn=window?"devicePixelRatio"in window&&window.devicePixelRatio>1:!1;if(!sn&&window&&"matchMedia"in window){let t=window.matchMedia("(min-resolution:144dpi)");sn=t&&t.matches}const _t=window&&!window.L_NO_TOUCH&&!ro&&(ho||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch);function co(){var t=window.innerWidth,e=window.innerHeight,i="portrait";return t>e&&(i="landscape"),i}function Yi(t){return typeof t=="string"?document.getElementById(t):t}function O(t,e,i){var a=document.createElement(t);return a.className=e,i&&i.appendChild(a),a}function Ei(t,e){var i=O("button",t,e);return i.type="button",i}function ts(t){for(var e={x:0,y:0};t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e.x+=t.offsetLeft,e.y+=t.offsetTop,t=t.offsetParent;return e}function Cn(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}Cn(["transition","webkitTransition","OTransition","MozTransition","msTransition"]);Cn(["transformProperty","WebkitTransform","OTransform","MozTransform","msTransform"]);class ne extends Error{constructor(e,i){super(),this.name="TLError",this.message=e||"error",this.message_key=this.message,this.detail=i||""}}const nn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Pn(t){nn[t.toLowerCase()]&&(t=nn[t.toLowerCase()]);var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(a,s,r,l){return s+s+r+r+l+l});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null}function fe(t,e){var i;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}function fo(t){return t==null?!1:t==!0||String(t).toLowerCase()=="true"||Number(t)==1}function hi(t){for(var e=Array.prototype.slice.call(arguments,1),i=0,a=e.length,s;i<a;i++)s=e[i]||{},fe(t,s);return t}const Yn=[];function _o(t){Yn.push(t)}function re(t){Yn.forEach(e=>{try{e(t)}catch(i){console&&console.log&&console.log("Error handling trace",i)}})}function kt(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}const rn=function(){var t=0,e="_tl_id";return function(i){return i[e]=i[e]||++t,i[e]}}();function Je(t){return t&&typeof t.replace=="function"?t.replace(/^\s+|\s+$/g,""):""}function qe(t,...e){for(let a of e)for(var i of Object.getOwnPropertyNames(a.prototype))t.prototype[i]=a.prototype[i]}function mo(t,e){if(e||(e=ei(6)),!(e in t))return e;var i=e.match(/^(.+)(-\d+)?$/)[1],a=[];for(let r in t)r.match(/^(.+?)(-\d+)?$/)[1]==i&&a.push(r);e=i+"-"+(a.length+1);for(var s=a.length;a.indexOf(e)!=-1;s++)e=i+"-"+s;return e}function po(t){var e=[];if(Object.keys)e=Object.keys(t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);for(var a=0;a<e.length;a++){var s=e[a];if(t[s]!=null&&typeof t[s]!="string"||Je(t[s]).length!=0)return!1}return!0}function Ha(t){t=Je(t),t=t.toLowerCase();for(var e="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;",i="aaaaaeeeeeiiiiooooouuuunc------",a=0,s=e.length;a<s;a++)t=t.replace(new RegExp(e.charAt(a),"g"),i.charAt(a));return t=t.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),t=t.replace(/^([0-9])/,"_$1"),t}function ei(t,e){var i=function(r){return Math.floor(Math.random()*r)},a=function(){var r="abcdefghijklmnopqurstuvwxyz";return r.substr(i(32),1)},s=function(r){for(var l="",h=0;h<r;h++)l+=a();return l};return e?e+"-"+s(t):"tl-"+s(t)}function go(t,e,i){for(var a=0;a<t.length;a++)if(e<t[a])return t[a];return i||e}function yo(t,e,i){for(var a=t.length-1;a>=0;a--)if(e>t[a])return t[a];return i||e}function vo(t){return t==parseFloat(t)?!(t%2):void 0}function Fn(t,e,i,a){for(var s=a||0,r=0;r<e.length;r++)e[r].data[i]==t&&(s=r);return s}function ci(t){return t&&(t=t.replace(/<a\b[^>]*>/i,""),t=t.replace(/<\/a>/i,""),t)}function wo(t,e){t.data=hi({},t.data,e),t.data.unique_id===""&&(t.data.unique_id=ei(6))}function bo(t){return t.match(/<p>[\s\S]*?<\/p>/)?t:"<p>"+t+"</p>"}function yi(t){return t=t.replace(/(<[^>]*>)+/g,""),t.replace('"',"'")}function is(t,e,i){var a=function(h,m,p){p||(p="");var y=30;return m&&m.length>y&&(m=m.substring(0,y)+"…"),p+"<a class='tl-makelink' href='"+h+"' onclick='void(0)'>"+m+"</a>"},s=/\b(?:https?|ftp):\/\/([a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|])/gim,r=/(^|[^\/>])(www\.[\S]+(\b|$))/gim,l=/([a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+)/gim;return t.replace(s,function(h,m,p,y){if(p>0){var _=y[p-1];if(_=='"'||_=="'"||_=="=")return h}return a(h,m)}).replace(r,function(h,m,p,y,_){return a("http://"+p,p,m)}).replace(l,function(h,m,p,y){return a("mailto:"+m,m)})}function _a(t){return t.replace(/(.*)www.dropbox.com\/(.*)/,"$1dl.dropboxusercontent.com/$2")}const ai={square:t=>{var e={w:0,h:0};return t.w>t.h&&t.h>0?(e.h=t.h,e.w=t.h):(e.w=t.w,e.h=t.w),e},r16_9:t=>t.w!==null&&t.w!==""?Math.round(t.w/16*9):t.h!==null&&t.h!==""?Math.round(t.h/9*16):0,r4_3:t=>{if(t.w!==null&&t.w!=="")return Math.round(t.w/4*3);if(t.h!==null&&t.h!=="")return Math.round(t.h/3*4)}};function ko(t){var e,i=[],a,s;e=t.toString(),e.match("&#038;")?e=e.replace("&#038;","&"):e.match("&#38;")?e=e.replace("&#38;","&"):e.match("&amp;")&&(e=e.replace("&amp;","&")),s=e.slice(e.indexOf("?")+1).split("&");for(var r=0;r<s.length;r++)a=s[r].split("="),i.push(a[0]),i[a[0]]=a[1];return i}function To(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+"="+t[i]);return"?"+e.join("&")}function Mo(t,e){if(typeof t<"u"){var i=0;for(var a in t){if(e===i)return t[a];i++}return""}else return""}let xo=function(t){var e=t||"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",i=e.length;return{encode:function(a){if(typeof a!="number"||a!==parseInt(a))throw'"encode" only accepts integers.';for(var s="";a;){var r=a%i;a=Math.floor(a/i),s=e[r].toString()+s}return s},decode:function(a){if(typeof a!="string")throw'"decode" only accepts strings.';for(var s=0;a;){var r=e.indexOf(a[0]);if(r<0)throw`"decode" can't find "`+a[0]+'" in the alphabet: "'+e+'"';var l=a.length-1;s+=r*Math.pow(i,l),a=a.substring(1)}return s}}}();function Wa(t){if(typeof t=="string"){let s=t.match(/^\s*(\d+h)?(\d+m)?(\d+s)?\s*/i);if(s){var e=parseInt(s[1])||0,i=parseInt(s[2])||0,a=parseInt(s[3])||0;return a+i*60+e*60*60}}else if(typeof t=="number")return t;return 0}function So(t){var e=new DOMParser().parseFromString(t,"text/html");return e.body.textContent||""}function Do(t){}function ma(t){var e=new Do;return e.get(t)}function Ai(t){return t==1?1:1-Math.pow(2,-10*t)}function vi(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}let sa=function(){};sa.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments)},i=function(){};i.prototype=this.prototype;var a=new i;a.constructor=e,e.prototype=a,e.superclass=this.prototype;for(var s in this)this.hasOwnProperty(s)&&s!=="prototype"&&s!=="superclass"&&(e[s]=this[s]);return t.statics&&(hi(e,t.statics),delete t.statics),t.includes&&(hi.apply(null,[a].concat(t.includes)),delete t.includes),t.options&&a.options&&(t.options=hi({},a.options,t.options)),hi(a,t),e.extend=sa.extend,e.include=function(r){hi(this.prototype,r)},e};class Be{on(e,i,a){if(!i)throw new ne("No callback function provided");var s=this._tl_events=this._tl_events||{};return s[e]=s[e]||[],s[e].push({action:i,context:a||this}),this}addEventListener(e,i,a){return this.on(e,i,a)}hasEventListeners(e){var i="_tl_events";return i in this&&e in this[i]&&this[i][e].length>0}removeEventListener(e,i,a){if(!this.hasEventListeners(e))return this;for(var s=0,r=this._tl_events,l=r[e].length;s<l;s++)if(r[e][s].action===i&&(!a||r[e][s].context===a))return r[e].splice(s,1),this;return this}off(e,i,a){return this.removeEventListener(e,i,a)}fire(e,i){if(!this.hasEventListeners(e))return this;for(var a=fe({type:e,target:this},i),s=this._tl_events[e].slice(),r=0,l=s.length;r<l;r++)s[r].action?s[r].action.call(s[r].context||this,a):re(`no action defined for ${e} listener`);return this}}function Ot(t,e){return Eo(t,e)}const Eo=function(){var t=document,e=window,i=e.performance,a=i&&(i.now||i.webkitNow||i.msNow||i.mozNow),s=a?function(){return a.call(i)}:function(){return+new Date},r=t.documentElement,l=!1,h=1e3,m=/^rgb\(|#/,p=/^([+\-])=([\d\.]+)/,y=/^(?:[\+\-]=?)?\d+(?:\.\d+)?(%|in|cm|mm|em|ex|pt|pc|px)$/,_=/rotate\(((?:[+\-]=)?([\-\d\.]+))deg\)/,L=/scale\(((?:[+\-]=)?([\d\.]+))\)/,I=/skew\(((?:[+\-]=)?([\-\d\.]+))deg, ?((?:[+\-]=)?([\-\d\.]+))deg\)/,H=/translate\(((?:[+\-]=)?([\-\d\.]+))px, ?((?:[+\-]=)?([\-\d\.]+))px\)/,V={lineHeight:1,zoom:1,zIndex:1,opacity:1,transform:1},z=function(){var b=t.createElement("a").style,T=["webkitTransform","MozTransform","OTransform","msTransform","Transform"],w;for(w=0;w<T.length;w++)if(T[w]in b)return T[w]}(),ie=function(){return typeof t.createElement("a").style.opacity<"u"}(),ee=t.defaultView&&t.defaultView.getComputedStyle?function(b,T){T=T=="transform"?z:T,T=E(T);var w=null,A=t.defaultView.getComputedStyle(b,"");return A&&(w=A[T]),b.style[T]||w}:r.currentStyle?function(b,T){if(T=E(T),T=="opacity"){var w=100;try{w=b.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch{try{w=b.filters("alpha").opacity}catch{}}return w/100}var A=b.currentStyle?b.currentStyle[T]:null;return b.style[T]||A}:function(b,T){return b.style[E(T)]},te=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||e.oRequestAnimationFrame||function(b){e.setTimeout(function(){b(+new Date)},17)}}(),G=[];te(function(b){l=b>1e12!=s()>1e12});function xe(b,T,w){if(Array.prototype.indexOf)return b.indexOf(T);for(w=0;w<b.length;++w)if(b[w]===T)return w}function Ce(b){var T,w=G.length;for(a&&b>1e12&&(b=s()),l&&(b=s()),T=w;T--;)G[T](b);G.length&&te(Ce)}function Se(b){G.push(b)===1&&te(Ce)}function st(b){var T,w=xe(G,b);w>=0&&(T=G.slice(w+1),G.length=w,G=G.concat(T))}function v(b,T){var w={},A;return(A=b.match(_))&&(w.rotate=ce(A[1],T?T.rotate:null)),(A=b.match(L))&&(w.scale=ce(A[1],T?T.scale:null)),(A=b.match(I))&&(w.skewx=ce(A[1],T?T.skewx:null),w.skewy=ce(A[3],T?T.skewy:null)),(A=b.match(H))&&(w.translatex=ce(A[1],T?T.translatex:null),w.translatey=ce(A[3],T?T.translatey:null)),w}function f(b){var T="";return"rotate"in b&&(T+="rotate("+b.rotate+"deg) "),"scale"in b&&(T+="scale("+b.scale+") "),"translatex"in b&&(T+="translate("+b.translatex+"px,"+b.translatey+"px) "),"skewx"in b&&(T+="skew("+b.skewx+"deg,"+b.skewy+"deg)"),T}function c(b,T,w){return"#"+(1<<24|b<<16|T<<8|w).toString(16).slice(1)}function x(b){var T=b.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return(T?c(T[1],T[2],T[3]):b).replace(/#(\w)(\w)(\w)$/,"#$1$1$2$2$3$3")}function E(b){return b.replace(/-(.)/g,function(T,w){return w.toUpperCase()})}function N(b){return typeof b=="function"}function q(b){return Math.sin(b*Math.PI/2)}function B(b,T,w,A,C,$){A=N(A)?A:J.easings[A]||q;var ke=b||h,we=this,Ue=$-C,Le=s(),Ve=0,Te=0;function Ae(Fe){var o=Fe-Le;if(o>ke||Ve)return $=isFinite($)?$:1,Ve?Te&&T($):T($),st(Ae),w&&w.apply(we);isFinite($)?T(Ue*A(o/ke)+C):T(A(o/ke))}return Se(Ae),{stop:function(Fe){Ve=1,Te=Fe,Fe||(w=null)}}}function le(b,T){var w=b.length,A=[],C,$;for(C=0;C<w;++C)A[C]=[b[C][0],b[C][1]];for($=1;$<w;++$)for(C=0;C<w-$;++C)A[C][0]=(1-T)*A[C][0]+T*A[parseInt(C+1,10)][0],A[C][1]=(1-T)*A[C][1]+T*A[parseInt(C+1,10)][1];return[A[0][0],A[0][1]]}function ae(b,T,w){var A=[],C,$,ke,we;for(C=0;C<6;C++)ke=Math.min(15,parseInt(T.charAt(C),16)),we=Math.min(15,parseInt(w.charAt(C),16)),$=Math.floor((we-ke)*b+ke),$=$>15?15:$<0?0:$,A[C]=$.toString(16);return"#"+A.join("")}function F(b,T,w,A,C,$,ke){if(C=="transform"){ke={};for(var we in w[$][C])ke[we]=we in A[$][C]?Math.round(((A[$][C][we]-w[$][C][we])*b+w[$][C][we])*h)/h:w[$][C][we];return ke}else return typeof w[$][C]=="string"?ae(b,w[$][C],A[$][C]):(ke=Math.round(((A[$][C]-w[$][C])*b+w[$][C])*h)/h,C in V||(ke+=T[$][C]||"px"),ke)}function ce(b,T,w,A,C){return(w=p.exec(b))?(C=parseFloat(w[2]))&&T+(w[1]=="+"?1:-1)*C:parseFloat(b)}function J(b,T){var w=b?w=isFinite(b.length)?b:[b]:[],A,C=T.complete,$=T.duration,ke=T.easing,we=T.bezier,Ue=[],Le=[],Ve=[],Te=[],Ae,Fe;for(we&&(Ae=T.left,Fe=T.top,delete T.right,delete T.bottom,delete T.left,delete T.top),A=w.length;A--;){if(Ue[A]={},Le[A]={},Ve[A]={},we){var o=ee(w[A],"left"),d=ee(w[A],"top"),g=[ce(N(Ae)?Ae(w[A]):Ae||0,parseFloat(o)),ce(N(Fe)?Fe(w[A]):Fe||0,parseFloat(d))];Te[A]=N(we)?we(w[A],g):we,Te[A].push(g),Te[A].unshift([parseInt(o,10),parseInt(d,10)])}for(var M in T){switch(M){case"complete":case"duration":case"easing":case"bezier":continue}var j=ee(w[A],M),Z,pe=N(T[M])?T[M](w[A]):T[M];if(typeof pe=="string"&&m.test(pe)&&!m.test(j)){delete T[M];continue}Ue[A][M]=M=="transform"?v(j):typeof pe=="string"&&m.test(pe)?x(j).slice(1):parseFloat(j),Le[A][M]=M=="transform"?v(pe,Ue[A][M]):typeof pe=="string"&&pe.charAt(0)=="#"?x(pe).slice(1):ce(pe,parseFloat(j)),typeof pe=="string"&&(Z=pe.match(y))&&(Ve[A][M]=Z[1])}}return B.apply(w,[$,function(De,Oe,ze){for(A=w.length;A--;){we&&(ze=le(Te[A],De),w[A].style.left=ze[0]+"px",w[A].style.top=ze[1]+"px");for(var Ne in T)Oe=F(De,Ve,Ue,Le,Ne,A),Ne=="transform"?w[A].style[z]=f(Oe):Ne=="opacity"&&!ie?w[A].style.filter="alpha(opacity="+Oe*100+")":w[A].style[E(Ne)]=Oe}},C,ke])}return J.tween=B,J.getStyle=ee,J.bezier=le,J.transform=z,J.parseTransform=v,J.formatTransform=f,J.easings={},J}();class It{show(e){e||(this._el.container.style.display="block")}hide(e){this._el.container.style.display="none"}addTo(e){e.appendChild(this._el.container),this.onAdd()}removeFrom(e){e.removeChild(this._el.container),this.onRemove()}animatePosition(e,i){var a={duration:this.options.duration,easing:this.options.ease};for(var s in e)e.hasOwnProperty(s)&&(a[s]=e[s]+"px");this.animator&&this.animator.stop(),this.animator=Ot(i,a)}onLoaded(){this.fire("loaded",this.data)}onAdd(){this.fire("added",this.data)}onRemove(){this.fire("removed",this.data)}setPosition(e,i){for(var a in e)e.hasOwnProperty(a)&&(i?i.style[a]=e[a]+"px":this._el.container.style[a]=e[a]+"px")}getPosition(){return ts(this._el.container)}}class Lo{constructor(e,i,a){this._el={drag:e,move:e},this.mousedrag={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},this.touchdrag={down:"touchstart",up:"touchend",leave:"mouseleave",move:"touchmove"},a&&(this._el.move=a),this.options={enable:{x:!0,y:!0},constraint:{top:!1,bottom:!1,left:!1,right:!1},momentum_multiplier:2e3,duration:1e3,ease:vi},this.animator=null,this.dragevent=this.mousedrag,_t&&(this.dragevent=this.touchdrag),this.data={sliding:!1,direction:"none",pagex:{start:0,end:0},pagey:{start:0,end:0},pos:{start:{x:0,y:0},end:{x:0,y:0}},new_pos:{x:0,y:0},new_pos_parent:{x:0,y:0},time:{start:0,end:0},touch:!1},fe(this.options,i)}enable(e){this.data.pos.start=0,this._el.move.style.left=this.data.pos.start.x+"px",this._el.move.style.top=this.data.pos.start.y+"px",this._el.move.style.position="absolute"}disable(){Q.removeListener(this._el.drag,this.dragevent.down,this._onDragStart,this),Q.removeListener(this._el.drag,this.dragevent.up,this._onDragEnd,this)}stopMomentum(){this.animator&&this.animator.stop()}updateConstraint(e){this.options.constraint=e}_onDragStart(e){_t?e.originalEvent?(this.data.pagex.start=e.originalEvent.touches[0].screenX,this.data.pagey.start=e.originalEvent.touches[0].screenY):(this.data.pagex.start=e.targetTouches[0].screenX,this.data.pagey.start=e.targetTouches[0].screenY):(this.data.pagex.start=e.pageX,this.data.pagey.start=e.pageY),this.options.enable.x&&(this._el.move.style.left=this.data.pagex.start-this._el.move.offsetWidth/2+"px"),this.options.enable.y&&(this._el.move.style.top=this.data.pagey.start-this._el.move.offsetHeight/2+"px"),this.data.pos.start=ts(this._el.drag),this.data.time.start=new Date().getTime(),this.fire("dragstart",this.data),Q.addListener(this._el.drag,this.dragevent.move,this._onDragMove,this),Q.addListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this)}_onDragEnd(e){this.data.sliding=!1,Q.removeListener(this._el.drag,this.dragevent.move,this._onDragMove,this),Q.removeListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this),this.fire("dragend",this.data),this._momentum()}_onDragMove(e){e.preventDefault(),this.data.sliding=!0,_t?e.originalEvent?(this.data.pagex.end=e.originalEvent.touches[0].screenX,this.data.pagey.end=e.originalEvent.touches[0].screenY):(this.data.pagex.end=e.targetTouches[0].screenX,this.data.pagey.end=e.targetTouches[0].screenY):(this.data.pagex.end=e.pageX,this.data.pagey.end=e.pageY),this.data.pos.end=ts(this._el.drag),this.data.new_pos.x=-(this.data.pagex.start-this.data.pagex.end-this.data.pos.start.x),this.data.new_pos.y=-(this.data.pagey.start-this.data.pagey.end-this.data.pos.start.y),this.options.enable.x&&(this._el.move.style.left=this.data.new_pos.x+"px"),this.options.enable.y&&(this._el.move.style.top=this.data.new_pos.y+"px"),this.fire("dragmove",this.data)}_momentum(){var e={x:0,y:0,time:0},i={x:0,y:0,time:0},a=!1;e.time=(new Date().getTime()-this.data.time.start)*10,i.time=(new Date().getTime()-this.data.time.start)*10,i.x=this.options.momentum_multiplier*(Math.abs(this.data.pagex.end)-Math.abs(this.data.pagex.start)),i.y=this.options.momentum_multiplier*(Math.abs(this.data.pagey.end)-Math.abs(this.data.pagey.start)),e.x=Math.round(i.x/i.time),e.y=Math.round(i.y/i.time),this.data.new_pos.x=Math.min(this.data.pos.end.x+e.x),this.data.new_pos.y=Math.min(this.data.pos.end.y+e.y),this.options.enable.x?this.data.new_pos.x<0&&(this.data.new_pos.x=0):this.data.new_pos.x=this.data.pos.start.x,this.options.enable.y?this.data.new_pos.y<0&&(this.data.new_pos.y=0):this.data.new_pos.y=this.data.pos.start.y,i.time<3e3&&(a=!0),Math.abs(i.x)>1e4&&(this.data.direction="left",i.x>0&&(this.data.direction="right")),Math.abs(i.y)>1e4&&(this.data.direction="up",i.y>0&&(this.data.direction="down")),this._animateMomentum(),a&&this.fire("swipe_"+this.data.direction,this.data)}_animateMomentum(){var e={x:this.data.new_pos.x,y:this.data.new_pos.y},i={duration:this.options.duration,easing:Ai};this.options.enable.y&&((this.options.constraint.top||this.options.constraint.bottom)&&(e.y>this.options.constraint.bottom?e.y=this.options.constraint.bottom:e.y<this.options.constraint.top&&(e.y=this.options.constraint.top)),i.top=Math.floor(e.y)+"px"),this.options.enable.x&&((this.options.constraint.left||this.options.constraint.right)&&(e.x>this.options.constraint.left?e.x=this.options.constraint.left:e.x<this.options.constraint.right&&(e.x=this.options.constraint.right)),i.left=Math.floor(e.x)+"px"),this.animator=Ot(this._el.move,i),this.fire("momentum",this.data)}}qe(Be);var Q={addListener:function(t,e,i,a){var s=rn(i),r="_tl_"+e+s;if(!t[r]){var l=function(p){return i.call(a||t,p||Q._getEvent())};if(_t&&e==="dblclick"&&this.addDoubleTapListener)this.addDoubleTapListener(t,l,s);else if("addEventListener"in t)if(e==="mousewheel")t.addEventListener("DOMMouseScroll",l,!1),t.addEventListener(e,l,!1);else if(e==="mouseenter"||e==="mouseleave"){var h=l,m=e==="mouseenter"?"mouseover":"mouseout";l=function(p){if(Q._checkMouse(t,p))return h(p)},t.addEventListener(m,l,!1)}else t.addEventListener(e,l,!1);else"attachEvent"in t&&t.attachEvent("on"+e,l);t[r]=l}},removeListener:function(t,e,i){var a=rn(i),s="_tl_"+e+a,r=t[s];r&&(_t&&e==="dblclick"&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,a):"removeEventListener"in t?e==="mousewheel"?(t.removeEventListener("DOMMouseScroll",r,!1),t.removeEventListener(e,r,!1)):e==="mouseenter"||e==="mouseleave"?t.removeEventListener(e==="mouseenter"?"mouseover":"mouseout",r,!1):t.removeEventListener(e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r),t[s]=null)},_checkMouse:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch{return!1}return i!==t},_getEvent:function(){var t=window.event;if(!t)for(var e=arguments.callee.caller;e&&(t=e.arguments[0],!(t&&window.Event===t.constructor));)e=e.caller;return t},stopPropagation:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},disableClickPropagation:function(t){Q.addListener(t,Lo.START,Q.stopPropagation),Q.addListener(t,"click",Q.stopPropagation),Q.addListener(t,"dblclick",Q.stopPropagation)},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},stop:function(t){Q.preventDefault(t),Q.stopPropagation(t)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e}},Rt=function(){var t,e,i,a,s=[],r=s.slice,l=s.filter,h=window.document,m={},p={},y={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},_=/^\s*<(\w+|!)[^>]*>/,L=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,I=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,H=/^(?:body|html)$/i,V=/([A-Z])/g,z=["val","css","html","text","data","width","height","offset"],ie=["after","prepend","before","append"],ee=h.createElement("table"),te=h.createElement("tr"),G={tr:h.createElement("tbody"),tbody:ee,thead:ee,tfoot:ee,td:te,th:te,"*":h.createElement("div")},xe=/complete|loaded|interactive/,Ce=/^[\w-]*$/,Se={},st=Se.toString,v={},f,c,x=h.createElement("div"),E={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},N=Array.isArray||function(o){return o instanceof Array};v.matches=function(o,d){if(!d||!o||o.nodeType!==1)return!1;var g=o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.matchesSelector;if(g)return g.call(o,d);var M,j=o.parentNode,Z=!j;return Z&&(j=x).appendChild(o),M=~v.qsa(j,d).indexOf(o),Z&&x.removeChild(o),M};function q(o){return o==null?String(o):Se[st.call(o)]||"object"}function B(o){return q(o)=="function"}function le(o){return o!=null&&o==o.window}function ae(o){return o!=null&&o.nodeType==o.DOCUMENT_NODE}function F(o){return q(o)=="object"}function ce(o){return F(o)&&!le(o)&&Object.getPrototypeOf(o)==Object.prototype}function J(o){return typeof o.length=="number"}function b(o){return l.call(o,function(d){return d!=null})}function T(o){return o.length>0?i.fn.concat.apply([],o):o}f=function(o){return o.replace(/-+(.)?/g,function(d,g){return g?g.toUpperCase():""})};function w(o){return o.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}c=function(o){return l.call(o,function(d,g){return o.indexOf(d)==g})};function A(o){return o in p?p[o]:p[o]=new RegExp("(^|\\s)"+o+"(\\s|$)")}function C(o,d){return typeof d=="number"&&!y[w(o)]?d+"px":d}function $(o){var d,g;return m[o]||(d=h.createElement(o),h.body.appendChild(d),g=getComputedStyle(d,"").getPropertyValue("display"),d.parentNode.removeChild(d),g=="none"&&(g="block"),m[o]=g),m[o]}function ke(o){return"children"in o?r.call(o.children):i.map(o.childNodes,function(d){if(d.nodeType==1)return d})}v.fragment=function(o,d,g){var M,j,Z;return L.test(o)&&(M=i(h.createElement(RegExp.$1))),M||(o.replace&&(o=o.replace(I,"<$1></$2>")),d===t&&(d=_.test(o)&&RegExp.$1),d in G||(d="*"),Z=G[d],Z.innerHTML=""+o,M=i.each(r.call(Z.childNodes),function(){Z.removeChild(this)})),ce(g)&&(j=i(M),i.each(g,function(pe,De){z.indexOf(pe)>-1?j[pe](De):j.attr(pe,De)})),M},v.Z=function(o,d){return o=o||[],o.__proto__=i.fn,o.selector=d||"",o},v.isZ=function(o){return o instanceof v.Z},v.init=function(o,d){var g;if(o)if(typeof o=="string")if(o=o.trim(),o[0]=="<"&&_.test(o))g=v.fragment(o,RegExp.$1,d),o=null;else{if(d!==t)return i(d).find(o);g=v.qsa(h,o)}else{if(B(o))return i(h).ready(o);if(v.isZ(o))return o;if(N(o))g=b(o);else if(F(o))g=[o],o=null;else if(_.test(o))g=v.fragment(o.trim(),RegExp.$1,d),o=null;else{if(d!==t)return i(d).find(o);g=v.qsa(h,o)}}else return v.Z();return v.Z(g,o)},i=function(o,d){return v.init(o,d)};function we(o,d,g){for(e in d)g&&(ce(d[e])||N(d[e]))?(ce(d[e])&&!ce(o[e])&&(o[e]={}),N(d[e])&&!N(o[e])&&(o[e]=[]),we(o[e],d[e],g)):d[e]!==t&&(o[e]=d[e])}i.extend=function(o){var d,g=r.call(arguments,1);return typeof o=="boolean"&&(d=o,o=g.shift()),g.forEach(function(M){we(o,M,d)}),o},v.qsa=function(o,d){var g,M=d[0]=="#",j=!M&&d[0]==".",Z=M||j?d.slice(1):d,pe=Ce.test(Z);return ae(o)&&pe&&M?(g=o.getElementById(Z))?[g]:[]:o.nodeType!==1&&o.nodeType!==9?[]:r.call(pe&&!M?j?o.getElementsByClassName(Z):o.getElementsByTagName(d):o.querySelectorAll(d))};function Ue(o,d){return d==null?i(o):i(o).filter(d)}i.contains=function(o,d){return o!==d&&o.contains(d)};function Le(o,d,g,M){return B(d)?d.call(o,g,M):d}function Ve(o,d,g){g==null?o.removeAttribute(d):o.setAttribute(d,g)}function Te(o,d){var g=o.className,M=g&&g.baseVal!==t;if(d===t)return M?g.baseVal:g;M?g.baseVal=d:o.className=d}function Ae(o){var d;try{return o&&(o=="true"||(o=="false"?!1:o=="null"?null:!/^0/.test(o)&&!isNaN(d=Number(o))?d:/^[\[\{]/.test(o)?i.parseJSON(o):o))}catch{return o}}i.type=q,i.isFunction=B,i.isWindow=le,i.isArray=N,i.isPlainObject=ce,i.isEmptyObject=function(o){var d;for(d in o)return!1;return!0},i.inArray=function(o,d,g){return s.indexOf.call(d,o,g)},i.camelCase=f,i.trim=function(o){return o==null?"":String.prototype.trim.call(o)},i.uuid=0,i.support={},i.expr={},i.map=function(o,d){var g,M=[],j,Z;if(J(o))for(j=0;j<o.length;j++)g=d(o[j],j),g!=null&&M.push(g);else for(Z in o)g=d(o[Z],Z),g!=null&&M.push(g);return T(M)},i.each=function(o,d){var g,M;if(J(o)){for(g=0;g<o.length;g++)if(d.call(o[g],g,o[g])===!1)return o}else for(M in o)if(d.call(o[M],M,o[M])===!1)return o;return o},i.grep=function(o,d){return l.call(o,d)},window.JSON&&(i.parseJSON=JSON.parse),i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(o,d){Se["[object "+d+"]"]=d.toLowerCase()}),i.fn={forEach:s.forEach,reduce:s.reduce,push:s.push,sort:s.sort,indexOf:s.indexOf,concat:s.concat,map:function(o){return i(i.map(this,function(d,g){return o.call(d,g,d)}))},slice:function(){return i(r.apply(this,arguments))},ready:function(o){return xe.test(h.readyState)&&h.body?o(i):h.addEventListener("DOMContentLoaded",function(){o(i)},!1),this},get:function(o){return o===t?r.call(this):this[o>=0?o:o+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){this.parentNode!=null&&this.parentNode.removeChild(this)})},each:function(o){return s.every.call(this,function(d,g){return o.call(d,g,d)!==!1}),this},filter:function(o){return B(o)?this.not(this.not(o)):i(l.call(this,function(d){return v.matches(d,o)}))},add:function(o,d){return i(c(this.concat(i(o,d))))},is:function(o){return this.length>0&&v.matches(this[0],o)},not:function(o){var d=[];if(B(o)&&o.call!==t)this.each(function(M){o.call(this,M)||d.push(this)});else{var g=typeof o=="string"?this.filter(o):J(o)&&B(o.item)?r.call(o):i(o);this.forEach(function(M){g.indexOf(M)<0&&d.push(M)})}return i(d)},has:function(o){return this.filter(function(){return F(o)?i.contains(this,o):i(this).find(o).size()})},eq:function(o){return o===-1?this.slice(o):this.slice(o,+o+1)},first:function(){var o=this[0];return o&&!F(o)?o:i(o)},last:function(){var o=this[this.length-1];return o&&!F(o)?o:i(o)},find:function(o){var d,g=this;return typeof o=="object"?d=i(o).filter(function(){var M=this;return s.some.call(g,function(j){return i.contains(j,M)})}):this.length==1?d=i(v.qsa(this[0],o)):d=this.map(function(){return v.qsa(this,o)}),d},closest:function(o,d){var g=this[0],M=!1;for(typeof o=="object"&&(M=i(o));g&&!(M?M.indexOf(g)>=0:v.matches(g,o));)g=g!==d&&!ae(g)&&g.parentNode;return i(g)},parents:function(o){for(var d=[],g=this;g.length>0;)g=i.map(g,function(M){if((M=M.parentNode)&&!ae(M)&&d.indexOf(M)<0)return d.push(M),M});return Ue(d,o)},parent:function(o){return Ue(c(this.pluck("parentNode")),o)},children:function(o){return Ue(this.map(function(){return ke(this)}),o)},contents:function(){return this.map(function(){return r.call(this.childNodes)})},siblings:function(o){return Ue(this.map(function(d,g){return l.call(ke(g.parentNode),function(M){return M!==g})}),o)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(o){return i.map(this,function(d){return d[o]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=""),getComputedStyle(this,"").getPropertyValue("display")=="none"&&(this.style.display=$(this.nodeName))})},replaceWith:function(o){return this.before(o).remove()},wrap:function(o){var d=B(o);if(this[0]&&!d)var g=i(o).get(0),M=g.parentNode||this.length>1;return this.each(function(j){i(this).wrapAll(d?o.call(this,j):M?g.cloneNode(!0):g)})},wrapAll:function(o){if(this[0]){i(this[0]).before(o=i(o));for(var d;(d=o.children()).length;)o=d.first();i(o).append(this)}return this},wrapInner:function(o){var d=B(o);return this.each(function(g){var M=i(this),j=M.contents(),Z=d?o.call(this,g):o;j.length?j.wrapAll(Z):M.append(Z)})},unwrap:function(){return this.parent().each(function(){i(this).replaceWith(i(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(o){return this.each(function(){var d=i(this);(o===t?d.css("display")=="none":o)?d.show():d.hide()})},prev:function(o){return i(this.pluck("previousElementSibling")).filter(o||"*")},next:function(o){return i(this.pluck("nextElementSibling")).filter(o||"*")},html:function(o){return arguments.length===0?this.length>0?this[0].innerHTML:null:this.each(function(d){var g=this.innerHTML;i(this).empty().append(Le(this,o,d,g))})},text:function(o){return arguments.length===0?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=o===t?"":""+o})},attr:function(o,d){var g;return typeof o=="string"&&d===t?this.length==0||this[0].nodeType!==1?t:o=="value"&&this[0].nodeName=="INPUT"?this.val():!(g=this[0].getAttribute(o))&&o in this[0]?this[0][o]:g:this.each(function(M){if(this.nodeType===1)if(F(o))for(e in o)Ve(this,e,o[e]);else Ve(this,o,Le(this,d,M,this.getAttribute(o)))})},removeAttr:function(o){return this.each(function(){this.nodeType===1&&Ve(this,o)})},prop:function(o,d){return o=E[o]||o,d===t?this[0]&&this[0][o]:this.each(function(g){this[o]=Le(this,d,g,this[o])})},data:function(o,d){var g=this.attr("data-"+o.replace(V,"-$1").toLowerCase(),d);return g!==null?Ae(g):t},val:function(o){return arguments.length===0?this[0]&&(this[0].multiple?i(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(d){this.value=Le(this,o,d,this.value)})},offset:function(o){if(o)return this.each(function(g){var M=i(this),j=Le(this,o,g,M.offset()),Z=M.offsetParent().offset(),pe={top:j.top-Z.top,left:j.left-Z.left};M.css("position")=="static"&&(pe.position="relative"),M.css(pe)});if(this.length==0)return null;var d=this[0].getBoundingClientRect();return{left:d.left+window.pageXOffset,top:d.top+window.pageYOffset,width:Math.round(d.width),height:Math.round(d.height)}},css:function(o,d){if(arguments.length<2){var g=this[0],M=getComputedStyle(g,"");if(!g)return;if(typeof o=="string")return g.style[f(o)]||M.getPropertyValue(o);if(N(o)){var j={};return i.each(N(o)?o:[o],function(pe,De){j[De]=g.style[f(De)]||M.getPropertyValue(De)}),j}}var Z="";if(q(o)=="string")!d&&d!==0?this.each(function(){this.style.removeProperty(w(o))}):Z=w(o)+":"+C(o,d);else for(e in o)!o[e]&&o[e]!==0?this.each(function(){this.style.removeProperty(w(e))}):Z+=w(e)+":"+C(e,o[e])+";";return this.each(function(){this.style.cssText+=";"+Z})},index:function(o){return o?this.indexOf(i(o)[0]):this.parent().children().indexOf(this[0])},hasClass:function(o){return o?s.some.call(this,function(d){return this.test(Te(d))},A(o)):!1},addClass:function(o){return o?this.each(function(d){a=[];var g=Te(this),M=Le(this,o,d,g);M.split(/\s+/g).forEach(function(j){i(this).hasClass(j)||a.push(j)},this),a.length&&Te(this,g+(g?" ":"")+a.join(" "))}):this},removeClass:function(o){return this.each(function(d){if(o===t)return Te(this,"");a=Te(this),Le(this,o,d,a).split(/\s+/g).forEach(function(g){a=a.replace(A(g)," ")}),Te(this,a.trim())})},toggleClass:function(o,d){return o?this.each(function(g){var M=i(this),j=Le(this,o,g,Te(this));j.split(/\s+/g).forEach(function(Z){(d===t?!M.hasClass(Z):d)?M.addClass(Z):M.removeClass(Z)})}):this},scrollTop:function(o){if(this.length){var d="scrollTop"in this[0];return o===t?d?this[0].scrollTop:this[0].pageYOffset:this.each(d?function(){this.scrollTop=o}:function(){this.scrollTo(this.scrollX,o)})}},scrollLeft:function(o){if(this.length){var d="scrollLeft"in this[0];return o===t?d?this[0].scrollLeft:this[0].pageXOffset:this.each(d?function(){this.scrollLeft=o}:function(){this.scrollTo(o,this.scrollY)})}},position:function(){if(this.length){var o=this[0],d=this.offsetParent(),g=this.offset(),M=H.test(d[0].nodeName)?{top:0,left:0}:d.offset();return g.top-=parseFloat(i(o).css("margin-top"))||0,g.left-=parseFloat(i(o).css("margin-left"))||0,M.top+=parseFloat(i(d[0]).css("border-top-width"))||0,M.left+=parseFloat(i(d[0]).css("border-left-width"))||0,{top:g.top-M.top,left:g.left-M.left}}},offsetParent:function(){return this.map(function(){for(var o=this.offsetParent||h.body;o&&!H.test(o.nodeName)&&i(o).css("position")=="static";)o=o.offsetParent;return o})}},i.fn.detach=i.fn.remove,["width","height"].forEach(function(o){var d=o.replace(/./,function(g){return g[0].toUpperCase()});i.fn[o]=function(g){var M,j=this[0];return g===t?le(j)?j["inner"+d]:ae(j)?j.documentElement["scroll"+d]:(M=this.offset())&&M[o]:this.each(function(Z){j=i(this),j.css(o,Le(this,g,Z,j[o]()))})}});function Fe(o,d){d(o);for(var g in o.childNodes)Fe(o.childNodes[g],d)}return ie.forEach(function(o,d){var g=d%2;i.fn[o]=function(){var M,j=i.map(arguments,function(De){return M=q(De),M=="object"||M=="array"||De==null?De:v.fragment(De)}),Z,pe=this.length>1;return j.length<1?this:this.each(function(De,Oe){Z=g?Oe:Oe.parentNode,Oe=d==0?Oe.nextSibling:d==1?Oe.firstChild:d==2?Oe:null,j.forEach(function(ze){if(pe)ze=ze.cloneNode(!0);else if(!Z)return i(ze).remove();Fe(Z.insertBefore(ze,Oe),function(Ne){Ne.nodeName!=null&&Ne.nodeName.toUpperCase()==="SCRIPT"&&(!Ne.type||Ne.type==="text/javascript")&&!Ne.src&&window.eval.call(window,Ne.innerHTML)})})})},i.fn[g?o+"To":"insert"+(d?"Before":"After")]=function(M){return i(M)[o](this),this}}),v.Z.prototype=i.fn,v.uniq=c,v.deserializeValue=Ae,i.zepto=v,i}();window.Zepto=Rt;window.$===void 0&&(window.$=Rt);(function(t){t.zepto.qsa;var e=1,i,a=Array.prototype.slice,s=t.isFunction,r=function(v){return typeof v=="string"},l={},h={},m="onfocusin"in window,p={focus:"focusin",blur:"focusout"},y={mouseenter:"mouseover",mouseleave:"mouseout"};h.click=h.mousedown=h.mouseup=h.mousemove="MouseEvents";function _(v){return v._zid||(v._zid=e++)}function L(v,f,c,x){if(f=I(f),f.ns)var E=H(f.ns);return(l[_(v)]||[]).filter(function(N){return N&&(!f.e||N.e==f.e)&&(!f.ns||E.test(N.ns))&&(!c||_(N.fn)===_(c))&&(!x||N.sel==x)})}function I(v){var f=(""+v).split(".");return{e:f[0],ns:f.slice(1).sort().join(" ")}}function H(v){return new RegExp("(?:^| )"+v.replace(" "," .* ?")+"(?: |$)")}function V(v,f){return v.del&&!m&&v.e in p||!!f}function z(v){return y[v]||m&&p[v]||v}function ie(v,f,c,x,E,N,q){var B=_(v),le=l[B]||(l[B]=[]);f.split(/\s/).forEach(function(ae){if(ae=="ready")return t(document).ready(c);var F=I(ae);F.fn=c,F.sel=E,F.e in y&&(c=function(J){var b=J.relatedTarget;if(!b||b!==this&&!t.contains(this,b))return F.fn.apply(this,arguments)}),F.del=N;var ce=N||c;F.proxy=function(J){if(J=Se(J),!J.isImmediatePropagationStopped()){J.data=x;var b=ce.apply(v,J._args==i?[J]:[J].concat(J._args));return b===!1&&(J.preventDefault(),J.stopPropagation()),b}},F.i=le.length,le.push(F),"addEventListener"in v&&v.addEventListener(z(F.e),F.proxy,V(F,q))})}function ee(v,f,c,x,E){var N=_(v);(f||"").split(/\s/).forEach(function(q){L(v,q,c,x).forEach(function(B){delete l[N][B.i],"removeEventListener"in v&&v.removeEventListener(z(B.e),B.proxy,V(B,E))})})}t.event={add:ie,remove:ee},t.proxy=function(v,f){if(s(v)){var c=function(){return v.apply(f,arguments)};return c._zid=_(v),c}else{if(r(f))return t.proxy(v[f],v);throw new TypeError("expected function")}},t.fn.bind=function(v,f,c){return this.on(v,f,c)},t.fn.unbind=function(v,f){return this.off(v,f)},t.fn.one=function(v,f,c,x){return this.on(v,f,c,x,1)};var te=function(){return!0},G=function(){return!1},xe=/^([A-Z]|returnValue$|layer[XY]$)/,Ce={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function Se(v,f){return(f||!v.isDefaultPrevented)&&(f||(f=v),t.each(Ce,function(c,x){var E=f[c];v[c]=function(){return this[x]=te,E&&E.apply(f,arguments)},v[x]=G}),(f.defaultPrevented!==i?f.defaultPrevented:"returnValue"in f?f.returnValue===!1:f.getPreventDefault&&f.getPreventDefault())&&(v.isDefaultPrevented=te)),v}function st(v){var f,c={originalEvent:v};for(f in v)!xe.test(f)&&v[f]!==i&&(c[f]=v[f]);return Se(c,v)}t.fn.delegate=function(v,f,c){return this.on(f,v,c)},t.fn.undelegate=function(v,f,c){return this.off(f,v,c)},t.fn.live=function(v,f){return t(document.body).delegate(this.selector,v,f),this},t.fn.die=function(v,f){return t(document.body).undelegate(this.selector,v,f),this},t.fn.on=function(v,f,c,x,E){var N,q,B=this;return v&&!r(v)?(t.each(v,function(le,ae){B.on(le,f,c,ae,E)}),B):(!r(f)&&!s(x)&&x!==!1&&(x=c,c=f,f=i),(s(c)||c===!1)&&(x=c,c=i),x===!1&&(x=G),B.each(function(le,ae){E&&(N=function(F){return ee(ae,F.type,x),x.apply(this,arguments)}),f&&(q=function(F){var ce,J=t(F.target).closest(f,ae).get(0);if(J&&J!==ae)return ce=t.extend(st(F),{currentTarget:J,liveFired:ae}),(N||x).apply(J,[ce].concat(a.call(arguments,1)))}),ie(ae,v,x,c,f,q||N)}))},t.fn.off=function(v,f,c){var x=this;return v&&!r(v)?(t.each(v,function(E,N){x.off(E,f,N)}),x):(!r(f)&&!s(c)&&c!==!1&&(c=f,f=i),c===!1&&(c=G),x.each(function(){ee(this,v,c,f)}))},t.fn.trigger=function(v,f){return v=r(v)||t.isPlainObject(v)?t.Event(v):Se(v),v._args=f,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(v):t(this).triggerHandler(v,f)})},t.fn.triggerHandler=function(v,f){var c,x;return this.each(function(E,N){c=st(r(v)?t.Event(v):v),c._args=f,c.target=N,t.each(L(N,v.type||v),function(q,B){if(x=B.proxy(c),c.isImmediatePropagationStopped())return!1})}),x},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(v){t.fn[v]=function(f){return f?this.bind(v,f):this.trigger(v)}}),["focus","blur"].forEach(function(v){t.fn[v]=function(f){return f?this.bind(v,f):this.each(function(){try{this[v]()}catch{}}),this}}),t.Event=function(v,f){r(v)||(f=v,v=f.type);var c=document.createEvent(h[v]||"Events"),x=!0;if(f)for(var E in f)E=="bubbles"?x=!!f[E]:c[E]=f[E];return c.initEvent(v,x,!0),Se(c)}})(Rt);(function(t){var e=0,i=window.document,a,s,r=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,l=/^(?:text|application)\/javascript/i,h=/^(?:text|application)\/xml/i,m="application/json",p="text/html",y=/^\s*$/;function _(f,c,x){var E=t.Event(c);return t(f).trigger(E,x),!E.isDefaultPrevented()}function L(f,c,x,E){if(f.global)return _(c||i,x,E)}t.active=0;function I(f){f.global&&t.active++===0&&L(f,null,"ajaxStart")}function H(f){f.global&&!--t.active&&L(f,null,"ajaxStop")}function V(f,c){var x=c.context;if(c.beforeSend.call(x,f,c)===!1||L(c,x,"ajaxBeforeSend",[f,c])===!1)return!1;L(c,x,"ajaxSend",[f,c])}function z(f,c,x,E){var N=x.context,q="success";x.success.call(N,f,q,c),E&&E.resolveWith(N,[f,q,c]),L(x,N,"ajaxSuccess",[c,x,f]),ee(q,c,x)}function ie(f,c,x,E,N){var q=E.context;E.error.call(q,x,c,f),N&&N.rejectWith(q,[x,c,f]),L(E,q,"ajaxError",[x,E,f||c]),ee(c,x,E)}function ee(f,c,x){var E=x.context;x.complete.call(E,c,f),L(x,E,"ajaxComplete",[c,x]),H(x)}function te(){}t.ajaxJSONP=function(f,c){if(!("type"in f))return t.ajax(f);var x=f.jsonpCallback,E=(t.isFunction(x)?x():x)||"jsonp"+ ++e,N=i.createElement("script"),q=window[E],B,le=function(ce){t(N).triggerHandler("error",ce||"abort")},ae={abort:le},F;return c&&c.promise(ae),t(N).on("load error",function(ce,J){clearTimeout(F),t(N).off().remove(),ce.type=="error"||!B?ie(null,J||"error",ae,f,c):z(B[0],ae,f,c),window[E]=q,B&&t.isFunction(q)&&q(B[0]),q=B=void 0}),V(ae,f)===!1?(le("abort"),ae):(window[E]=function(){B=arguments},N.src=f.url.replace(/\?(.+)=\?/,"?$1="+E),i.head.appendChild(N),f.timeout>0&&(F=setTimeout(function(){le("timeout")},f.timeout)),ae)},t.ajaxSettings={type:"GET",beforeSend:te,success:te,error:te,complete:te,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:m,xml:"application/xml, text/xml",html:p,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0};function G(f){return f&&(f=f.split(";",2)[0]),f&&(f==p?"html":f==m?"json":l.test(f)?"script":h.test(f)&&"xml")||"text"}function xe(f,c){return c==""?f:(f+"&"+c).replace(/[&?]{1,2}/,"?")}function Ce(f){f.processData&&f.data&&t.type(f.data)!="string"&&(f.data=t.param(f.data,f.traditional)),f.data&&(!f.type||f.type.toUpperCase()=="GET")&&(f.url=xe(f.url,f.data),f.data=void 0)}t.ajax=function(f){var c=t.extend({},f||{}),x=t.Deferred&&t.Deferred();for(a in t.ajaxSettings)c[a]===void 0&&(c[a]=t.ajaxSettings[a]);I(c),c.crossDomain||(c.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(c.url)&&RegExp.$2!=window.location.host),c.url||(c.url=window.location.toString()),Ce(c),c.cache===!1&&(c.url=xe(c.url,"_="+Date.now()));var E=c.dataType,N=/\?.+=\?/.test(c.url);if(E=="jsonp"||N)return N||(c.url=xe(c.url,c.jsonp?c.jsonp+"=?":c.jsonp===!1?"":"callback=?")),t.ajaxJSONP(c,x);var q=c.accepts[E],B={},le=function(T,w){B[T.toLowerCase()]=[T,w]},ae=/^([\w-]+:)\/\//.test(c.url)?RegExp.$1:window.location.protocol,F=c.xhr(),ce=F.setRequestHeader,J;if(x&&x.promise(F),c.crossDomain||le("X-Requested-With","XMLHttpRequest"),le("Accept",q||"*/*"),(q=c.mimeType||q)&&(q.indexOf(",")>-1&&(q=q.split(",",2)[0]),F.overrideMimeType&&F.overrideMimeType(q)),(c.contentType||c.contentType!==!1&&c.data&&c.type.toUpperCase()!="GET")&&le("Content-Type",c.contentType||"application/x-www-form-urlencoded"),c.headers)for(s in c.headers)le(s,c.headers[s]);if(F.setRequestHeader=le,F.onreadystatechange=function(){if(F.readyState==4){F.onreadystatechange=te,clearTimeout(J);var T,w=!1;if(F.status>=200&&F.status<300||F.status==304||F.status==0&&ae=="file:"){E=E||G(c.mimeType||F.getResponseHeader("content-type")),T=F.responseText;try{E=="script"?(0,eval)(T):E=="xml"?T=F.responseXML:E=="json"&&(T=y.test(T)?null:t.parseJSON(T))}catch(A){w=A}w?ie(w,"parsererror",F,c,x):z(T,F,c,x)}else ie(F.statusText||null,F.status?"error":"abort",F,c,x)}},V(F,c)===!1)return F.abort(),ie(null,"abort",F,c,x),F;if(c.xhrFields)for(s in c.xhrFields)F[s]=c.xhrFields[s];var b="async"in c?c.async:!0;F.open(c.type,c.url,b,c.username,c.password);for(s in B)ce.apply(F,B[s]);return c.timeout>0&&(J=setTimeout(function(){F.onreadystatechange=te,F.abort(),ie(null,"timeout",F,c,x)},c.timeout)),F.send(c.data?c.data:null),F};function Se(f,c,x,E){var N=!t.isFunction(c);return{url:f,data:N?c:void 0,success:N?t.isFunction(x)?x:void 0:c,dataType:N&&E||x}}t.get=function(f,c,x,E){return t.ajax(Se.apply(null,arguments))},t.post=function(f,c,x,E){var N=Se.apply(null,arguments);return N.type="POST",t.ajax(N)},t.getJSON=function(f,c,x){var E=Se.apply(null,arguments);return E.dataType="json",t.ajax(E)},t.fetchJSON=function(f){var c=new XMLHttpRequest;return new Promise(function(x,E){c.onreadystatechange=function(){try{if(c.readyState!==4)return;if(c.status>=200&&c.status<300){var N=JSON.parse(c.responseText);x(N)}else E({status:c.status,statusText:c.statusText})}catch(q){E({status:400,statusText:`Error fetching JSON from ${f}: ${q}`})}},c.open("GET",f,!0),c.send()})},t.fn.load=function(f,c,x){if(!this.length)return this;var E=this,N=f.split(/\s/),q,B=Se(f,c,x),le=B.success;return N.length>1&&(B.url=N[0],q=N[1]),B.success=function(ae){E.html(q?t("<div>").html(ae.replace(r,"")).find(q):ae),le&&le.apply(E,arguments)},t.ajax(B),this};var st=encodeURIComponent;function v(f,c,x,E){var N,q=t.isArray(c),B=t.isPlainObject(c);t.each(c,function(le,ae){N=t.type(ae),E&&(le=x?E:E+"["+(B||N=="object"||N=="array"?le:"")+"]"),!E&&q?f.add(ae.name,ae.value):N=="array"||!x&&N=="object"?v(f,ae,x,le):f.add(le,ae)})}t.param=function(f,c){var x=[];return x.add=function(E,N){this.push(st(E)+"="+st(N))},v(x,f,c),x.join("&").replace(/%20/g,"+")}})(Rt);(function(t){t.fn.serializeArray=function(){var e=[],i;return t([].slice.call(this.get(0).elements)).each(function(){i=t(this);var a=i.attr("type");this.nodeName.toLowerCase()!="fieldset"&&!this.disabled&&a!="submit"&&a!="reset"&&a!="button"&&(a!="radio"&&a!="checkbox"||this.checked)&&e.push({name:i.attr("name"),value:i.val()})}),e},t.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(i){e.push(encodeURIComponent(i.name)+"="+encodeURIComponent(i.value))}),e.join("&")},t.fn.submit=function(e){if(e)this.bind("submit",e);else if(this.length){var i=t.Event("submit");this.eq(0).trigger(i),i.isDefaultPrevented()||this.get(0).submit()}return this}})(Rt);(function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(i,a){return i=i||[],t.extend(i,t.fn),i.selector=a||"",i.__Z=!0,i},isZ:function(i){return t.type(i)==="array"&&"__Z"in i}});try{getComputedStyle(void 0)}catch{var e=getComputedStyle;window.getComputedStyle=function(a,s){try{return e(a,s)}catch{return null}}}})(Rt);const na=Rt.getJSON,wi=Rt.ajax,pa=Rt.fetchJSON,ct=[["millisecond",1,function(t){}],["second",1e3,function(t){t.setMilliseconds(0)}],["minute",1e3*60,function(t){t.setSeconds(0)}],["hour",1e3*60*60,function(t){t.setMinutes(0)}],["day",1e3*60*60*24,function(t){t.setHours(0)}],["month",1e3*60*60*24*30,function(t){t.setDate(1)}],["year",1e3*60*60*24*365,function(t){t.setMonth(0)}],["decade",1e3*60*60*24*365*10,function(t){var e=t.getFullYear();t.setFullYear(e-e%10)}],["century",1e3*60*60*24*365*100,function(t){var e=t.getFullYear();t.setFullYear(e-e%100)}],["millennium",1e3*60*60*24*365*1e3,function(t){var e=t.getFullYear();t.setFullYear(e-e%1e3)}]],$t=["millisecond","second","minute","hour","day","month","year"],on=/^([\+-]?\d+?)(-\d{2}?)?(-\d{2}?)?$/,Ao=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,ln={base:{millisecond:"time_short",second:"time",minute:"time_no_seconds_small_date",hour:"time_no_seconds_small_date",day:"full",month:"month",year:"year",decade:"year",century:"year",millennium:"year",age:"fallback",epoch:"fallback",era:"fallback",eon:"fallback",eon2:"fallback"},short:{millisecond:"time_short",second:"time_short",minute:"time_no_seconds_short",hour:"time_no_minutes_short",day:"full_short",month:"month_short",year:"year",decade:"year",century:"year",millennium:"year",age:"fallback",epoch:"fallback",era:"fallback",eon:"fallback",eon2:"fallback"}},ga=sa.extend({initialize:function(t,e,i){typeof t=="number"?this.data={format:"yyyy mmmm",date_obj:new Date(t)}:Date==t.constructor?this.data={format:"yyyy mmmm",date_obj:t}:(this.data=JSON.parse(JSON.stringify(t)),this._createDateObj()),t.format&&!e&&(e=t.format),this._setFormat(e,i)},setDateFormat:function(t){this.data.format=t},getDisplayDate:function(t,e){if(this.data.display_date)return this.data.display_date;t||(t=et.fallback),t.constructor!=et&&(re("First argument to getDisplayDate must be type Language"),t=et.fallback);var i=e||this.data.format;return t.formatDate(this.data.date_obj,i)},getMillisecond:function(){return this.getTime()},getTime:function(){return this.data.date_obj.getTime()},isBefore:function(t){if(!this.data.date_obj.constructor==t.data.date_obj.constructor)throw new ne("date_compare_err");return"isBefore"in this.data.date_obj?this.data.date_obj.isBefore(t.data.date_obj):this.data.date_obj<t.data.date_obj},isAfter:function(t){if(!this.data.date_obj.constructor==t.data.date_obj.constructor)throw new ne("date_compare_err");return"isAfter"in this.data.date_obj?this.data.date_obj.isAfter(t.data.date_obj):this.data.date_obj>t.data.date_obj},floor:function(t){for(var e=new Date(this.data.date_obj.getTime()),i=0;i<ct.length;i++)if(ct[i][2](e),ct[i][0]==t)return new ga(e);throw new ne("invalid_scale_err",t)},_getDateData:function(){var t={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0};fe(t,this.data);for(var e in $t){var i=Je(t[$t[e]]);if(!i.match(/^-?\d*$/))throw new ne("invalid_date_err",$t[e]+" = '"+t[$t[e]]+"'");var a=parseInt(t[$t[e]]);isNaN(a)&&(a=e==4||e==5?1:0),t[$t[e]]=a}return t.month>0&&t.month<=12&&(t.month=t.month-1),t},_createDateObj:function(){var t=this._getDateData();this.data.date_obj=new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond),this.data.date_obj.getFullYear()!=t.year&&this.data.date_obj.setFullYear(t.year)},findBestFormat:function(t){for(var e=$t,i=0;i<e.length;i++)if(this.data[e[i]])return t?t in ln||(t="short"):t="base",ln[t][e[i]];return""},_setFormat:function(t,e){t?this.data.format=t:this.data.format||(this.data.format=this.findBestFormat()),e?this.data.format_short=e:this.data.format_short||(this.data.format_short=this.findBestFormat(!0))},getFullYear:function(){return this.data.date_obj.getFullYear()}});function hn(t){if(t.match(on)){var e=t.match(on).slice(1),i={year:e[0].replace("+","")};return e[1]&&(i.month=e[1].replace("-","")),e[2]&&(i.day=e[2].replace("-","")),i}if(t.match(Ao))return cls.parseISODate(t);if(t.match(/^\-?\d+$/))return{year:t};var a={};if(t.match(/\d+\/\d+\/\d+/)){var s=t.match(/\d+\/\d+\/\d+/)[0];t=Je(t.replace(s,""));var r=s.split("/");a.month=r[0],a.day=r[1],a.year=r[2]}if(t.match(/\d+\/\d+/)){var s=t.match(/\d+\/\d+/)[0];t=Je(t.replace(s,""));var r=s.split("/");a.month=r[0],a.year=r[1]}if(t.match(":")){var l=t.split(":");if(a.hour=l[0],a.minute=l[1],l[2]){let h=l[2].split(".");a.second=h[0],a.millisecond=h[1]}}return a}const Oi=sa.extend({initialize:function(t){if(this.year=parseInt(t),isNaN(this.year))throw new ne("invalid_year_err",t)},isBefore:function(t){return this.year<t.year},isAfter:function(t){return this.year>t.year},getTime:function(){return this.year}}),as=1e6,ss=as*10,ns=ss*10,dn=ns*10;function Ft(t){return function(e){var i=e.getTime();return new Oi(Math.floor(i/t)*t)}}const Ki=[["year",1,new Ft(1)],["decade",10,new Ft(10)],["century",100,new Ft(100)],["millennium",1e3,new Ft(1e3)],["age",as,new Ft(as)],["epoch",ss,new Ft(ss)],["era",ns,new Ft(ns)],["eon",dn,new Ft(dn)]],ya=ga.extend({initialize:function(t,e,i){Oi==t.constructor?this.data={date_obj:t}:(this.data=JSON.parse(JSON.stringify(t)),this._createDateObj()),t.format&&!e&&(e=t.format),this._setFormat(e,i)},_createDateObj:function(){var t=this._getDateData();this.data.date_obj=new Oi(t.year)},floor:function(t){for(var e=0;e<Ki.length;e++)if(Ki[e][0]==t){var i=Ki[e][2](this.data.date_obj);return new ya(i)}throw new ne("invalid_scale_err",t)},getFullYear:function(){return this.data.date_obj.getTime()}}),un=new RegExp(/\$\{(.+?)\}/g);class et{constructor(e,i){for(let r in zt.en)this[r]=zt.en[r];if(e&&typeof e=="string"&&e!="en"){var a=e;if(!(a in zt)){console.log(`Expected language ${a} to be cached. Did you call the constructor directly?`);var s=Hn(a,i);pa(s).then(r=>{zt[a]=r}).catch(r=>{console.log(`Error loading language [${s}] ${r.statusText} [${r.status}]`)})}fe(this,zt[a])}}mergeData(e){for(k in zt.en)e[k]&&(typeof this[k]=="object"?fe(e[k],this[k]):this[k]=e[k])}formatBigYear(e,i){var a=e.year,s=this.bigdateformats[i]||this.bigdateformats.fallback;if(s){for(var r=0;r<s.length;r++){var l=s[r];if(Math.abs(a/l[0])>1)return cn(Math.abs(a/l[0]),l[1])}return a.toString()}else return re("Language file dateformats missing cosmological. Falling back."),cn(a,i)}_(e,i){let a=this.messages[e]||et.fallback.messages[e]||e;if(a.match(un)){if(!i)throw new ne("template_message_without_context");for(let s of a.matchAll(un)){if(!(s[1]in i))throw new ne("template_message_without_context");a=a.replace(s[0],i[s[1]])}}return a}formatDate(e,i){return e.constructor==Date?this.formatJSDate(e,i):e.constructor==Oi?this.formatBigYear(e,i):e.data&&e.data.date_obj?this.formatDate(e.data.date_obj,i):(re("Unfamiliar date presented for formatting"),e.toString())}formatJSDate(e,i){var a=this,s=function(G,xe){var Ce=a.period_labels[G];if(Ce)var G=xe<12?Ce[0]:Ce[1];return"<span class='tl-timeaxis-timesuffix'>"+G+"</span>"},r=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,l=/[^-+\dA-Z]/g;i||(i="full");var h=this.dateformats[i]||et.fallback.dateformats[i];h||(h=i);var m="get",p=e[m+"Date"](),y=e[m+"Day"](),_=e[m+"Month"](),L=e[m+"FullYear"](),I=e[m+"Hours"](),H=e[m+"Minutes"](),V=e[m+"Seconds"](),z=e[m+"Milliseconds"](),ie=e.getTimezoneOffset(),ee={d:p,dd:kt(p),ddd:this.date.day_abbr[y],dddd:this.date.day[y],m:_+1,mm:kt(_+1),mmm:this.date.month_abbr[_],mmmm:this.date.month[_],yy:String(L).slice(2),yyyy:L<0&&this.has_negative_year_modifier()?Math.abs(L):L,h:I%12||12,hh:kt(I%12||12),H:I,HH:kt(I),M:H,MM:kt(H),s:V,ss:kt(V),l:kt(z,3),L:kt(z>99?Math.round(z/10):z),t:s("t",I),tt:s("tt",I),T:s("T",I),TT:s("TT",I),Z:(String(e).match(r)||[""]).pop().replace(l,""),o:(ie>0?"-":"+")+kt(Math.floor(Math.abs(ie)/60)*100+Math.abs(ie)%60,4),S:["th","st","nd","rd"][p%10>3?0:(p%100-p%10!=10)*p%10]},te=h.replace(et.DATE_FORMAT_TOKENS,function(G){return G in ee?ee[G]:G.slice(1,G.length-1)});return this._applyEra(te,L)}has_negative_year_modifier(){return!!(this.era_labels.negative_year.prefix||this.era_labels.negative_year.suffix)}_applyEra(e,i){var a=i<0?this.era_labels.negative_year:this.era_labels.positive_year,s="";return a.prefix&&(s+="<span>"+a.prefix+"</span> "),s+=e,a.suffix&&(s+=" <span>"+a.suffix+"</span>"),s}}async function Oo(t,e){var i=Hn(t,e);try{if(!zt[t]){let a=await pa(i);zt[t]=a}return new et(t,e)}catch(a){return console.log(`Error loading language [${i}] ${a.statusText}`),null}}function Hn(t,e){if(/\.json$/.test(t))var i=t;else{var a="/locale/"+t+".json";/\/$/.test(e)&&(a=a.substr(1));var i=e+a}return i}function cn(t,e){if(e.match(/%(\.(\d+))?f/)){var i=e.match(/%(\.(\d+))?f/),a=i[0];return i[2]&&(t=t.toFixed(i[2])),e.replace(a,t)}return e}et.fallback={messages:{}};et.DATE_FORMAT_TOKENS=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g;var zt={en:{name:"English (built-in)",lang:"en",api:{wikipedia:"en"},messages:{loading:"Loading",wikipedia:"From Wikipedia, the free encyclopedia",error:"Error",return_to_title:"Return to Title",go_to_end:"Go to the last slide",loading_content:"Loading Content",loading_timeline:"Loading Timeline... ",swipe_to_navigate:"Swipe to Navigate<br><span class='tl-button'>OK</span>",zoom_in:"Zoom in",zoom_out:"Zoom out",unknown_read_err:"An unexpected error occurred trying to read your spreadsheet data",invalid_url_err:"Unable to read Timeline data. Make sure your URL is for a Google Spreadsheet or a Timeline JSON file.",network_err:"Unable to read your Google Spreadsheet. Make sure you have published it to the web.",missing_start_date_err:"Missing start_date",invalid_start_time_without_date:"Invalid configuration: time cannot be used without date.",invalid_end_time_without_date:"Invalid configuration: end time cannot be used without end date.",date_compare_err:"Can't compare timeline date objects on different scales",invalid_scale_err:"Invalid scale",invalid_date_err:"Invalid date: month, day and year must be numbers.",invalid_separator_error:"Invalid time: misuse of : or . as separator.",invalid_hour_err:"Invalid time (hour)",invalid_minute_err:"Invalid time (minute)",invalid_second_err:"Invalid time (second)",invalid_fractional_err:"Invalid time (fractional seconds)",invalid_second_fractional_err:"Invalid time (seconds and fractional seconds)",invalid_year_err:"Invalid year",flickr_notfound_err:"Photo not found or private",flickr_invalidurl_err:"Invalid Flickr URL",imgur_invalidurl_err:"Invalid Imgur URL",twitter_load_err:"Unable to load Tweet",twitterembed_invalidurl_err:"Invalid Twitter Embed url",wikipedia_load_err:"Unable to load Wikipedia entry",wikipedia_image_load_err:"Unable to load Wikipedia image data",spotify_invalid_url:"Invalid Spotify URL",invalid_rgb_err:"Invalid RGB argument",time_scale_scale_err:"Don't know how to get date from time for scale",axis_helper_no_options_err:"Axis helper must be configured with options",axis_helper_scale_err:"No AxisHelper available for scale",invalid_integer_option:"Invalid option value—must be a whole number.",instagram_bad_request:"Invalid or private Instagram URL",template_message_without_context:"Required variables not provided for template translation message",aria_label_timeline:"Timeline",aria_label_timeline_navigation:"Timeline navigation",aria_label_timeline_content:"Timeline content",aria_label_zoomin:"Show less than ${start} to ${end}",aria_label_zoomout:"Show more than ${start} to ${end}"},date:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."]},era_labels:{positive_year:{prefix:"",suffix:""},negative_year:{prefix:"",suffix:"BCE"}},period_labels:{t:["a","p"],tt:["am","pm"],T:["A","P"],TT:["AM","PM"]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time:"h:MM:ss TT' <small>'mmmm d',' yyyy'</small>'",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_minutes_short:"h TT",time_no_seconds_small_date:"h:MM TT' <small>'mmmm d',' yyyy'</small>'",time_milliseconds:"l",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT' <small>mmm d',' yyyy'</small>'"},bigdateformats:{fallback:[[1e9,"%.2f billion years ago"],[1e6,"%.1f million years ago"],[1e3,"%.1f thousand years ago"],[1,"%f years ago"]],compact:[[1e9,"%.2f bya"],[1e6,"%.1f mya"],[1e3,"%.1f kya"],[1,"%f years ago"]],verbose:[[1e9,"%.2f billion years ago"],[1e6,"%.1f million years ago"],[1e3,"%.1f thousand years ago"],[1,"%f years ago"]]}}};let vs=new et;et.fallback=vs;class Ct{setLanguage(e){this.language=e}getLanguage(){if(this.language){if(typeof this.language=="object")return this.language;re(`I18NMixins.getLanguage: this.language should be object, but is ${typeof this.language}`)}return vs}_(e,i){return this.getLanguage()._(e,i)}}class va{constructor(e,i,a){a&&this.setLanguage(a),this._el={parent:{},container:{},message_container:{},loading_icon:{},message:{}},this.options={width:600,height:600,message_class:"tl-message",message_icon_class:"tl-loading-icon"},this.container=e,fe(this.options,i),this._el.container=O("div",this.options.message_class),e&&(e.appendChild(this._el.container),this._el.parent=e),this.animator={},this._initLayout(),this._initEvents()}updateMessage(e){e?this._el.message.innerHTML=e:this._el.message.innerHTML=this._("loading"),!this._el.parent.atributes&&this.container.attributes&&(this.container.appendChild(this._el.container),this._el.parent=this.container)}updateDisplay(e,i){}_onMouseClick(){this.fire("clicked",this.options)}_onRemove(){this._el.parent={}}_initLayout(){this._el.message_container=O("div","tl-message-container",this._el.container),this._el.loading_icon=O("div",this.options.message_icon_class,this._el.message_container),this._el.message=O("div","tl-message-content",this._el.message_container),this.updateMessage()}_initEvents(){Q.addListener(this._el.container,"click",this._onMouseClick,this),Q.addListener(this,"removed",this._onRemove,this)}}qe(va,Ct,Be,It);function Bi(t,i){var i=i||"start_date";t.sort(function(a,s){return a[i].isBefore(s[i])?-1:a[i].isAfter(s[i])?1:0})}function fn(t){var e={hour:null,minute:null,second:null,millisecond:null},i=null,a=t.match(/(\s*[AaPp]\.?[Mm]\.?\s*)$/);a&&(i=Je(a[0]),t=Je(t.substring(0,t.lastIndexOf(i))));var s=[],r=t.match(/^\s*(\d{1,2})(\d{2})\s*$/);if(r?s=r.slice(1):(s=t.split(":"),s.length==1&&(s=t.split("."))),s.length>4)throw new ne("invalid_separator_error");let l=s[0];if(e.hour=parseInt(l),i&&i.toLowerCase()[0]=="p"&&e.hour!=12?e.hour+=12:i&&i.toLowerCase()[0]=="a"&&e.hour==12&&(e.hour=0),isNaN(e.hour)||e.hour<0||e.hour>23)throw new ne("invalid_hour_err",l);if(s.length>1){let p=s[1];if(e.minute=parseInt(p),isNaN(e.minute))throw new ne("invalid_minute_err",p)}if(s.length>2){var h=s[2].split(/[\.,]/);if(s=h.concat(s.slice(3)),s.length>2)throw new ne("invalid_second_fractional_err");if(e.second=parseInt(s[0]),isNaN(e.second))throw new ne("invalid_second_err",s[0]);if(s.length==2){var m=parseInt(s[1]);if(isNaN(m))throw new ne("invalid_fractional_err",s[1]);e.millisecond=100*m}}return e}const No=new RegExp("(^-?\\d+$|^$)");function _n(t){try{return Object.keys(t).forEach(e=>{let i=t[e];if(i&&i.match&&!i.match(No))throw`invalid value ${i} for ${e}`}),!0}catch{return!1}}const mn={human:ga,cosmological:ya};/*! @license DOMPurify 2.4.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.7/LICENSE */function jt(t){"@babel/helpers - typeof";return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(t)}function rs(t,e){return rs=Object.setPrototypeOf||function(a,s){return a.__proto__=s,a},rs(t,e)}function Io(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qi(t,e,i){return Io()?Qi=Reflect.construct:Qi=function(s,r,l){var h=[null];h.push.apply(h,r);var m=Function.bind.apply(s,h),p=new m;return l&&rs(p,l.prototype),p},Qi.apply(null,arguments)}function rt(t){return Ro(t)||Co(t)||Po(t)||Yo()}function Ro(t){if(Array.isArray(t))return os(t)}function Co(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Po(t,e){if(t){if(typeof t=="string")return os(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return os(t,e)}}function os(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}function Yo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Fo=Object.hasOwnProperty,pn=Object.setPrototypeOf,Ho=Object.isFrozen,Wo=Object.getPrototypeOf,Uo=Object.getOwnPropertyDescriptor,Ge=Object.freeze,lt=Object.seal,zo=Object.create,Wn=typeof Reflect<"u"&&Reflect,ra=Wn.apply,ls=Wn.construct;ra||(ra=function(e,i,a){return e.apply(i,a)});Ge||(Ge=function(e){return e});lt||(lt=function(e){return e});ls||(ls=function(e,i){return Qi(e,rt(i))});var jo=tt(Array.prototype.forEach),gn=tt(Array.prototype.pop),xi=tt(Array.prototype.push),ea=tt(String.prototype.toLowerCase),Ua=tt(String.prototype.toString),Go=tt(String.prototype.match),nt=tt(String.prototype.replace),qo=tt(String.prototype.indexOf),Bo=tt(String.prototype.trim),je=tt(RegExp.prototype.test),za=Vo(TypeError);function tt(t){return function(e){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return ra(t,e,a)}}function Vo(t){return function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return ls(t,i)}}function K(t,e,i){var a;i=(a=i)!==null&&a!==void 0?a:ea,pn&&pn(t,null);for(var s=e.length;s--;){var r=e[s];if(typeof r=="string"){var l=i(r);l!==r&&(Ho(e)||(e[s]=l),r=l)}t[r]=!0}return t}function Zt(t){var e=zo(null),i;for(i in t)ra(Fo,t,[i])===!0&&(e[i]=t[i]);return e}function Vi(t,e){for(;t!==null;){var i=Uo(t,e);if(i){if(i.get)return tt(i.get);if(typeof i.value=="function")return tt(i.value)}t=Wo(t)}function a(s){return console.warn("fallback value for",s),null}return a}var yn=Ge(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ja=Ge(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ga=Ge(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$o=Ge(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),qa=Ge(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Zo=Ge(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),vn=Ge(["#text"]),wn=Ge(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ba=Ge(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),bn=Ge(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),$i=Ge(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Xo=lt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Jo=lt(/<%[\w\W]*|[\w\W]*%>/gm),Ko=lt(/\${[\w\W]*}/gm),Qo=lt(/^data-[\-\w.\u00B7-\uFFFF]/),el=lt(/^aria-[\-\w]+$/),tl=lt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),il=lt(/^(?:\w+script|data):/i),al=lt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),sl=lt(/^html$/i),nl=function(){return typeof window>"u"?null:window},rl=function(e,i){if(jt(e)!=="object"||typeof e.createPolicy!="function")return null;var a=null,s="data-tt-policy-suffix";i.currentScript&&i.currentScript.hasAttribute(s)&&(a=i.currentScript.getAttribute(s));var r="dompurify"+(a?"#"+a:"");try{return e.createPolicy(r,{createHTML:function(h){return h},createScriptURL:function(h){return h}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function Un(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nl(),e=function(u){return Un(u)};if(e.version="2.4.7",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var i=t.document,a=t.document,s=t.DocumentFragment,r=t.HTMLTemplateElement,l=t.Node,h=t.Element,m=t.NodeFilter,p=t.NamedNodeMap,y=p===void 0?t.NamedNodeMap||t.MozNamedAttrMap:p,_=t.HTMLFormElement,L=t.DOMParser,I=t.trustedTypes,H=h.prototype,V=Vi(H,"cloneNode"),z=Vi(H,"nextSibling"),ie=Vi(H,"childNodes"),ee=Vi(H,"parentNode");if(typeof r=="function"){var te=a.createElement("template");te.content&&te.content.ownerDocument&&(a=te.content.ownerDocument)}var G=rl(I,i),xe=G?G.createHTML(""):"",Ce=a,Se=Ce.implementation,st=Ce.createNodeIterator,v=Ce.createDocumentFragment,f=Ce.getElementsByTagName,c=i.importNode,x={};try{x=Zt(a).documentMode?a.documentMode:{}}catch{}var E={};e.isSupported=typeof ee=="function"&&Se&&Se.createHTMLDocument!==void 0&&x!==9;var N=Xo,q=Jo,B=Ko,le=Qo,ae=el,F=il,ce=al,J=tl,b=null,T=K({},[].concat(rt(yn),rt(ja),rt(Ga),rt(qa),rt(vn))),w=null,A=K({},[].concat(rt(wn),rt(Ba),rt(bn),rt($i))),C=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$=null,ke=null,we=!0,Ue=!0,Le=!1,Ve=!0,Te=!1,Ae=!1,Fe=!1,o=!1,d=!1,g=!1,M=!1,j=!0,Z=!1,pe="user-content-",De=!0,Oe=!1,ze={},Ne=null,js=K({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Gs=null,qs=K({},["audio","video","img","source","image","track"]),Na=null,Bs=K({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),zi="http://www.w3.org/1998/Math/MathML",ji="http://www.w3.org/2000/svg",vt="http://www.w3.org/1999/xhtml",ni=vt,Ia=!1,Ra=null,Vr=K({},[zi,ji,vt],Ua),Vt,$r=["application/xhtml+xml","text/html"],Zr="text/html",Ie,ri=null,Xr=a.createElement("form"),Vs=function(u){return u instanceof RegExp||u instanceof Function},Ca=function(u){ri&&ri===u||((!u||jt(u)!=="object")&&(u={}),u=Zt(u),Vt=$r.indexOf(u.PARSER_MEDIA_TYPE)===-1?Vt=Zr:Vt=u.PARSER_MEDIA_TYPE,Ie=Vt==="application/xhtml+xml"?Ua:ea,b="ALLOWED_TAGS"in u?K({},u.ALLOWED_TAGS,Ie):T,w="ALLOWED_ATTR"in u?K({},u.ALLOWED_ATTR,Ie):A,Ra="ALLOWED_NAMESPACES"in u?K({},u.ALLOWED_NAMESPACES,Ua):Vr,Na="ADD_URI_SAFE_ATTR"in u?K(Zt(Bs),u.ADD_URI_SAFE_ATTR,Ie):Bs,Gs="ADD_DATA_URI_TAGS"in u?K(Zt(qs),u.ADD_DATA_URI_TAGS,Ie):qs,Ne="FORBID_CONTENTS"in u?K({},u.FORBID_CONTENTS,Ie):js,$="FORBID_TAGS"in u?K({},u.FORBID_TAGS,Ie):{},ke="FORBID_ATTR"in u?K({},u.FORBID_ATTR,Ie):{},ze="USE_PROFILES"in u?u.USE_PROFILES:!1,we=u.ALLOW_ARIA_ATTR!==!1,Ue=u.ALLOW_DATA_ATTR!==!1,Le=u.ALLOW_UNKNOWN_PROTOCOLS||!1,Ve=u.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Te=u.SAFE_FOR_TEMPLATES||!1,Ae=u.WHOLE_DOCUMENT||!1,d=u.RETURN_DOM||!1,g=u.RETURN_DOM_FRAGMENT||!1,M=u.RETURN_TRUSTED_TYPE||!1,o=u.FORCE_BODY||!1,j=u.SANITIZE_DOM!==!1,Z=u.SANITIZE_NAMED_PROPS||!1,De=u.KEEP_CONTENT!==!1,Oe=u.IN_PLACE||!1,J=u.ALLOWED_URI_REGEXP||J,ni=u.NAMESPACE||vt,C=u.CUSTOM_ELEMENT_HANDLING||{},u.CUSTOM_ELEMENT_HANDLING&&Vs(u.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(C.tagNameCheck=u.CUSTOM_ELEMENT_HANDLING.tagNameCheck),u.CUSTOM_ELEMENT_HANDLING&&Vs(u.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(C.attributeNameCheck=u.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),u.CUSTOM_ELEMENT_HANDLING&&typeof u.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(C.allowCustomizedBuiltInElements=u.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Te&&(Ue=!1),g&&(d=!0),ze&&(b=K({},rt(vn)),w=[],ze.html===!0&&(K(b,yn),K(w,wn)),ze.svg===!0&&(K(b,ja),K(w,Ba),K(w,$i)),ze.svgFilters===!0&&(K(b,Ga),K(w,Ba),K(w,$i)),ze.mathMl===!0&&(K(b,qa),K(w,bn),K(w,$i))),u.ADD_TAGS&&(b===T&&(b=Zt(b)),K(b,u.ADD_TAGS,Ie)),u.ADD_ATTR&&(w===A&&(w=Zt(w)),K(w,u.ADD_ATTR,Ie)),u.ADD_URI_SAFE_ATTR&&K(Na,u.ADD_URI_SAFE_ATTR,Ie),u.FORBID_CONTENTS&&(Ne===js&&(Ne=Zt(Ne)),K(Ne,u.FORBID_CONTENTS,Ie)),De&&(b["#text"]=!0),Ae&&K(b,["html","head","body"]),b.table&&(K(b,["tbody"]),delete $.tbody),Ge&&Ge(u),ri=u)},$s=K({},["mi","mo","mn","ms","mtext"]),Zs=K({},["foreignobject","desc","title","annotation-xml"]),Jr=K({},["title","style","font","a","script"]),Gi=K({},ja);K(Gi,Ga),K(Gi,$o);var Pa=K({},qa);K(Pa,Zo);var Kr=function(u){var D=ee(u);(!D||!D.tagName)&&(D={namespaceURI:ni,tagName:"template"});var R=ea(u.tagName),ue=ea(D.tagName);return Ra[u.namespaceURI]?u.namespaceURI===ji?D.namespaceURI===vt?R==="svg":D.namespaceURI===zi?R==="svg"&&(ue==="annotation-xml"||$s[ue]):!!Gi[R]:u.namespaceURI===zi?D.namespaceURI===vt?R==="math":D.namespaceURI===ji?R==="math"&&Zs[ue]:!!Pa[R]:u.namespaceURI===vt?D.namespaceURI===ji&&!Zs[ue]||D.namespaceURI===zi&&!$s[ue]?!1:!Pa[R]&&(Jr[R]||!Gi[R]):!!(Vt==="application/xhtml+xml"&&Ra[u.namespaceURI]):!1},wt=function(u){xi(e.removed,{element:u});try{u.parentNode.removeChild(u)}catch{try{u.outerHTML=xe}catch{u.remove()}}},Ya=function(u,D){try{xi(e.removed,{attribute:D.getAttributeNode(u),from:D})}catch{xi(e.removed,{attribute:null,from:D})}if(D.removeAttribute(u),u==="is"&&!w[u])if(d||g)try{wt(D)}catch{}else try{D.setAttribute(u,"")}catch{}},Xs=function(u){var D,R;if(o)u="<remove></remove>"+u;else{var ue=Go(u,/^[\r\n\t ]+/);R=ue&&ue[0]}Vt==="application/xhtml+xml"&&ni===vt&&(u='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+u+"</body></html>");var $e=G?G.createHTML(u):u;if(ni===vt)try{D=new L().parseFromString($e,Vt)}catch{}if(!D||!D.documentElement){D=Se.createDocument(ni,"template",null);try{D.documentElement.innerHTML=Ia?xe:$e}catch{}}var He=D.body||D.documentElement;return u&&R&&He.insertBefore(a.createTextNode(R),He.childNodes[0]||null),ni===vt?f.call(D,Ae?"html":"body")[0]:Ae?D.documentElement:He},Js=function(u){return st.call(u.ownerDocument||u,u,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT,null,!1)},Qr=function(u){return u instanceof _&&(typeof u.nodeName!="string"||typeof u.textContent!="string"||typeof u.removeChild!="function"||!(u.attributes instanceof y)||typeof u.removeAttribute!="function"||typeof u.setAttribute!="function"||typeof u.namespaceURI!="string"||typeof u.insertBefore!="function"||typeof u.hasChildNodes!="function")},Mi=function(u){return jt(l)==="object"?u instanceof l:u&&jt(u)==="object"&&typeof u.nodeType=="number"&&typeof u.nodeName=="string"},bt=function(u,D,R){E[u]&&jo(E[u],function(ue){ue.call(e,D,R,ri)})},Ks=function(u){var D;if(bt("beforeSanitizeElements",u,null),Qr(u)||je(/[\u0080-\uFFFF]/,u.nodeName))return wt(u),!0;var R=Ie(u.nodeName);if(bt("uponSanitizeElement",u,{tagName:R,allowedTags:b}),u.hasChildNodes()&&!Mi(u.firstElementChild)&&(!Mi(u.content)||!Mi(u.content.firstElementChild))&&je(/<[/\w]/g,u.innerHTML)&&je(/<[/\w]/g,u.textContent)||R==="select"&&je(/<template/i,u.innerHTML))return wt(u),!0;if(!b[R]||$[R]){if(!$[R]&&en(R)&&(C.tagNameCheck instanceof RegExp&&je(C.tagNameCheck,R)||C.tagNameCheck instanceof Function&&C.tagNameCheck(R)))return!1;if(De&&!Ne[R]){var ue=ee(u)||u.parentNode,$e=ie(u)||u.childNodes;if($e&&ue)for(var He=$e.length,Pe=He-1;Pe>=0;--Pe)ue.insertBefore(V($e[Pe],!0),z(u))}return wt(u),!0}return u instanceof h&&!Kr(u)||(R==="noscript"||R==="noembed"||R==="noframes")&&je(/<\/no(script|embed|frames)/i,u.innerHTML)?(wt(u),!0):(Te&&u.nodeType===3&&(D=u.textContent,D=nt(D,N," "),D=nt(D,q," "),D=nt(D,B," "),u.textContent!==D&&(xi(e.removed,{element:u.cloneNode()}),u.textContent=D)),bt("afterSanitizeElements",u,null),!1)},Qs=function(u,D,R){if(j&&(D==="id"||D==="name")&&(R in a||R in Xr))return!1;if(!(Ue&&!ke[D]&&je(le,D))){if(!(we&&je(ae,D))){if(!w[D]||ke[D]){if(!(en(u)&&(C.tagNameCheck instanceof RegExp&&je(C.tagNameCheck,u)||C.tagNameCheck instanceof Function&&C.tagNameCheck(u))&&(C.attributeNameCheck instanceof RegExp&&je(C.attributeNameCheck,D)||C.attributeNameCheck instanceof Function&&C.attributeNameCheck(D))||D==="is"&&C.allowCustomizedBuiltInElements&&(C.tagNameCheck instanceof RegExp&&je(C.tagNameCheck,R)||C.tagNameCheck instanceof Function&&C.tagNameCheck(R))))return!1}else if(!Na[D]){if(!je(J,nt(R,ce,""))){if(!((D==="src"||D==="xlink:href"||D==="href")&&u!=="script"&&qo(R,"data:")===0&&Gs[u])){if(!(Le&&!je(F,nt(R,ce,"")))){if(R)return!1}}}}}}return!0},en=function(u){return u.indexOf("-")>0},tn=function(u){var D,R,ue,$e;bt("beforeSanitizeAttributes",u,null);var He=u.attributes;if(He){var Pe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:w};for($e=He.length;$e--;){D=He[$e];var qi=D,Re=qi.name,Fa=qi.namespaceURI;if(R=Re==="value"?D.value:Bo(D.value),ue=Ie(Re),Pe.attrName=ue,Pe.attrValue=R,Pe.keepAttr=!0,Pe.forceKeepAttr=void 0,bt("uponSanitizeAttribute",u,Pe),R=Pe.attrValue,!Pe.forceKeepAttr&&(Ya(Re,u),!!Pe.keepAttr)){if(!Ve&&je(/\/>/i,R)){Ya(Re,u);continue}Te&&(R=nt(R,N," "),R=nt(R,q," "),R=nt(R,B," "));var an=Ie(u.nodeName);if(Qs(an,ue,R)){if(Z&&(ue==="id"||ue==="name")&&(Ya(Re,u),R=pe+R),G&&jt(I)==="object"&&typeof I.getAttributeType=="function"&&!Fa)switch(I.getAttributeType(an,ue)){case"TrustedHTML":{R=G.createHTML(R);break}case"TrustedScriptURL":{R=G.createScriptURL(R);break}}try{Fa?u.setAttributeNS(Fa,Re,R):u.setAttribute(Re,R),gn(e.removed)}catch{}}}}bt("afterSanitizeAttributes",u,null)}},eo=function W(u){var D,R=Js(u);for(bt("beforeSanitizeShadowDOM",u,null);D=R.nextNode();)bt("uponSanitizeShadowNode",D,null),!Ks(D)&&(D.content instanceof s&&W(D.content),tn(D));bt("afterSanitizeShadowDOM",u,null)};return e.sanitize=function(W){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},D,R,ue,$e,He;if(Ia=!W,Ia&&(W="<!-->"),typeof W!="string"&&!Mi(W))if(typeof W.toString=="function"){if(W=W.toString(),typeof W!="string")throw za("dirty is not a string, aborting")}else throw za("toString is not a function");if(!e.isSupported){if(jt(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof W=="string")return t.toStaticHTML(W);if(Mi(W))return t.toStaticHTML(W.outerHTML)}return W}if(Fe||Ca(u),e.removed=[],typeof W=="string"&&(Oe=!1),Oe){if(W.nodeName){var Pe=Ie(W.nodeName);if(!b[Pe]||$[Pe])throw za("root node is forbidden and cannot be sanitized in-place")}}else if(W instanceof l)D=Xs("<!---->"),R=D.ownerDocument.importNode(W,!0),R.nodeType===1&&R.nodeName==="BODY"||R.nodeName==="HTML"?D=R:D.appendChild(R);else{if(!d&&!Te&&!Ae&&W.indexOf("<")===-1)return G&&M?G.createHTML(W):W;if(D=Xs(W),!D)return d?null:M?xe:""}D&&o&&wt(D.firstChild);for(var qi=Js(Oe?W:D);ue=qi.nextNode();)ue.nodeType===3&&ue===$e||Ks(ue)||(ue.content instanceof s&&eo(ue.content),tn(ue),$e=ue);if($e=null,Oe)return W;if(d){if(g)for(He=v.call(D.ownerDocument);D.firstChild;)He.appendChild(D.firstChild);else He=D;return(w.shadowroot||w.shadowrootmod)&&(He=c.call(i,He,!0)),He}var Re=Ae?D.outerHTML:D.innerHTML;return Ae&&b["!doctype"]&&D.ownerDocument&&D.ownerDocument.doctype&&D.ownerDocument.doctype.name&&je(sl,D.ownerDocument.doctype.name)&&(Re="<!DOCTYPE "+D.ownerDocument.doctype.name+`>
`+Re),Te&&(Re=nt(Re,N," "),Re=nt(Re,q," "),Re=nt(Re,B," ")),G&&M?G.createHTML(Re):Re},e.setConfig=function(W){Ca(W),Fe=!0},e.clearConfig=function(){ri=null,Fe=!1},e.isValidAttribute=function(W,u,D){ri||Ca({});var R=Ie(W),ue=Ie(u);return Qs(R,ue,D)},e.addHook=function(W,u){typeof u=="function"&&(E[W]=E[W]||[],xi(E[W],u))},e.removeHook=function(W){if(E[W])return gn(E[W])},e.removeHooks=function(W){E[W]&&(E[W]=[])},e.removeAllHooks=function(){E={}},e}var wa=Un();const ol={text:["headline","text"],media:["caption","credit"]},ll={start_date:["display_date"],end_date:["display_date"],slide:["display_date","group"],date:["display_date"]};wa.addHook("afterSanitizeAttributes",function(t){if(t.nodeName=="A"&&"href"in t){"target"in t.attributes||t.setAttribute("target","_blank");let e=t.attributes.rel;e?e.value.indexOf("noopener")==-1&&t.setAttribute("rel",`noopener ${e.value}`):t.setAttribute("rel","noopener")}});function kn(t,e,i){Object.keys(i).forEach(a=>{var s=a=="slide"?t:t[a];s&&i[a].forEach(r=>{typeof s[r]<"u"&&(s[r]=e(s[r]))})})}function hl(t){return wa.sanitize(t,{ADD_TAGS:["iframe"],ADD_ATTR:["frameborder","target"]})}class Jt{constructor(e){if(this.title="",this.scale="",this.events=[],this.eras=[],this.event_dict={},this.messages={errors:[],warnings:[]},typeof e=="object"&&e.events){if(this.scale=e.scale,this.events=[],this._ensureValidScale(e.events),e.title){var i=this._assignID(e.title);this._tidyFields(e.title),this.title=e.title,this.event_dict[i]=this.title}for(var a=0;a<e.events.length;a++)try{this.addEvent(e.events[a],!0)}catch(s){this.logError(s)}e.eras&&e.eras.forEach((s,r)=>{try{this.addEra(s)}catch(l){this.logError("Era "+r+": "+l)}}),Bi(this.events),Bi(this.eras)}}logError(e){re(`logError: ${e}`),this.messages.errors.push(e)}getErrors(e){return e?this.messages.errors.join(e):this.messages.errors}validate(){(typeof this.events>"u"||typeof this.events.length>"u"||this.events.length==0)&&this.logError("Timeline configuration has no events.");for(var e=0;e<this.eras.length;e++)if(typeof this.eras[e].start_date>"u"||typeof this.eras[e].end_date>"u"){var i;this.eras[e].headline?i=this.eras[e].headline:i="era "+(e+1),this.logError("All eras must have start and end dates. ["+i+"]")}}isValid(){return this.messages.errors.length==0}addEvent(e,i){var a=this._assignID(e);return typeof e.start_date>"u"?(re("Missing start date, skipping event"),console.log(e),null):(this._processDates(e),this._tidyFields(e),this.events.push(e),this.event_dict[a]=e,i||Bi(this.events),a)}addEra(e){var i=this._assignID(e);if(typeof e.start_date>"u")throw new ne("missing_start_date_err",i);this._processDates(e),this._tidyFields(e),this.eras.push({start_date:e.start_date,end_date:e.end_date,headline:e.text.headline})}_assignID(e){var i=e.unique_id;return Je(i)||(i=e.text?Ha(e.text.headline):null),e.unique_id=mo(this.event_dict,i),e.unique_id}_makeUniqueIdentifiers(e,i){for(var a=[e],s=0;s<i.length;s++)Je(i[s].unique_id)&&(i[s].unique_id=Ha(i[s].unique_id),a.indexOf(i[s].unique_id)==-1?a.push(i[s].unique_id):i[s].unique_id="");if(a.length!=i.length+1){for(var s=0;s<i.length;s++)if(!i[s].unique_id){var r=i[s].text?Ha(i[s].text.headline):null;r||(r=ei(6)),a.indexOf(r)!=-1&&(r=r+"-"+s),a.push(r),i[s].unique_id=r}}}_ensureValidScale(e){if(!this.scale){this.scale="human";for(var i=0;i<e.length;i++){if(e[i].scale=="cosmological"){this.scale="cosmological";break}if(e[i].start_date&&typeof e[i].start_date.year<"u"){var a=new ya(e[i].start_date),s=a.data.date_obj.year;if(s<-271820||s>275759){this.scale="cosmological";break}}}re(`Determining scale dynamically: ${this.scale}`)}var r=mn[this.scale];r||this.logError("Don't know how to process dates on scale "+this.scale)}_processDates(e){var i=mn[this.scale];if(!(e.start_date instanceof i)){var a=e.start_date;if(e.start_date=new i(a),typeof e.end_date<"u"&&!(e.end_date instanceof i)){var s=e.end_date,r=!0;for(let l in a)r=r&&a[l]==s[l];r?(re("End date same as start date is redundant; dropping end date"),delete e.end_date):e.end_date=new i(s)}}}getEarliestDate(){var e=this.events[0].start_date;return this.eras&&this.eras.length>0&&this.eras[0].start_date.isBefore(e)?this.eras[0].start_date:e}getLatestDate(){for(var e=[],i=0;i<this.events.length;i++)this.events[i].end_date?e.push({date:this.events[i].end_date}):e.push({date:this.events[i].start_date});for(var i=0;i<this.eras.length;i++)this.eras[i].end_date?e.push({date:this.eras[i].end_date}):e.push({date:this.eras[i].start_date});return Bi(e,"date"),e.slice(-1)[0].date}_tidyFields(e){function i(a,s,r){r||(r=""),a.hasOwnProperty(s)||(a[s]=r)}e.group&&(e.group=Je(e.group)),e.text||(e.text={}),i(e.text,"text"),i(e.text,"headline"),kn(e,hl,ol),kn(e,So,ll)}}function dl(t,e){return t==null?"":(e=e||`
`,t.charAt(t.length-e.length)!==e?t:t.substring(0,t.length-e.length))}async function ul(t){return new Promise((e,i)=>{if(t.data){var a=zn(jn(t.data,t),t);a.useMemoryStore=!0,e(a)}else t.url&&window.fetch(t.url,{mode:"cors"}).then(function(s){if(s.status!=200){s.headers.get("content-type")=="application/json"?s.text().then(r=>{i(JSON.parse(r))}):i({status_code:s.status,message:`Error fetching CSV: [${s.status} ${s.statusText}]`});return}return s.text?s.text():s}).then(function(s){if(s){var r=_l(s,t);r.useMemoryStore=!0,e(r)}}).catch(s=>{i({status_code:500,message:`Error fetching CSV: ${s}`})})})}function zn(t,e){return e=e||{},e.noHeaderRow!==!0&&t.length>0?{fields:t[0].map((i,a)=>i&&i.trim?i.trim():`untitled${a}`),records:t.slice(1)}:{records:t}}function cl(t){var e={delimiter:",",doublequote:!0,lineterminator:`
`,quotechar:'"',skipinitialspace:!0,skipinitialrows:0};for(var i in t)i==="trim"?e.skipinitialspace=t.trim:e[i.toLowerCase()]=t[i];return e}function jn(t,e){(!e||e&&!e.lineterminator)&&(t=fl(t,e));var i=cl(e);t=dl(t,i.lineterminator);var a="",s=!1,r=!1,l="",h=[],m=[],p,y;for(y=function(_){return r!==!0&&(_===""?_=null:i.skipinitialspace===!0&&(_=_.trim())),_},p=0;p<t.length;p+=1)a=t.charAt(p),s===!1&&(a===i.delimiter||a===i.lineterminator)?(l=y(l),h.push(l),a===i.lineterminator&&(m.push(h),h=[]),l="",r=!1):a!==i.quotechar?l+=a:s?t.charAt(p+1)===i.quotechar?(l+=i.quotechar,p+=1):s=!1:(s=!0,r=!0);return l=y(l),h.push(l),m.push(h),i.skipinitialrows&&(m=m.slice(i.skipinitialrows)),m}function fl(t,e){return e&&!e.lineterminator?t.replace(/(\r\n|\n|\r)/gm,`
`):t}function _l(t,e){let i=zn(jn(t,e)),a=[];return i.records.forEach(s=>{let r={};i.fields.forEach((l,h)=>r[l]=s[h]),a.push(r)}),a}function oi(t){if(t)return t.replace(/[\s,]+/g,"")}function ml(t){let e={key:null,worksheet:0};var i=/\bkey=([-_A-Za-z0-9]+)&?/i,a=/docs.google.com\/spreadsheets(.*?)\/d\//;if(t.match(i))e.key=t.match(i)[1];else if(t.match(a)){var s=t.search(a)+t.match(a)[0].length,r=t.substr(s);e.key=r.split("/")[0],t.match(/\?gid=(\d+)/)&&(e.worksheet=t.match(/\?gid=(\d+)/)[1])}else t.match(/^\b[-_A-Za-z0-9]+$/)&&(e.key=t);return e.key?e:null}function pl(t){return typeof t!="string"?"":t.match(/^(https?:)?\/\/?/)?{url:t}:{color:t}}function gl(t){let e={};Object.keys(t).forEach(a=>{e[a]=Je(t[a])});var i={media:{caption:e["Media Caption"]||"",credit:e["Media Credit"]||"",url:e.Media||"",thumbnail:e["Media Thumbnail"]||""},text:{headline:e.Headline||"",text:e.Text||""},display_date:e["Display Date"]||"",group:e.Group||e.Tag||"",background:pl(e.Background),type:e.Type||""};if(Object.keys(e).includes("Start Date")||Object.keys(e).includes("End Date"))e["Start Date"]&&(i.start_date=hn(e["Start Date"])),e["End Date"]&&(i.end_date=hn(e["End Date"]));else{if(e.Year&&(i.start_date={year:oi(e.Year),month:oi(e.Month)||"",day:oi(e.Day)||""}),e["End Year"]&&(i.end_date={year:oi(e["End Year"])||"",month:oi(e["End Month"])||"",day:oi(e["End Day"])||""}),e.Time)if(i.start_date)fe(i.start_date,fn(e.Time));else throw new ne("invalid_start_time_without_date");if(e["End Time"])if(i.end_date)fe(i.end_date,fn(e["End Time"]));else throw new ne("invalid_end_time_without_date");if(i.start_date&&!_n(i.start_date))throw new ne("invalid_date_err");if(i.end_date&&!_n(i.end_date))throw new ne("invalid_date_err")}return i}async function yl(t,e){let i=[];t=vl(t),await ul({url:`${e}${t}`}).then(s=>{i=s}).catch(s=>{if(s.proxy_err_code=="response_not_csv")throw new ne("Timeline could not read the data for your timeline. Make sure you have published it to the web.");let r="undefined error";throw Array.isArray(s.message)?r=s.message.join("<br>"):r=String(s.message),new ne(r)});let a={events:[],errors:[],warnings:[],eras:[]};return i.forEach((s,r)=>{try{if(!po(s)){let l=gl(s);kl(l,a)}}catch(l){if(l.constructor==ne)a.errors.push(l);else{l.message&&(l=l.message);let h=s.Headline||r;a.errors.push(l+`[${h}]`)}}}),a}function vl(t){if(t=t.trim(),t.match(/^[a-zA-Z0-9-_]+$/))return`https://docs.google.com/spreadsheets/d/${t}/pub?output=csv`;if(t.startsWith("https://docs.google.com/spreadsheets/")){if(t.match(/\/pub\?output=csv$/))return t;let e=new URL(t),i=new URLSearchParams(e.search);i.set("output","csv"),i.get("gid")&&i.set("single","true"),e.search=`?${i.toString()}`;let a=e.pathname.substr(0,e.pathname.lastIndexOf("/"));return e.pathname=`${a}/pub`,e.toString()}throw new ne("invalid_url_err",t)}async function wl(t,e){if(!e.sheets_proxy)throw new ne("Proxy option must be set to read data from Google");var i=await yl(t,e.sheets_proxy);if(i)return i}async function bl(t,e){let i=null,a={};if(typeof e=="function"?i=e:typeof e=="object"&&(a=e,i=e.callback,typeof a.callback=="function"&&(i=a.callback)),!i)throw new ne("Second argument to makeConfig must be either a function or an object which includes a 'callback' property with a 'function' type value");var s,r,l=ml(t);if(l){try{r=await wl(t,a)}catch(m){s=new Jt,m.name=="NetworkError"?s.logError(new ne("network_err")):m.name=="TLError"?s.logError(m):s.logError(new ne("unknown_read_err",m.name)),i(s);return}if(s=new Jt(r),r.errors)for(var h=0;h<r.errors.length;h++)s.logError(r.errors[h]);i(s)}else wi({url:t,dataType:"json",success:function(m){try{s=new Jt(m)}catch(p){s=new Jt,s.logError(p)}i(s)},error:function(m,p,y){if(s=new Jt,p=="parsererror")var y=new ne("invalid_url_err");else var y=new ne("unknown_read_err",p);s.logError(y),i(s)}})}function kl(t,e){var i="event";typeof t.type<"u"&&(i=t.type,delete t.type),i=="title"?e.title?(e.warnings.push("Multiple title slides detected."),e.events.push(t)):e.title=t:i=="era"?e.eras.push(t):e.events.push(t)}class Tl{constructor(e){if(e)this.scale=e.scale,this.minor=e.minor,this.major=e.major;else throw new ne("axis_helper_no_options_err")}getPixelsPerTick(e){return e*this.minor.factor}getMajorTicks(e){return this._getTicks(e,this.major)}getMinorTicks(e){return this._getTicks(e,this.minor)}_getTicks(e,i){for(var a=e._scaled_padding*i.factor,s=e._earliest-a,r=e._latest+a,l=[],h=s;h<r;h+=i.factor)l.push(e.getDateFromTime(h).floor(i.name));return{name:i.name,ticks:l}}}var hs={},Gn=function(t,e){hs[t]=[];for(var i=0;i<e.length-1;i++){var a=e[i],s=e[i+1];hs[t].push(new Tl({scale:a[3],minor:{name:a[0],factor:a[1]},major:{name:s[0],factor:s[1]}}))}};Gn("human",ct);Gn("cosmological",Ki);function Ml(t,e){typeof e!="number"&&(e=100);var i=t.getScale(),a=hs[i];if(!a)throw new ne("axis_helper_scale_err",i);for(var s=null,r=0;r<a.length;r++){var l=a[r],h=l.getPixelsPerTick(t._pixels_per_milli);if(h>e){if(s==null)return l;var m=Math.abs(e-h),p=Math.abs(e-h);return m<p?l:s}s=l}return a[a.length-1]}const xl={millisecond:"time_milliseconds",second:"time_short",minute:"time_no_seconds_short",hour:"time_no_minutes_short",day:"full_short",month:"month_short",year:"year",decade:"year",century:"year",millennium:"year",age:"compact",epoch:"compact",era:"compact",eon:"compact",eon2:"compact"};class Tn{constructor(e,i){var a=e.events;this._scale=e.scale,i=fe({display_width:500,screen_multiplier:3,max_rows:null},i),this._display_width=i.display_width,this._screen_multiplier=i.screen_multiplier,this._pixel_width=this._screen_multiplier*this._display_width,this._group_labels=void 0,this._positions=[],this._pixels_per_milli=0,this._earliest=e.getEarliestDate().getTime(),this._latest=e.getLatestDate().getTime(),this._span_in_millis=this._latest-this._earliest,this._span_in_millis<=0&&(this._span_in_millis=this._computeDefaultSpan(e)),this._average=this._span_in_millis/a.length,this._pixels_per_milli=this.getPixelWidth()/this._span_in_millis,this._axis_helper=Ml(this),this._scaled_padding=1/this.getPixelsPerTick()*(this._display_width/2),this._computePositionInfo(a,i.max_rows)}_computeDefaultSpan(e){if(e.scale=="human"){for(var i={},a=0;a<e.events.length;a++){var s=e.events[a].start_date.findBestFormat();i[s]=i[s]?i[s]+1:1}for(var a=ct.length-1;a>=0;a--)if(i.hasOwnProperty(ct[a][0])){var r=ct[ct.length-1];return ct[a+1]&&(r=ct[a+1]),r[1]}return 365*24*60*60*1e3}return 2e5}getGroupLabels(){return this._group_labels||[]}getScale(){return this._scale}getNumberOfRows(){return this._number_of_rows}getPixelWidth(){return this._pixel_width}getPosition(e){return(e-this._earliest)*this._pixels_per_milli}getPositionInfo(e){return this._positions[e]}getPixelsPerTick(){return this._axis_helper.getPixelsPerTick(this._pixels_per_milli)}getTicks(){return{major:this._axis_helper.getMajorTicks(this),minor:this._axis_helper.getMinorTicks(this)}}getDateFromTime(e){if(this._scale=="human")return new ga(e);if(this._scale=="cosmological")return new ya(new Oi(e));throw new ne("time_scale_scale_err",this._scale)}getMajorScale(){return this._axis_helper.major.name}getMinorScale(){return this._axis_helper.minor.name}_assessGroups(e){for(var i=[],a=!1,s=0;s<e.length;s++)e[s].group&&(i.indexOf(e[s].group)<0?i.push(e[s].group):a=!0);return i.length&&a&&i.push(""),i}_computeRowInfo(e,i){for(var a=[],s=0,r=0;r<e.length;r++){var l=e[r],h=[];delete l.row;for(var m=0;m<a.length;m++)if(h.push(a[m].end-l.start),h[m]<=0){l.row=m,a[m]=l;break}if(typeof l.row>"u")if(i===null)l.row=a.length,a.push(l);else if(i>0)l.row=a.length,a.push(l),i--;else{var p=Math.min.apply(null,h),y=h.indexOf(p);l.row=y,l.end>a[y].end&&(a[y]=l),s++}}return{n_rows:a.length,n_overlaps:s}}_computePositionInfo(e,i,a){a=a||100;for(var s=[],r=!1,l=0;l<e.length;l++){var h={start:this.getPosition(e[l].start_date.getTime())};if(this._positions.push(h),typeof e[l].end_date<"u"){var m=this.getPosition(e[l].end_date.getTime());h.width=m-h.start,h.width>a?h.end=h.start+h.width:h.end=h.start+a}else h.width=a,h.end=h.start+a;e[l].group?s.indexOf(e[l].group)<0&&s.push(e[l].group):r=!0}if(s.length){r&&s.push("");for(var y=[],l=0;l<s.length;l++)y[l]={label:s[l],idx:l,positions:[],n_rows:1,n_overlaps:0};for(var l=0;l<this._positions.length;l++){var h=this._positions[l];h.group=s.indexOf(e[l].group||""),h.row=0;for(var _=y[h.group],L=_.positions.length-1;L>=0;L--)_.positions[L].end>h.start&&_.n_overlaps++;_.positions.push(h)}for(var I=s.length;;){var H=Math.max(0,i-I);if(!H||(y.sort(function(ee,te){return ee.n_overlaps>te.n_overlaps?-1:ee.n_overlaps<te.n_overlaps?1:ee.idx-te.idx}),!y[0].n_overlaps))break;for(var I=0,l=0;l<y.length;l++){var _=y[l];if(_.n_overlaps&&H){var V=this._computeRowInfo(_.positions,_.n_rows+1);_.n_rows=V.n_rows,_.n_overlaps=V.n_overlaps,H--}I+=_.n_rows}}this._number_of_rows=I,this._group_labels=[],y.sort(function(ie,ee){return ie.idx-ee.idx});for(var l=0,z=0;l<y.length;l++){this._group_labels.push({label:y[l].label,rows:y[l].n_rows});for(var L=0;L<y[l].positions.length;L++){var h=y[l].positions[L];h.row+=z}z+=y[l].n_rows}}else{var p=this._computeRowInfo(this._positions,i);this._number_of_rows=p.n_rows}}getAxisTickDateFormat(e){return this._scale=="cosmological"?"compact":xl[e]}}class qn{constructor(e){this._el={parent:{},container:{},message:{}},this.options={width:600,height:600},this.data={label:"",rows:1},this._el.container=O("div","tl-timegroup"),fe(this.data,e),this.animator={},this._initLayout(),this._initEvents()}updateDisplay(e,i){}setRowPosition(e,i){this.options.height=i*this.data.rows,this.setPosition({top:e}),this._el.container.style.height=this.options.height+"px"}setAlternateRowColor(e,i){var a="tl-timegroup";e&&(a+=" tl-timegroup-alternate"),i&&(a+=" tl-timegroup-hidden"),this._el.container.className=a}_onMouseClick(){this.fire("clicked",this.options)}_initLayout(){this._el.message=O("div","tl-timegroup-message",this._el.container),this._el.message.innerHTML=this.data.label}_initEvents(){Q.addListener(this._el.container,"click",this._onMouseClick,this)}_updateDisplay(e,i,a){}}qe(qn,Be,It);class Bn{constructor(e,i,a,s){this.start_date=e,this.end_date=i,this.headline=a,this._el={container:{},background:{},content_container:{},content:{},text:{}},this._text={},this._state={loaded:!1},this.options={duration:1e3,ease:ma,width:600,height:600,marker_width_min:100},this.active=!1,this.animator={},this.has_end_date=!1,fe(this.options,s),this._initLayout(),this._initEvents()}show(){}hide(){}setActive(e){}addTo(e){e.appendChild(this._el.container)}removeFrom(e){e.removeChild(this._el.container)}updateDisplay(e,i){this._updateDisplay(e,i)}getLeft(){return this._el.container.style.left.slice(0,-2)}getTime(){return this.start_date.getTime()}getEndTime(){return this.end_date?this.end_date.getTime():!1}setHeight(e){var i=12,a=1;this._el.content_container.style.height=e+"px",this._el.content.className="tl-timeera-content",fa?(a=Math.floor(e/(i+2)),a<1&&(a=1),this._text.className="tl-headline",this._text.style.webkitLineClamp=a):(a=e/i,a>1?this._text.className="tl-headline tl-headline-fadeout":this._text.className="tl-headline",this._text.style.height=a*i+"px")}setWidth(e){this.end_date&&(this._el.container.style.width=e+"px",e>this.options.marker_width_min?(this._el.content_container.style.width=e+"px",this._el.content_container.className="tl-timeera-content-container tl-timeera-content-container-long"):(this._el.content_container.style.width=this.options.marker_width_min+"px",this._el.content_container.className="tl-timeera-content-container"))}setClass(e){this._el.container.className=e}setRowPosition(e,i){this.setPosition({top:e}),i<56&&this._el.content_container.remove("tl-timeera-content-container-small")}setColor(e){this._el.container.className="tl-timeera tl-timeera-color"+e}_initLayout(){this._el.container=O("div","tl-timeera"),this.end_date&&(this.has_end_date=!0,this._el.container.className="tl-timeera tl-timeera-with-end"),this._el.content_container=O("div","tl-timeera-content-container",this._el.container),this._el.background=O("div","tl-timeera-background",this._el.content_container),this._el.content=O("div","tl-timeera-content",this._el.content_container),this._el.text=O("div","tl-timeera-text",this._el.content),this._text=O("h2","tl-headline",this._el.text),this.headline&&this.headline!=""&&(this._text.innerHTML=ci(this.headline)),this.onLoaded()}_initEvents(){}_updateDisplay(e,i,a){e&&(this.options.width=e),i&&(this.options.height=i)}}qe(Bn,Be,It);function Sl(t){const e=t.getBoundingClientRect();return e.left>=0&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}class Vn{constructor(e,i,a){a&&this.setLanguage(a),this._el={container:{},content_container:{},major:{},minor:{}},this._text={},this._state={loaded:!1},this.data={},this.options={duration:1e3,ease:ma,width:600,height:600},this.active=!1,this.animator={},this.axis_helper={},this.minor_ticks=[],this.major_ticks=[],typeof e=="object"?this._el.container=e:this._el.container=Yi(e),fe(this.options,i),this._initLayout(),this._initEvents()}show(){}hide(){}addTo(e){e.appendChild(this._el.container)}removeFrom(e){e.removeChild(this._el.container)}updateDisplay(e,i){this._updateDisplay(e,i)}getLeft(){return this._el.container.style.left.slice(0,-2)}drawTicks(e,i){var a=e.getTicks();this._el.major.className="tl-timeaxis-major",this._el.minor.className="tl-timeaxis-minor",this._el.major.style.opacity=0,this._el.minor.style.opacity=0,this.major_ticks=this._createTickElements(a.major.ticks,this._el.major,e.getAxisTickDateFormat(a.major.name)),this.minor_ticks=this._createTickElements(a.minor.ticks,this._el.minor,e.getAxisTickDateFormat(a.minor.name),a.major.ticks),this.positionTicks(e,i,!0),this._el.major.className="tl-timeaxis-major tl-animate-opacity tl-timeaxis-animate-opacity",this._el.minor.className="tl-timeaxis-minor tl-animate-opacity tl-timeaxis-animate-opacity",this._el.major.style.opacity=1,this._el.minor.style.opacity=1}_createTickElements(e,i,a,s){i.innerHTML="";var r={},l=new Date(-1,13,-30);if(r[l.getTime()]=!0,s)for(var h=0;h<s.length;h++)r[s[h].getTime()]=!0;for(var m=[],h=0;h<e.length;h++){var p=e[h];if(!(p.getTime()in r)){var y=O("div","tl-timeaxis-tick",i),_=O("span","tl-timeaxis-tick-text tl-animate-opacity",y);let I=p.getDisplayDate(this.getLanguage(),a);_.innerHTML=I,m.push({tick:y,tick_text:_,display_date:I,date:p})}}return m}positionTicks(e,i,a){a?(this._el.major.className="tl-timeaxis-major",this._el.minor.className="tl-timeaxis-minor"):(this._el.major.className="tl-timeaxis-major tl-timeaxis-animate",this._el.minor.className="tl-timeaxis-minor tl-timeaxis-animate"),this._positionTickArray(this.major_ticks,e,i),this._positionTickArray(this.minor_ticks,e,i)}_positionTickArray(e,i,a){if(e[1]&&e[0]){var s=i.getPosition(e[1].date.getMillisecond())-i.getPosition(e[0].date.getMillisecond()),r=1;s<a&&(r=Math.round(a/i.getPixelsPerTick()));for(var l=1,h=0;h<e.length;h++){var m=e[h];m.tick.style.left=i.getPosition(m.date.getMillisecond())+"px",m.tick_text.innerHTML=m.display_date,r>1?l>=r?(l=1,m.tick_text.style.opacity=1,m.tick.className="tl-timeaxis-tick"):(l++,m.tick_text.style.opacity=0,m.tick.className="tl-timeaxis-tick tl-timeaxis-tick-hidden"):(m.tick_text.style.opacity=1,m.tick.className="tl-timeaxis-tick")}}}getVisibleTicks(){return{major:this._getVisibleTickArray(this.major_ticks),minor:this._getVisibleTickArray(this.minor_ticks)}}_getVisibleTickArray(e){return e.filter(({tick:i})=>Sl(i))}_initLayout(){this._el.content_container=O("div","tl-timeaxis-content-container",this._el.container),this._el.major=O("div","tl-timeaxis-major",this._el.content_container),this._el.minor=O("div","tl-timeaxis-minor",this._el.content_container),this.onLoaded()}_initEvents(){}_updateDisplay(e,i,a){e&&(this.options.width=e),i&&(this.options.height=i)}}qe(Vn,Be,It,Ct);class $n{constructor(e,i,a){this._el={container:{},content_container:{},content:{},headline_container:{},headline:{},date:{}},this.options={title:!1},this.data={unique_id:"",headline:"headline",text:"text"},wo(this,e),fe(this.options,i),this._el.container=O("div","tl-text"),this._el.container.id=this.data.unique_id,this._initLayout(),a&&a.appendChild(this._el.container)}show(){}hide(){}addTo(e){e.appendChild(this._el.container)}removeFrom(e){e.removeChild(this._el.container)}headlineHeight(){return this._el.headline.offsetHeight+40}addDateText(e){this._el.date.innerHTML=e}onLoaded(){this.fire("loaded",this.data)}onAdd(){this.fire("added",this.data)}onRemove(){this.fire("removed",this.data)}_initLayout(){if(this._el.content_container=O("div","tl-text-content-container",this._el.container),this._el.headline_container=O("div","tl-text-headline-container",this._el.content_container),this.data.headline!=""){var e="tl-headline";this.options.title&&(e="tl-headline tl-headline-title"),this._el.headline=O("h2",e,this._el.headline_container),this._el.headline.innerHTML=this.data.headline}if(this._el.date=O("h3","tl-headline-date",this._el.headline_container),this.data.text!=""){var i="";i+=bo(this.options.autolink==!0?is(this.data.text):this.data.text),this._el.content=O("div","tl-text-content",this._el.content_container),this._el.content.innerHTML=i}this.onLoaded()}}qe($n,Be);class ye{constructor(e,i,a){a&&this.setLanguage(a),this._el={container:{},content_container:{},content:{},content_item:{},content_link:{},caption:null,credit:null,parent:{},link:null},this.player=null,this.timer=null,this.load_timer=null,this.message=null,this.media_id=null,this._state={loaded:!1,show_meta:!1,media_loaded:!1},this.data={unique_id:null,url:null,credit:null,caption:null,credit_alternate:null,caption_alternate:null,link:null,link_target:null},this.options={api_key_flickr:"bd3a7c45ddd52f3101825d41563a6125",api_key_googlemaps:"AIzaSyB9dW8e_iRrATFa8g24qB6BDBGdkrLDZYI",api_key_embedly:"",credit_height:0,caption_height:0,background:0},this.animator={},fe(this.options,i),fe(this.data,e),this.options.background||(this._el.container=O("div","tl-media"),this.data.unique_id&&(this._el.container.id=this.data.unique_id),this._initLayout())}loadMedia(){var e=this;if(!this._state.loaded)try{this.load_timer=setTimeout(function(){e.loadingMessage(),e._loadMedia(),e._updateDisplay()},1200)}catch(i){re("Error loading media for ",this._media),re(i)}}_updateMessage(e){this.message&&this.message.updateMessage(e)}loadingMessage(){this._updateMessage(this._("loading")+" "+this.options.media_name)}errorMessage(e){e?e=this._("error")+": "+e:e=this._("error"),this._updateMessage(e)}updateMediaDisplay(e){this._state.loaded&&!this.options.background&&(ii?this._el.content_item.style.maxHeight=this.options.height/2+"px":this._el.content_item.style.maxHeight=this.options.height-this.options.credit_height-this.options.caption_height-30+"px",this._el.container.style.maxWidth=this.options.width+"px",gi&&this._el.content_item.offsetWidth>this._el.content_item.offsetHeight,this._updateMediaDisplay(e),this._state.media_loaded&&(this._el.credit&&(this._el.credit.style.width=this._el.content_item.offsetWidth+"px"),this._el.caption&&(this._el.caption.style.width=this._el.content_item.offsetWidth+"px")))}_loadMedia(){this.onLoaded()}_updateMediaDisplay(e){gi&&(this._el.content_item.style.maxWidth=this.options.width+"px",this._el.content_item.style.width="auto")}_getMeta(){}_getImageURL(e,i){return""}show(){}hide(){}addTo(e){e.appendChild(this._el.container),this.onAdd()}removeFrom(e){e.removeChild(this._el.container),this.onRemove()}getImageURL(e,i){return this._getImageURL(e,i)}updateDisplay(e,i,a){this._updateDisplay(e,i,a)}stopMedia(){try{this._stopMedia()}catch(e){re(`stopMedia() exception: ${e}`)}}loadErrorDisplay(e){try{this._el.content.removeChild(this._el.content_item)}catch{}this._el.content_item=O("div","tl-media-item tl-media-loaderror",this._el.content),this._el.content_item.innerHTML="<div class='tl-icon-"+this.options.media_type+"'></div><p>"+e+"</p>",this.onLoaded(!0)}onLoaded(e){this._state.loaded=!0,this.fire("loaded",this.data),this.message&&this.message.hide(),e||this.options.background||this.showMeta(),this.updateDisplay()}onMediaLoaded(e){this._state.media_loaded=!0,this.fire("media_loaded",this.data),this._el.credit&&(this._el.credit.style.width=this._el.content_item.offsetWidth+"px"),this._el.caption&&(this._el.caption.style.width=this._el.content_item.offsetWidth+"px")}showMeta(e,i){this._state.show_meta=!0,this.data.credit&&this.data.credit!=""&&(this._el.credit=O("div","tl-credit",this._el.content_container),this._el.credit.innerHTML=this.options.autolink==!0?is(this.data.credit):this.data.credit,this.options.credit_height=this._el.credit.offsetHeight),this.data.caption&&this.data.caption!=""&&(this._el.caption=O("div","tl-caption",this._el.content_container),this._el.caption.innerHTML=this.options.autolink==!0?is(this.data.caption):this.data.caption,this.options.caption_height=this._el.caption.offsetHeight),(!this.data.caption||!this.data.credit)&&this.getMeta()}getMeta(){this._getMeta()}updateMeta(){!this.data.credit&&this.data.credit_alternate&&(this._el.credit=O("div","tl-credit",this._el.content_container),this._el.credit.innerHTML=this.data.credit_alternate,this.options.credit_height=this._el.credit.offsetHeight),!this.data.caption&&this.data.caption_alternate&&(this._el.caption=O("div","tl-caption",this._el.content_container),this._el.caption.innerHTML=this.data.caption_alternate,this.options.caption_height=this._el.caption.offsetHeight),this.updateDisplay()}onAdd(){this.fire("added",this.data)}onRemove(){this.fire("removed",this.data)}_initLayout(){this.message=new va(this._el.container,this.options,this.getLanguage()),this._el.content_container=O("div","tl-media-content-container",this._el.container),this.data.link&&this.data.link!=""?(this._el.link=O("a","tl-media-link",this._el.content_container),this._el.link.href=this.data.link,this.data.link_target&&this.data.link_target!=""?this._el.link.target=this.data.link_target:this._el.link.target="_blank",this._el.link.target=="_blank"&&this._el.link.setAttribute("rel","noopener"),this._el.content=O("div","tl-media-content",this._el.link)):this._el.content=O("div","tl-media-content",this._el.content_container)}_updateDisplay(e,i,a){e&&(this.options.width=e),i&&(this.options.height=i),a&&(this.options.layout=a),this._el.credit&&(this.options.credit_height=this._el.credit.offsetHeight),this._el.caption&&(this.options.caption_height=this._el.caption.offsetHeight+5),this.updateMediaDisplay(this.options.layout)}domCreate(...e){return O(...e)}_stopMedia(){}}qe(ye,Be,Ct);class Mn extends ye{_loadMedia(){this.loadingMessage(),this.options.background||this.createMedia(),this.onLoaded()}createMedia(){var e=this,i="tl-media-item tl-media-image tl-media-shadow";(this.data.url.match(/.png(\?.*)?$/)||this.data.url.match(/.svg(\?.*)?$/))&&(i="tl-media-item tl-media-image"),this._el.content_item=this.domCreate("img",i,this._el.content),this.data.alt?this._el.content_item.alt=this.data.alt:this.data.caption&&(this._el.content_item.alt=yi(this.data.caption)),this.data.title?this._el.content_item.title=this.data.title:this.data.caption&&(this._el.content_item.title=yi(this.data.caption)),this._el.content_item.addEventListener("load",function(a){e.onMediaLoaded()}),this._el.content_item.src=this.getImageURL()}getImageURL(e,i){return _a(this.data.url)}_updateMediaDisplay(e){gi&&(this._el.content_item.style.width="auto")}}class Dl{constructor(e){this.doc=e,this.pending={},this.queue={css:[],js:[]},this.styleSheets=e.styleSheets,this.env=this.getEnv(),this.head=this.doc.head||this.doc.getElementsByTagName("head")[0],this.pollCount=0}createNode(e,i){var a=this.doc.createElement(e),s;for(s in i)i.hasOwnProperty(s)&&a.setAttribute(s,i[s]);return a}finish(e){var i=this.pending[e],a,s;i&&(a=i.callback,s=i.urls,s.shift(),this.pollCount=0,s.length||(a&&a.call(i.context,i.obj),this.pending[e]=null,this.queue[e].length&&this.load(e)))}getEnv(){var e=navigator.userAgent,i={async:this.doc.createElement("script").async===!0};return(i.webkit=/AppleWebKit\//.test(e))||(i.ie=/MSIE/.test(e))||(i.opera=/Opera/.test(e))||(i.gecko=/Gecko\//.test(e))||(i.unknown=!0),i}load(e,i,a,s,r){var l=(function(){this.finish(e)}).bind(this),h=e==="css",m=[],p,y,_,L,I,H;if(i)if(i=typeof i=="string"?[i]:i.concat(),h||this.env.async||this.env.gecko||this.env.opera)this.queue[e].push({urls:i,callback:a,obj:s,context:r});else for(p=0,y=i.length;p<y;++p)this.queue[e].push({urls:[i[p]],callback:p===y-1?a:null,obj:s,context:r});if(!(this.pending[e]||!(L=this.pending[e]=this.queue[e].shift()))){for(I=L.urls,p=0,y=I.length;p<y;++p)H=I[p],h?_=this.env.gecko?this.createNode("style"):this.createNode("link",{href:H,rel:"stylesheet"}):(_=this.createNode("script",{src:H}),_.async=!1),_.className="lazyload",_.setAttribute("charset","utf-8"),this.env.ie&&!h?_.onreadystatechange=function(){/loaded|complete/.test(_.readyState)&&(_.onreadystatechange=null,l())}:h&&(this.env.gecko||this.env.webkit)?this.env.webkit?(L.urls[p]=_.href,this.pollWebKit()):(_.innerHTML='@import "'+H+'";',this.pollGecko(_)):_.onload=_.onerror=l,m.push(_);for(p=0,y=m.length;p<y;++p)this.head.appendChild(m[p])}}pollGecko(e){var i;try{i=!!e.sheet.cssRules}catch{if(this.pollCount+=1,this.pollCount<200){var a=this;setTimeout(function(){a.pollGecko(e)},50)}else i&&this.finish("css");return}this.finish("css")}pollWebKit(){var e=this.pending.css,i;if(e){for(i=this.styleSheets.length;--i>=0;)if(this.styleSheets[i].href===e.urls[0]){this.finish("css");break}this.pollCount+=1,e&&(this.pollCount<200?setTimeout(this.pollWebKit.bind(this),50):this.finish("css"))}}css(e,i,a,s){this.load("css",e,i,a,s)}js(e,i,a,s){this.load("js",e,i,a,s)}}function ti(t,e,i,a){Zn.js(t,e,i,a)}function Va(t,e,i,a){Zn.css(t,e,i,a)}let Zn=new Dl(document);class El extends ye{_loadMedia(){var e=this,i;this.youtube_loaded=!1,this._el.content_item=this.domCreate("div","tl-media-item tl-media-youtube tl-media-shadow",this._el.content),this._el.content_item.id=ei(7),i=ko(this.data.url),this.media_id={},this.data.url.match("v=")?this.media_id.id=i.v:this.data.url.match("/embed/")?this.media_id.id=this.data.url.split("embed/")[1].split(/[?&]/)[0]:this.data.url.match(/v\/|v=|youtu\.be\//)?this.media_id.id=this.data.url.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0]:re("YOUTUBE IN URL BUT NOT A VALID VIDEO"),this.data.url.match("start=")?this.media_id.start=Wa(this.data.url.split("start=")[1]):this.data.url.match("t=")&&(this.media_id.start=Wa(this.data.url.split("t=")[1])),this.data.url.match("end=")&&(this.media_id.end=Wa(this.data.url.split("end=")[1])),this.media_id.hd=typeof i.hd<"u",ti("https://www.youtube.com/iframe_api",function(){e.createMedia()})}_updateMediaDisplay(){this._el.content_item.style.height=ai.r16_9({w:this.options.width})+"px",this._el.content_item.style.width=this.options.width+"px"}_stopMedia(){if(this.youtube_loaded)try{this.player.getPlayerState()==YT.PlayerState.PLAYING&&this.player.pauseVideo()}catch(e){re(e)}}createMedia(){var e=this;clearTimeout(this.timer),typeof YT<"u"&&typeof YT.Player<"u"?this.player=new YT.Player(this._el.content_item.id,{playerVars:{enablejsapi:1,color:"white",controls:1,start:this.media_id.start,end:this.media_id.end,fs:1},videoId:this.media_id.id,events:{onReady:function(){e.onPlayerReady(),e.onLoaded()},onStateChange:e.onStateChange}}):this.timer=setTimeout(function(){e.createMedia()},1e3)}onPlayerReady(e){this.youtube_loaded=!0,this._el.content_item=document.getElementById(this._el.content_item.id),this.onMediaLoaded()}onStateChange(e){e.data==YT.PlayerState.ENDED&&(e.target.seekTo(0),e.target.pauseVideo())}}class Ll extends ye{_loadMedia(){this._el.content_item=this.domCreate("div","tl-media-item tl-media-map tl-media-shadow",this._el.content),this.media_id=this.data.url,this.mapframe=this.domCreate("iframe","",this._el.content_item),this.mapframe.width="100%",this.mapframe.height="100%",this.mapframe.frameBorder="0",this.mapframe.src=this.makeGoogleMapsEmbedURL(this.media_id,this.options.api_key_googlemaps),this.onLoaded()}_updateMediaDisplay(){if(this._state.loaded){var e=ai.square({w:this._el.content_item.offsetWidth});this._el.content_item.style.height=e.h+"px"}}makeGoogleMapsEmbedURL(e,i){var a=!1;function s(_){function L(V,z){if(V.slice(-1)=="z")z.zoom=V;else if(V.slice(-1)=="m")z.zoom=14,z.maptype="satellite";else if(V.slice(-1)=="t"){if(a=!0,H=="place")var ie=_.match(y.place)[3]+","+_.match(y.place)[4];else{var ie=z.center;delete z.center}z={},z.location=ie,streetview_params=V.split(",");for(let te in r.streetview){var ee=parseInt(te)+1;r.streetview[te]=="pitch"&&streetview_params[ee]=="90t"?z[r.streetview[te]]=0:z[r.streetview[te]]=streetview_params[ee].slice(0,-1)}}return z}function I(V,z){var ie={},ee=z[1],te=z[z.length-1];for(let xe in r[V]){var G=parseInt(xe)+2;r[V][xe]=="center"?ie[r[V][xe]]=z[G]+","+z[++G]:ie[r[V][xe]]=z[G]}return ie=L(te,ie),ie.key=i,a==!0&&(V="streetview"),ee+"/embed/v1/"+V+To(ie)}let H="view";return _.match(y.place)?H="place":_.match(y.directions)?H="directions":_.match(y.search)&&(H="search"),I(H,_.match(y[H]))}var r={view:["center"],place:["q","center"],directions:["origin","destination","center"],search:["q","center"],streetview:["fov","heading","pitch"]},l=/(https:\/\/.+google.+?\/maps)/,h=/@([-\d.]+),([-\d.]+)/,m=/([\w\W]+)/,p=/,((?:[-\d.]+[zmayht],?)*)/,y={view:new RegExp(l.source+"/"+h.source+p.source),place:new RegExp(l.source+"/place/"+m.source+"/"+h.source+p.source),directions:new RegExp(l.source+"/dir/"+m.source+"/"+m.source+"/"+h.source+p.source),search:new RegExp(l.source+"/search/"+m.source+"/"+h.source+p.source)};return s(e)}}class Al extends ye{constructor(e,i,a){super(e,i,a),this.blockquote=wa.sanitize(this.data.url)}_loadMedia(){this._el.content_item=this.domCreate("div","tl-media-item tl-media-blockquote",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this._el.content_item.innerHTML=this.blockquote,this.onLoaded()}updateMediaDisplay(){}}class Ol extends ye{_loadMedia(){var e,i,a=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-wikipedia",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this.media_id=this.data.url.split("wiki/")[1].split("#")[0].replace("_"," "),this.media_id=this.media_id.replace(" ","%20"),i=this.data.url.split("//")[1].split(".wikipedia")[0],e="https://"+i+".wikipedia.org/w/api.php?action=query&prop=extracts|pageimages&redirects=&titles="+this.media_id+"&exintro=1&format=json&callback=?",wi({type:"GET",url:e,dataType:"json",success:function(s){a.createMedia(s)},error:function(s,r){var l="";l+=a._("wikipedia_load_err")+"<br/>"+a.media_id+"<br/>"+r,a.loadErrorDisplay(l)}})}createMedia(e){var i="";if(e.query){var a="",i={entry:{},title:"",text:"",extract:"",paragraphs:1,page_image:"",text_array:[]};i.entry=Mo(e.query.pages,0),i.extract=i.entry.extract,i.title=i.entry.title,i.page_image=i.entry.thumbnail,i.extract.match("<p>")?i.text_array=i.extract.split("<p>"):i.text_array.push(i.extract);for(var s=0;s<i.text_array.length;s++)s+1<=i.paragraphs&&s+1<i.text_array.length&&(i.text+="<p>"+i.text_array[s+1]);a+="<span class='tl-icon-wikipedia'></span>",a+="<div class='tl-wikipedia-title'><h4><a href='"+this.data.url+"' target='_blank' rel='noopener'>"+i.title+"</a></h4>",a+="<span class='tl-wikipedia-source'>"+this._("wikipedia")+"</span></div>",i.page_image,a+=i.text,i.extract.match("REDIRECT")||(this._el.content_item.innerHTML=a,this.onLoaded())}}updateMediaDisplay(){}}function Nl(t){if(t.match(/^.+#\/media\/.+/))return`File:${t.split("#")[1].split(":")[1]}`;if(t.match(/^.*commons.wikimedia.org\/wiki\/File:.+/)){let e=t.split("/");return e[e.length-1]}return null}function Il(t){let e={};if(t.query&&t.query.pages){let i=Object.keys(t.query.pages);e.page_id=i[0];let a=t.query.pages[e.page_id];e.url=a.imageinfo[0].thumburl,a.entityterms&&a.entityterms.label&&(e.label=a.entityterms.label[0])}return e}class xn extends ye{_loadMedia(){var e,i=this.options.width||1e3,a=this.getLanguage().lang.toLowerCase(),s=this;try{this.establishMediaID(),e=`https://commons.wikimedia.org/w/api.php?action=query&titles=${this.media_id}&prop=imageinfo|entityterms&iiprop=url&&iiurlwidth=${i}&format=json&origin=*&wbetlanguage=${a}`,na(e,function(r){let l=Il(r);l.url?(s.base_image_url=l.url,s.page_id=l.page_id,!s.data.alt&&l.label&&(s.data.alt=l.label),s.options.background||s.createMedia(),s.onLoaded()):s.loadErrorDisplay(s._("wikipedia_image_load_err"))})}catch(r){s.loadErrorDisplay(s._(r.message_key))}}establishMediaID(){let e=Nl(this.data.url);if(e)this.media_id=e;else throw new ne("Invalid Wikipedia Image URL")}createMedia(){var e=this;if(this._el.content_item=this.domCreate("img","tl-media-item tl-media-image tl-media-wikipedia-image tl-media-shadow",this._el.content),this.data.alt)this._el.content_item.alt=this.data.alt;else if(this.page_id){let i=`M${this.page_id}`,a=`https://commons.wikimedia.org/w/api.php?action=wbgetentities&format=json&ids=${i}&format=json&origin=*`;pa(a).then(s=>{if(s.entities&&s.entities[i]){let r=s.entities[i].labels,l=e.getLanguage().lang.toLowerCase(),h=null;r[l]?h=r[l]:l.length>2&&r[l.substr(0,2)]?h=r[l.substr(0,2)]:r.en&&(h=r.en),h?(console.log(`wikibase_id: ${e.media_id} alt ${h.value}`),e.data.alt=h.value,e._el.content_item.alt=e.data.alt):console.log(`wikibase_id: ${e.media_id} ain't got no alt`)}})}this.data.title&&(this._el.content_item.title=this.data.title),this._el.content_item.addEventListener("load",function(i){e.onMediaLoaded()}),this._el.content_item.src=this.getImageURL(this.options.width,this.options.height)}_getImageURL(e,i){if(e&&this.base_image_url){let a=this.base_image_url.match(/(\/\d+px-)/);if(a)return this.base_image_url.replace(a[1],`/${e}px-`)}return this.base_image_url}}class Rl extends ye{_loadMedia(){var e,i=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-soundcloud tl-media-shadow",this._el.content),this.media_id=this.data.url,e="https://soundcloud.com/oembed?url="+this.media_id+"&format=js&callback=?",na(e,function(a){ti("https://w.soundcloud.com/player/api.js",function(){i.createMedia(a)})})}createMedia(e){this._el.content_item.innerHTML=e.html,self.widget=SC.Widget(this._el.content_item.querySelector("iframe")),this.soundCloudCreated=!0,this.onLoaded()}_stopMedia(){this.soundCloudCreated&&self.widget.pause()}}class Cl extends ye{_loadMedia(){var e,i=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-vimeo tl-media-shadow",this._el.content),this.media_id=this.data.url.split(/video\/|\/\/vimeo\.com\//)[1].split(/[?&]/)[0];var a=null;this.data.url.match(/#t=([^&]+).*/)&&(a=this.data.url.match(/#t=([^&]+).*/)[1]),e="https://player.vimeo.com/video/"+this.media_id+"?api=1&title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff",a&&(e=e+="&amp;#t="+a),this.player=this.domCreate("iframe","",this._el.content_item),this.player.addEventListener("load",function(s){i.onMediaLoaded()}),this.player.width="100%",this.player.height="100%",this.player.frameBorder="0",this.player.src=e,this.player.setAttribute("allowfullscreen",""),this.player.setAttribute("webkitallowfullscreen",""),this.player.setAttribute("mozallowfullscreen",""),this.onLoaded()}_updateMediaDisplay(){this._el.content_item.style.height=ai.r16_9({w:this._el.content_item.offsetWidth})+"px"}_stopMedia(){try{this.player&&this.player.contentWindow&&this.player.contentWindow.postMessage(JSON.stringify({method:"pause"}),"https://player.vimeo.com")}catch(e){re(e)}}}class Pl extends ye{_loadMedia(){var e;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-dailymotion",this._el.content),this.data.url.indexOf("dai.ly/")!=-1?this.media_id=this.data.url.substr(this.data.url.indexOf("dai.ly/")+7):this.data.url.match("video")?this.media_id=this.data.url.split("video/")[1].split(/[?&]/)[0]:this.media_id=this.data.url.split("embed/")[1].split(/[?&]/)[0],this.media_id.indexOf("_")!=-1&&(this.media_id=this.media_id.split("_")[0]),e="https://www.dailymotion.com/embed/video/"+this.media_id+"?api=postMessage",this._el.content_item.innerHTML="<iframe autostart='false' frameborder='0' width='100%' height='100%' src='"+e+"'></iframe>",this.onLoaded()}_updateMediaDisplay(){this._state.loaded&&(this._el.content_item.style.height=ai.r16_9({w:this._el.content_item.offsetWidth})+"px")}_stopMedia(){this._state.loaded&&this._el.content_item.querySelector("iframe").contentWindow.postMessage('{"command":"pause","parameters":[]}',"*")}}class Yl extends ye{_loadMedia(){var e;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-vine tl-media-shadow",this._el.content),this.media_id=this.data.url.split("vine.co/v/")[1],e="https://vine.co/v/"+this.media_id+"/embed/simple",this._el.content_item.innerHTML="<iframe frameborder='0' width='100%' height='100%' src='"+e+"'></iframe><script async src='https://platform.vine.co/static/scripts/embed.js' charset='utf-8'><\/script>",this.onLoaded()}_updateMediaDisplay(){var e=ai.square({w:this._el.content_item.offsetWidth,h:this.options.height});this._el.content_item.style.height=e.h+"px"}_stopMedia(){this._el.content_item.querySelector("iframe").contentWindow.postMessage("pause","*")}}class Fl extends ye{_loadMedia(){var e,i=this;if(this._el.content_item=this.domCreate("div","tl-media-twitter",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this.data.url.match("^(https?:)?/*(www.)?twitter.com"))this.data.url.match("status/")?this.media_id=this.data.url.split("status/")[1]:this.data.url.match("statuses/")?this.media_id=this.data.url.split("statuses/")[1]:this.media_id="";else if(this.data.url.match(`<blockquote class=['"]twitter-tweet['"]`)){var a=this.data.url.match(/(status|statuses)\/(\d+)/);if(a&&a.length>2)this.media_id=a[2];else{i.loadErrorDisplay(i._("twitterembed_invalidurl_err"));return}}e="https://api.twitter.com/1/statuses/oembed.json?id="+this.media_id+"&omit_script=true&include_entities=true&callback=?",wi({type:"GET",url:e,dataType:"json",success:function(s){i.createMedia(s)},error:function(s,r){var l="";l+=i._("twitter_load_err")+"<br/>"+i.media_id+"<br/>"+r,i.loadErrorDisplay(l)}})}createMedia(e){var i="",a="",s="",r="",l="",h="",m=this;a=e.html.split("</p>&mdash;")[0]+"</p></blockquote>",s=e.author_url.split("twitter.com/")[1],r=e.html.split("</p>&mdash;")[1].split('<a href="')[1],l=r.split('">')[0],h=r.split('">')[1].split("</a>")[0],a=a.replace(/<a href/ig,'<a target="_blank" rel="noopener" href'),a.includes("pic.twitter.com")?(ti("https://platform.twitter.com/widgets.js",function(){twttr.widgets.createTweet(m.media_id,m._el.content_item,{conversation:"none",linkColor:"#cc0000",theme:"light"})}),this.onLoaded()):(i+=a,i+="<div class='vcard'>",i+="<a href='"+l+"' class='twitter-date' rel='noopener' target='_blank'>"+h+"</a>",i+="<img src='' class='tl-media-item tl-media-image'></a>",i+="<div class='author'>",i+="<a class='screen-name url' href='"+e.author_url+"' rel='noopener' target='_blank'>",i+="<span class='avatar'></span>",i+="<span class='fn'>"+e.author_name+" <span class='tl-icon-twitter'></span></span>",i+="<span class='nickname'>@"+s+"<span class='thumbnail-inline'></span></span>",i+="</a>",i+="</div>",i+="</div>",this._el.content_item.innerHTML=i,this.onLoaded())}updateMediaDisplay(){}_updateMediaDisplay(){}}class Hl extends ye{_loadMedia(){var e,i=this;this._el.content_item=this.domCreate("div","tl-media-twitter",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text";var a=this.data.url.match(/(status|statuses)\/(\d+)/);if(a&&a.length>2)this.media_id=a[2];else{i.loadErrorDisplay(i._("twitterembed_invalidurl_err"));return}e="https://api.twitter.com/1/statuses/oembed.json?id="+this.media_id+"&omit_script=true&include_entities=true&callback=?",window.twttr=function(s,r,l){var h,m=s.getElementsByTagName(r)[0],p=window.twttr||{};return s.getElementById(l)||(h=s.createElement(r),h.id=l,h.src="https://platform.twitter.com/widgets.js",m.parentNode.insertBefore(h,m),p._e=[],p.ready=function(y){p._e.push(y)}),p}(document,"script","twitter-wjs"),wi({type:"GET",url:e,dataType:"json",success(s){i.createMedia(s)},error:function(s,r){var l="";l+=i._("twitter_load_err")+"<br/>"+i.media_id+"<br/>"+r,i.loadErrorDisplay(l)}})}createMedia(e){var i="",a="",s="",r="",l="",h="";a=e.html.split("</p>&mdash;")[0]+"</p></blockquote>",s=e.author_url.split("twitter.com/")[1],r=e.html.split("</p>&mdash;")[1].split('<a href="')[1],l=r.split('">')[0],h=r.split('">')[1].split("</a>")[0],a=a.replace(/<a href/ig,'<a target="_blank" rel="noopener" href');let m=this.media_id;a.includes("pic.twitter.com")?(twttr.ready(function(p){i=document.getElementsByClassName("tl-media-twitter")[0];var y=String(m);twttr.widgets.createTweet(y,i,{conversation:"none",linkColor:"#cc0000",theme:"light"}).then(function(_){this.onLoaded()})}),this._el.content_item.innerHTML=i,this.onLoaded()):(i+=a,i+="<div class='vcard'>",i+="<a href='"+l+"' class='twitter-date' rel='noopener' target='_blank'>"+h+"</a>",i+="<div class='author'>",i+="<a class='screen-name url' href='"+e.author_url+"' rel='noopener' target='_blank'>",i+="<span class='avatar'></span>",i+="<span class='fn'>"+e.author_name+" <span class='tl-icon-twitter'></span></span>",i+="<span class='nickname'>@"+s+"<span class='thumbnail-inline'></span></span>",i+="</a>",i+="</div>",i+="</div>",this._el.content_item.innerHTML=i,this.onLoaded())}updateMediaDisplay(){}_updateMediaDisplay(){}}class Sn extends ye{_loadMedia(){var e,i=this;try{this.establishMediaID(),e="https://api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key="+this.options.api_key_flickr+"&photo_id="+this.media_id+"&format=json&jsoncallback=?",na(e,function(a){a.stat=="ok"?(i.sizes=a.sizes.size,i.options.background||i.createMedia(),i.onLoaded()):i.loadErrorDisplay(i._("flickr_notfound_err"))})}catch(a){i.loadErrorDisplay(i._(a.message_key))}}establishMediaID(){if(this.data.url.match(/flic.kr\/.+/i)){var e=this.data.url.split("/").slice(-1)[0];this.media_id=xo.decode(e)}else{var i="flickr.com/photos/",a=this.data.url.indexOf(i);if(a==-1)throw new ne("flickr_invalidurl_err");var s=a+i.length;this.media_id=this.data.url.substr(s).split("/")[1]}}createMedia(){var e=this;this._el.content_link=this.domCreate("a","",this._el.content),this._el.content_link.href=this.data.url,this._el.content_link.target="_blank",this._el.content_link.setAttribute("rel","noopener"),this._el.content_item=this.domCreate("img","tl-media-item tl-media-image tl-media-flickr tl-media-shadow",this._el.content_link),this.data.alt?this._el.content_item.alt=this.data.alt:this.data.caption&&(this._el.content_item.alt=yi(this.data.caption)),this.data.title?this._el.content_item.title=this.data.title:this.data.caption&&(this._el.content_item.title=yi(this.data.caption)),this._el.content_item.addEventListener("load",function(i){e.onMediaLoaded()}),this._el.content_item.src=this.getImageURL(this.options.width,this.options.height)}getImageURL(e,i){for(var a=this.size_label(i),s=this.sizes[this.sizes.length-2].source,r=0;r<this.sizes.length;r++)this.sizes[r].label==a&&(s=this.sizes[r].source);return s}_getMeta(){var e=this,i;i="https://api.flickr.com/services/rest/?method=flickr.photos.getInfo&api_key="+this.options.api_key_flickr+"&photo_id="+this.media_id+"&format=json&jsoncallback=?",na(i,function(a){e.data.credit_alternate="<a href='"+e.data.url+"' target='_blank' rel='noopener'>"+a.photo.owner.realname+"</a>",e.data.caption_alternate=a.photo.title._content+" "+a.photo.description._content,e.updateMeta()})}size_label(e){var i="";return e<=75?e<=0?i="Large":i="Thumbnail":e<=180?i="Small":e<=240?i="Small 320":e<=375?i="Medium":e<=480?i="Medium 640":(e<=600,i="Large"),i}}class Wl extends ye{_loadMedia(){var e=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-documentcloud tl-media-shadow",this._el.content),this._el.content_item.id=ei(7),this.data.url.match(/\.html$/)?this.data.url=this._transformURL(this.data.url):this.data.url.match(/.(json|js)$/)||re("DOCUMENT CLOUD IN URL BUT INVALID SUFFIX"),ti(["https://assets.documentcloud.org/viewer/loader.js","https://assets.documentcloud.org/viewer/viewer.js"],function(){e.createMedia()})}_transformURL(e){return e.replace(/(.*)\.html$/,"$1.js")}_updateMediaDisplay(){this._el.content_item.style.height=this.options.height+"px"}createMedia(){DV.load(this.data.url,{container:"#"+this._el.content_item.id,showSidebar:!1}),this.onLoaded()}}const Ul="830b21071290df4f81a35c56abbea096",zl="704270473831239",jl=`${zl}|${Ul}`,Dn=`https://graph.facebook.com/v8.0/instagram_oembed?access_token=${jl}&fields=html,thumbnail_url,author_name&url=`;function Gl(t){this.oembed_response=t,this._el.content_link=this.domCreate("a","",this._el.content),this._el.content_link.href=this.data.url,this._el.content_link.target="_blank",this._el.content_link.setAttribute("rel","noopener"),this._el.content_item=this.domCreate("img","tl-media-item tl-media-image tl-media-instagram tl-media-shadow",this._el.content_link),this.data.alt?this._el.content_item.alt=this.data.alt:this.data.caption&&(this._el.content_item.alt=yi(this.data.caption)),this.data.title?this._el.content_item.title=this.data.title:this.data.caption&&(this._el.content_item.title=yi(this.data.caption)),this._el.content_item.addEventListener("load",(function(e){this.onMediaLoaded()}).bind(this)),this._el.content_item.src=t.thumbnail_url,this.onLoaded()}function ql(t){let e=`${t.statusText} [${t.status}]`;t.status==400&&(e=this._("instagram_bad_request")),this.loadErrorDisplay(e)}class Bl extends ye{_loadMedia(){this.media_id=this.data.url.split("/p/")[1].split("/")[0],this.options.background||this.createMedia()}createMedia(){this.oembed_response=null;let e=`${Dn}${this.data.url}`;try{wi({url:e,dataType:"json",success:Gl,error:ql,context:this})}catch(i){console.log(`Instagram: error fetching ${e}`),console.log(i);debugger}}getImageURL(){if(this.oembed_response&&this.oembed_response.thumbnail_url)return this.oembed_response.thumbnail_url;pa(`${Dn}${this.data.url}`).then(e=>e.thumbnail_url).catch(e=>{re(`Instagram getImageURL Error: ${e.status} ${e.statusText}`)})}_getMeta(){this.oembed_response&&this.oembed_response.author_name&&(this.data.credit_alternate=`Instagram: <a href="https://instagram.com/${this.oembed_response.author_name}" target="_blank">@${this.oembed_response.author_name}</a>`),this.updateMeta()}sizes(e){var i="";return e<=150?i="t":e<=306?i="m":i="l",i}}class Vl extends ye{_loadMedia(){this._el.content_item=this.domCreate("img","tl-media-item tl-media-image tl-media-profile tl-media-shadow",this._el.content),this._el.content_item.src=this.data.url,this.onLoaded()}_updateMediaDisplay(e){gi&&(this._el.content_item.style.maxWidth=this.options.width/2-40+"px")}}class $l extends ye{_loadMedia(){var e;if(this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe",this._el.content),this.data.url.match(/open\?id=([^&]+)/)){var i=this.data.url.match(/open\?id=([^&]+)/)[1];e="https://drive.google.com/file/d/"+i+"/preview"}else if(this.data.url.match(/file\/d\/([^/]*)\/?/)){var i=this.data.url.match(/file\/d\/([^/]*)\/?/)[1];e="https://drive.google.com/file/d/"+i+"/preview"}else e=this.data.url;this._el.content_item.innerHTML="<iframe class='doc' frameborder='0' width='100%' height='100%' src='"+e+"'></iframe>",this.onLoaded()}_updateMediaDisplay(){this._el.content_item.style.height=this.options.height+"px"}}function Zl(t){return t.match(/^spotify:/)?t:(t=new URL(t),`spotify${t.pathname.replace(/\/$/,"").replace(/\//g,":")}`)}class Xl extends ye{_loadMedia(){var e;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-spotify",this._el.content),this.media_id=Zl(this.data.url),this.media_id?(e="https://embed.spotify.com/?uri="+this.media_id+"&theme=white&view=coverart",this.player=this.domCreate("iframe","tl-media-shadow",this._el.content_item),this.player.width="100%",this.player.height="100%",this.player.frameBorder="0",this.player.src=e,this.onLoaded()):this.loadErrorDisplay(this._("spotify_invalid_url"))}_updateMediaDisplay(e){var i=this.options.height,a=0,s=0;ii?i=this.options.height/2:i=this.options.height-this.options.credit_height-this.options.caption_height-30,this._el.content_item.style.maxHeight="none",re(i),re(this.options.width),i>this.options.width?(re("height is greater"),a=this.options.width+80+"px",s=this.options.width+"px"):(re("width is greater"),re(this.options.width),a=i+"px",s=i-80+"px"),this.player.style.width=s,this.player.style.height=a,this._el.credit&&(this._el.credit.style.width=s),this._el.caption&&(this._el.caption.style.width=s)}_stopMedia(){}}class Jl extends ye{constructor(e,i,a){super(e,i,a),this.iframe=wa.sanitize(this.data.url,{ADD_TAGS:["iframe"],ADD_ATTR:["frameborder"]})}_loadMedia(){this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe",this._el.content),this._el.content_item.innerHTML=this.iframe,this.onLoaded()}_updateMediaDisplay(){this._el.content_item.style.height=this.options.height+"px"}}class Kl extends ye{_loadMedia(){try{var e=this;if(this.data.url.match(`<blockquote class=['"]imgur-embed-pub['"]`)){var i=this.data.url.match(/(imgur\.com)\/(\w+)/);this.media_id=i[2],this.data.url="http://imgur.com/gallery/"+this.media_id}else this.data.url&&(this.media_id=this.data.url.split("/").slice(-1)[0]);ti(["https://s.imgur.com/min/embed.js"],function(){e.createMedia()})}catch{this.loadErrorDisplay(this._("imgur_invalidurl_err"))}}createMedia(){var e=this,i="https://api.imgur.com/oembed.json?url="+this.data.url;this._el.content_item=this.domCreate("div","tl-media-item tl-media-image tl-media-imgur",this._el.content),wi({type:"GET",url:i,dataType:"json",success:function(a){try{e._el.content_item.innerHTML=a.html,setInterval(function(){document.querySelector("blockquote.imgur-embed-pub")==null?clearInterval():(imgurEmbed.createIframe(),document.getElementById("imageElement").removeAttribute("style"),document.getElementById("image").removeAttribute("style"))},2e3)}catch{re("Error processing imgur ajax response")}},error:function(a,s,r){s=="parsererror"?e.loadErrorDisplay(e._("imgur_invalidurl_err")):e.loadErrorDisplay(e._("unknown_read_err",s))}}),this.onLoaded()}_updateMediaDisplay(){this._el.content_item.style.width=this.options.width+"px",this._el.content_item.style.height=ai.r16_9({w:this.options.width})+"px"}}class Ql extends ye{_loadMedia(){var e=_a(this.data.url);this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe",this._el.content);var i="";Pi||uo||e.match(/dl.dropboxusercontent.com/)?i="<iframe class='doc' frameborder='0' width='100%' height='100%' src='//docs.google.com/viewer?url="+e+"&amp;embedded=true'></iframe>":i="<iframe class='doc' frameborder='0' width='100%' height='100%' src='"+e+"'></iframe>",this._el.content_item.innerHTML=i,this.onLoaded()}_updateMediaDisplay(){this._el.content_item.style.height=this.options.height+"px"}}class eh extends ye{_loadMedia(){this.loadingMessage(),this.options.background||this.createMedia(),this.onLoaded()}createMedia(){var e=_a(this.data.url),i=this,i=this,a="tl-media-item tl-media-audio tl-media-shadow";this._el.content_item=this.domCreate("audio",a,this._el.content),this._el.content_item.controls=!0,this._el.source_item=this.domCreate("source","",this._el.content_item),this._el.content_item.addEventListener("load",function(s){i.onMediaLoaded()}),this._el.source_item.src=e,this._el.source_item.type=this._getType(this.data.url,this.data.mediatype.match_str),this._el.content_item.innerHTML+="Your browser doesn't support HTML5 audio with "+this._el.source_item.type,this.player_element=this._el.content_item}_updateMediaDisplay(e){gi&&(this._el.content_item.style.width="auto")}_stopMedia(){this.player_element&&this.player_element.pause()}_getType(e,i){var a=e.match(i),s="audio/";switch(a[1]){case"mp3":s+="mpeg";break;case"wav":s+="wav";break;case"m4a":s+="mp4";break;default:s="audio";break}return s}}class th extends ye{_loadMedia(){this.loadingMessage(),this.options.background||this.createMedia(),this.onLoaded()}createMedia(){var e=_a(this.data.url),i=this,i=this,a="tl-media-item tl-media-video tl-media-shadow";this._el.content_item=this.domCreate("video",a,this._el.content),this._el.content_item.controls=!0,this._el.source_item=this.domCreate("source","",this._el.content_item),this._el.content_item.addEventListener("load",function(s){i.onMediaLoaded()}),this._el.source_item.src=e,this._el.source_item.type=this._getType(this.data.url,this.data.mediatype.match_str),this._el.content_item.innerHTML+="Your browser doesn't support HTML5 video with "+this._el.source_item.type,this.player_element=this._el.content_item}_updateMediaDisplay(e){gi&&(this._el.content_item.style.width="auto")}_stopMedia(){this.player_element&&this.player_element.pause()}_getType(e,i){var a=e.match(i),s="video/";switch(a[1]){case"mp4":s+="mp4";break;case"webm":s+="webm";break;default:s="video";break}return s}}class ih extends ye{_loadMedia(){var e,i=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-wistia tl-media-shadow",this._el.content),this.media_id=this.data.url.split(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/medias\/(.*)/)[3],re(`Wistia: media_id: ${this.media_id}`),e="https://fast.wistia.com/embed/iframe/"+this.media_id+"?version=v1&controlsVisibleOnLoad=true&playerColor=aae3d8",this.player=this.domCreate("iframe","",this._el.content_item),this.player.addEventListener("load",function(a){i.onMediaLoaded()}),this.player.width="100%",this.player.height="100%",this.player.frameBorder="0",this.player.src=e,this.player.setAttribute("allowfullscreen",""),this.player.setAttribute("webkitallowfullscreen",""),this.player.setAttribute("mozallowfullscreen",""),this.onLoaded()}_updateMediaDisplay(){this._el.content_item.style.height=ai.r16_9({w:this._el.content_item.offsetWidth})+"px"}_stopMedia(){try{this.player.contentWindow.postMessage(JSON.stringify({method:"pause"}),"https://player.vimeo.com")}catch(e){re(e)}}}function oa(t,e){var i={},a=[{type:"youtube",name:"YouTube",match_str:"^(https?:)?/*(www.|m.)?youtube|youtu.be",cls:El},{type:"vimeo",name:"Vimeo",match_str:"^(https?:)?/*(player.)?vimeo.com",cls:Cl},{type:"dailymotion",name:"DailyMotion",match_str:"^(https?:)?/*(www.)?(dailymotion.com|dai.ly)",cls:Pl},{type:"vine",name:"Vine",match_str:"^(https?:)?/*(www.)?vine.co",cls:Yl},{type:"soundcloud",name:"SoundCloud",match_str:"^(https?:)?/*(player.)?soundcloud.com",cls:Rl},{type:"twitter",name:"Twitter",match_str:"^(https?:)?/*(www.)?twitter.com",cls:Fl},{type:"twitterembed",name:"TwitterEmbed",match_str:`<blockquote class=['"]twitter-tweet['"]`,cls:Hl},{type:"googlemaps",name:"Google Map",match_str:/google.+?\/maps\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)|google.+?\/maps\/search\/([\w\W]+)\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)|google.+?\/maps\/place\/([\w\W]+)\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)|google.+?\/maps\/dir\/([\w\W]+)\/([\w\W]+)\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)/,cls:Ll},{type:"flickr",name:"Flickr",match_str:"^(https?:)?/*(www.)?flickr.com/photos",cls:Sn},{type:"flickr",name:"Flickr",match_str:"^(https?://)?flic.kr/.*",cls:Sn},{type:"instagram",name:"Instagram",match_str:/^(https?:)?\/*(www.)?(instagr.am|^(https?:)?\/*(www.)?instagram.com)\/p\//,cls:Bl},{type:"profile",name:"Profile",match_str:/^(https?:)?\/*(www.)?instagr.am\/[a-zA-Z0-9]{2,}|^(https?:)?\/*(www.)?instagram.com\/[a-zA-Z0-9]{2,}/,cls:Vl},{type:"documentcloud",name:"Document Cloud",match_str:/documentcloud.org\//,cls:Wl},{type:"wikipedia-image",name:"WikipediaImage",match_str:"^https://.+.wiki[mp]edia.org.+#/media/.+.(jpg|jpeg|png|gif|svg|webp)",cls:xn},{type:"wikipedia-image",name:"WikipediaImage",match_str:"^https://commons.wikimedia.org/wiki/File:.+.(jpg|jpeg|png|gif|svg|webp)",cls:xn},{type:"wikipedia",name:"Wikipedia",match_str:"^(https?:)?/.+.wikipedia.org",cls:Ol},{type:"image",name:"Image",match_str:/(jpg|jpeg|png|gif|svg|webp)(\?.*)?$/i,cls:Mn},{type:"imgur",name:"Imgur",match_str:/^.*imgur.com\/.+$|<blockquote class=['\"]imgur-embed-pub['\"]/i,cls:Kl},{type:"googledocs",name:"Google Doc",match_str:"^(https?:)?/*[^.]*.google.com/[^/]*/d/[^/]*/[^/]*?usp=shar.*|^(https?:)?/*drive.google.com/open?id=[^&]*&authuser=0|^(https?:)?//*drive.google.com/open\\?id=[^&]*|^(https?:)?/*[^.]*.googledrive.com/host/[^/]*/",cls:$l},{type:"pdf",name:"PDF",match_str:/^.*\.pdf(\?.*)?(\#.*)?/,cls:Ql},{type:"spotify",name:"spotify",match_str:"spotify",cls:Xl},{type:"iframe",name:"iFrame",match_str:"iframe",cls:Jl},{type:"blockquote",name:"Quote",match_str:"blockquote",cls:Al},{type:"video",name:"Video",match_str:/(mp4|webm)(\?.*)?$/i,cls:th},{type:"wistia",name:"Wistia",match_str:/https?:\/\/(.+)?(wistia\.com|wi\.st)\/.*/i,cls:ih},{type:"audio",name:"Audio",match_str:/(mp3|wav|m4a)(\?.*)?$/i,cls:eh},{type:"imageblank",name:"Imageblank",match_str:"",cls:Mn}];if(e){if(t instanceof Array)return!1;for(var s=0;s<a.length;s++)switch(a[s].type){case"flickr":case"image":case"instagram":if(t.url.match(a[s].match_str))return i=a[s],i;break}}else for(var s=0;s<a.length;s++)if(t.url.match(a[s].match_str))return a[s];return!1}class Xn{constructor(e,i){this._el={container:{},content_container:{},media_container:{},timespan:{},line_left:{},line_right:{},content:{},text:{},media:{}},this._text={},this._state={loaded:!1},this.data={unique_id:"",background:null,date:{year:0,month:0,day:0,hour:0,minute:0,second:0,millisecond:0,thumbnail:"",format:""},text:{headline:"",text:""},media:null},this.options={duration:1e3,ease:ma,width:600,height:600,marker_width_min:100},this.active=!1,this.animator={},this.has_end_date=!1,this.ariaLabel="",fe(this.options,i),fe(this.data,e),this._initLayout(),this._initEvents()}show(){}hide(){}setActive(e){this.active=e,this.active&&this.has_end_date?this._el.container.className="tl-timemarker tl-timemarker-with-end tl-timemarker-active":this.active?this._el.container.className="tl-timemarker tl-timemarker-active":this.has_end_date?this._el.container.className="tl-timemarker tl-timemarker-with-end":this._el.container.className="tl-timemarker",this._el.container.ariaLabel=this.ariaLabel,this.active?this._el.container.ariaLabel+=", shown":this._el.container.ariaLabel+=", press space to show"}setFocus(e={preventScroll:!0}){this._el.container.focus(e)}addTo(e){e.appendChild(this._el.container)}removeFrom(e){e.removeChild(this._el.container)}updateDisplay(e,i){this._updateDisplay(e,i)}loadMedia(){this._media&&!this._state.loaded&&(this._media.loadMedia(),this._state.loaded=!0)}stopMedia(){this._media&&this._state.loaded&&this._media.stopMedia()}getLeft(){return this._el.container.style.left.slice(0,-2)}getTime(){return this.data.start_date.getTime()}getEndTime(){return this.data.end_date?this.data.end_date.getTime():!1}setHeight(e){var i=12,a=1;this._el.content_container.style.height=e+"px",this._el.timespan_content.style.height=e+"px",e<=30?this._el.content.className="tl-timemarker-content tl-timemarker-content-small":this._el.content.className="tl-timemarker-content",e<=56?this._el.content_container.classList.add("tl-timemarker-content-container-small"):this._el.content_container.classList.remove("tl-timemarker-content-container-small"),fa?(a=Math.floor(e/(i+2)),a<1&&(a=1),this._text.className="tl-headline",this._text.style.webkitLineClamp=a):(a=e/i,a>1?this._text.className="tl-headline tl-headline-fadeout":this._text.className="tl-headline",this._text.style.height=a*i+"px")}setWidth(e){this.data.end_date&&(this._el.container.style.width=e+"px",e>this.options.marker_width_min?(this._el.content_container.style.width=e+"px",this._el.content_container.className="tl-timemarker-content-container tl-timemarker-content-container-long"):(this._el.content_container.style.width=this.options.marker_width_min+"px",this._el.content_container.className="tl-timemarker-content-container"))}setClass(e){this._el.container.className=e}setRowPosition(e,i){this.setPosition({top:e}),this._el.timespan.style.height=i+"px"}getFormattedDate(){if(Je(this.data.display_date).length>0)return this.data.display_date;let e="";return this.data.end_date&&(e=" to "+this.data.end_date.getDisplayDate(this.getLanguage())),this.data.start_date&&(e=(e?"from ":"")+this.data.start_date.getDisplayDate(this.getLanguage())+e),e}_onMarkerClick(e){this.fire("markerclick",{unique_id:this.data.unique_id})}_onMarkerKeydown(e){/Space|Enter/.test(e.code)&&this.fire("markerclick",{unique_id:this.data.unique_id})}_onMarkerBlur(e){this.fire("markerblur",{unique_id:this.data.unique_id})}_initLayout(){if(this._el.container=O("div","tl-timemarker"),this._el.container.setAttribute("tabindex","-1"),this.data.unique_id&&(this._el.container.id=this.data.unique_id+"-marker"),this.data.end_date&&(this.has_end_date=!0,this._el.container.className="tl-timemarker tl-timemarker-with-end"),this._el.timespan=O("div","tl-timemarker-timespan",this._el.container),this._el.timespan_content=O("div","tl-timemarker-timespan-content",this._el.timespan),this._el.content_container=O("div","tl-timemarker-content-container",this._el.container),this._el.content=O("div","tl-timemarker-content",this._el.content_container),this._el.line_left=O("div","tl-timemarker-line-left",this._el.timespan),this._el.line_right=O("div","tl-timemarker-line-right",this._el.timespan),this.data.media){this._el.media_container=O("div","tl-timemarker-media-container",this._el.content);var e={url:this.data.media.thumbnail},i=this.data.media.thumbnail?oa(e,!0):null;if(i){var a=new i.cls(e);a.on("loaded",(function(){this._el.media=O("img","tl-timemarker-media",this._el.media_container),this._el.media.src=a.getImageURL()}).bind(this)),a.loadMedia()}else{var s=oa(this.data.media).type;this._el.media=O("span","tl-icon-"+s,this._el.media_container)}}this._el.text=O("div","tl-timemarker-text",this._el.content),this._text=O("h2","tl-headline",this._el.text),this.data.text.headline&&this.data.text.headline!=""?this._text.innerHTML=ci(this.data.text.headline):this.data.text.text&&this.data.text.text!=""?this._text.innerHTML=ci(this.data.text.text):this.data.media&&this.data.media.caption&&this.data.media.caption!=""&&(this._text.innerHTML=ci(this.data.media.caption));const r=this.getFormattedDate();this.ariaLabel=`${this._text.innerHTML}, ${r}`,this.onLoaded()}_initEvents(){Q.addListener(this._el.container,"click",this._onMarkerClick,this),Q.addListener(this._el.container,"keydown",this._onMarkerKeydown,this),Q.addListener(this._el.container,"blur",this._onMarkerBlur,this)}_updateDisplay(e,i,a){e&&(this.options.width=e),i&&(this.options.height=i)}}qe(Xn,Ct,Be,It);class ws{constructor(e,i,a){this._el={drag:e,move:e},this.mousedrag={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},this.touchdrag={down:"touchstart",up:"touchend",leave:"mouseleave",move:"touchmove"},i&&(this._el.move=i),this.options={snap:!1,enable:{x:!0,y:!0},constraint:{top:!1,bottom:!1,left:0,right:!1},momentum_multiplier:2e3,duration:1e3,ease:vi},this.animator=null,this.dragevent=this.mousedrag,_t&&(this.dragevent=this.touchdrag),this.data={sliding:!1,direction:"none",pagex:{start:0,end:0},pagey:{start:0,end:0},pos:{start:{x:0,y:0},end:{x:0,y:0}},new_pos:{x:0,y:0},new_pos_parent:{x:0,y:0},time:{start:0,end:0},touch:!1},fe(this.options,a)}enable(e){Q.addListener(this._el.drag,this.dragevent.down,this._onDragStart,this),Q.addListener(this._el.drag,this.dragevent.up,this._onDragEnd,this),this.data.pos.start=0,this._el.move.style.left=this.data.pos.start.x+"px",this._el.move.style.top=this.data.pos.start.y+"px",this._el.move.style.position="absolute"}disable(){Q.removeListener(this._el.drag,this.dragevent.down,this._onDragStart,this),Q.removeListener(this._el.drag,this.dragevent.up,this._onDragEnd,this)}stopMomentum(){this.animator&&this.animator.stop()}updateConstraint(e){this.options.constraint=e}_onDragStart(e){this.animator&&this.animator.stop(),_t?e.originalEvent?(this.data.pagex.start=e.originalEvent.touches[0].screenX,this.data.pagey.start=e.originalEvent.touches[0].screenY):(this.data.pagex.start=e.targetTouches[0].screenX,this.data.pagey.start=e.targetTouches[0].screenY):(this.data.pagex.start=e.pageX,this.data.pagey.start=e.pageY),this.options.enable.x,this.options.enable.y,this.data.pos.start={x:this._el.move.offsetLeft,y:this._el.move.offsetTop},this.data.time.start=new Date().getTime(),this.fire("dragstart",this.data),Q.addListener(this._el.drag,this.dragevent.move,this._onDragMove,this),Q.addListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this)}_onDragEnd(e){this.data.sliding=!1,Q.removeListener(this._el.drag,this.dragevent.move,this._onDragMove,this),Q.removeListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this),this.fire("dragend",this.data),this._momentum()}_onDragMove(e){var i={x:0,y:0};this.data.sliding=!0,_t?e.originalEvent?(this.data.pagex.end=e.originalEvent.touches[0].screenX,this.data.pagey.end=e.originalEvent.touches[0].screenY):(this.data.pagex.end=e.targetTouches[0].screenX,this.data.pagey.end=e.targetTouches[0].screenY):(this.data.pagex.end=e.pageX,this.data.pagey.end=e.pageY),i.x=this.data.pagex.start-this.data.pagex.end,i.y=this.data.pagey.start-this.data.pagey.end,this.data.pos.end={x:this._el.drag.offsetLeft,y:this._el.drag.offsetTop},this.data.new_pos.x=-(i.x-this.data.pos.start.x),this.data.new_pos.y=-(i.y-this.data.pos.start.y),this.options.enable.x&&Math.abs(i.x)>Math.abs(i.y)&&(e.preventDefault(),this._el.move.style.left=this.data.new_pos.x+"px"),this.options.enable.y&&Math.abs(i.y)>Math.abs(i.y)&&(e.preventDefault(),this._el.move.style.top=this.data.new_pos.y+"px"),this.fire("dragmove",this.data)}_momentum(){var e={x:0,y:0,time:0},i={x:0,y:0,time:0},a={x:!1,y:!1},s=!1;this.data.direction=null,e.time=(new Date().getTime()-this.data.time.start)*10,i.time=(new Date().getTime()-this.data.time.start)*10,i.x=this.options.momentum_multiplier*(Math.abs(this.data.pagex.end)-Math.abs(this.data.pagex.start)),i.y=this.options.momentum_multiplier*(Math.abs(this.data.pagey.end)-Math.abs(this.data.pagey.start)),e.x=Math.round(i.x/i.time),e.y=Math.round(i.y/i.time),this.data.new_pos.x=Math.min(this.data.new_pos.x+e.x),this.data.new_pos.y=Math.min(this.data.new_pos.y+e.y),this.options.enable.x?this.options.constraint.left&&this.data.new_pos.x>this.options.constraint.left&&(this.data.new_pos.x=this.options.constraint.left):this.data.new_pos.x=this.data.pos.start.x,this.options.enable.y?this.data.new_pos.y<0&&(this.data.new_pos.y=0):this.data.new_pos.y=this.data.pos.start.y,i.time<2e3&&(s=!0),this.options.enable.x&&this.options.enable.y?Math.abs(i.x)>Math.abs(i.y)?a.x=!0:a.y=!0:this.options.enable.x?Math.abs(i.x)>Math.abs(i.y)&&(a.x=!0):Math.abs(i.y)>Math.abs(i.x)&&(a.y=!0),a.x&&(Math.abs(i.x)>this._el.drag.offsetWidth/2&&(s=!0),Math.abs(i.x)>1e4&&(this.data.direction="left",i.x>0&&(this.data.direction="right"))),a.y&&(Math.abs(i.y)>this._el.drag.offsetHeight/2&&(s=!0),Math.abs(i.y)>1e4&&(this.data.direction="up",i.y>0&&(this.data.direction="down"))),i.time<1e3||this._animateMomentum(),s&&this.data.direction?this.fire("swipe_"+this.data.direction,this.data):this.data.direction?this.fire("swipe_nodirection",this.data):this.options.snap&&(this.animator.stop(),this.animator=Ot(this._el.move,{top:this.data.pos.start.y,left:this.data.pos.start.x,duration:this.options.duration,easing:Ai}))}_animateMomentum(){var e={x:this.data.new_pos.x,y:this.data.new_pos.y},i={duration:this.options.duration,easing:Ai};this.options.enable.y&&((this.options.constraint.top||this.options.constraint.bottom)&&(e.y>this.options.constraint.bottom?e.y=this.options.constraint.bottom:e.y<this.options.constraint.top&&(e.y=this.options.constraint.top)),i.top=Math.floor(e.y)+"px"),this.options.enable.x&&(this.options.constraint.left&&e.x>=this.options.constraint.left&&(e.x=this.options.constraint.left),this.options.constraint.right&&e.x<this.options.constraint.right&&(e.x=this.options.constraint.right),i.left=Math.floor(e.x)+"px"),this.animator=Ot(this._el.move,i),this.fire("momentum",this.data)}}qe(ws,Be);class Jn{constructor(e,i,a,s){this.language=s,this._el={parent:{},container:{},slider:{},slider_background:{},line:{},marker_container_mask:{},marker_container:{},marker_item_container:{},timeaxis:{},timeaxis_background:{}},this.collapsed=!1,typeof e=="object"?this._el.container=e:this._el.container=Yi(e),this._el.container.setAttribute("tabindex","0"),this._el.container.setAttribute("role","application"),this._el.container.setAttribute("aria-label",this._("aria_label_timeline_navigation")),this._el.container.setAttribute("aria-description",'Navigate between markers with arrow keys. Press "Home" for the first and "End" for the last markers'),this.config=i,this.options={width:600,height:600,duration:1e3,ease:vi,has_groups:!1,optimal_tick_width:50,scale_factor:2,marker_padding:5,timenav_height_min:150,marker_height_min:30,marker_width_min:100,zoom_sequence:[.5,1,2,3,5,8,13,21,34,55,89]},this.animator=null,this.ready=!1,this._markers=[],this._eras=[],this.has_eras=!1,this._groups=[],this._calculated_row_height=100,this.current_id="",this.current_focused_id="",this.timescale={},this.timeaxis={},this.max_rows=6,this.animate_css=!1,this._swipable,fe(this.options,a)}init(){this._initLayout(),this._initEvents(),this._initData(),this.updateDisplay(),this._onLoaded()}positionMarkers(e){for(var i=0;i<this._markers.length;i++){var a=this.timescale.getPositionInfo(i);e?this._markers[i].setClass("tl-timemarker tl-timemarker-fast"):this._markers[i].setClass("tl-timemarker"),this._markers[i].setPosition({left:a.start}),this._markers[i].setWidth(a.width)}}updateDisplay(e,i,a){let s=!1;e&&(this.options.width==0&&e>0&&(s=!0),this.options.width=e),i&&i!=this.options.height&&(this.options.height=i,this.timescale=this._getTimeScale()),this._assignRowsToMarkers(),this._el.slider_background.style.width=this.timescale.getPixelWidth()+this.options.width+"px",this._el.slider_background.style.left=-(this.options.width/2)+"px",this._el.slider.style.width=this.timescale.getPixelWidth()+this.options.width+"px",this._swipable.updateConstraint({top:!1,bottom:!1,left:this.options.width/2,right:-(this.timescale.getPixelWidth()-this.options.width/2)}),s&&this._drawTimeline(),this.goToId(this.current_id,!0)}_getTimeScale(){var e=0;try{e=parseInt(this.options.marker_height_min)}catch{re("Invalid value for marker_height_min option."),e=30}return e==0&&(re("marker_height_min option must not be zero."),e=30),this.max_rows=Math.round((this.options.height-this._el.timeaxis_background.offsetHeight-this.options.marker_padding)/e),this.max_rows<1&&(this.max_rows=1),new Tn(this.config,{display_width:this._el.container.offsetWidth,screen_multiplier:this.options.scale_factor,max_rows:this.max_rows})}_updateTimeScale(e){this.options.scale_factor=e,this._updateDrawTimeline()}zoomIn(){var e=go(this.options.zoom_sequence,this.options.scale_factor);this.setZoomFactor(e)}zoomOut(){var e=yo(this.options.zoom_sequence,this.options.scale_factor);this.setZoomFactor(e)}setZoom(e){var i=this.options.zoom_sequence[e];typeof i=="number"?this.setZoomFactor(i):console.warn("Invalid zoom level. Please use an index number between 0 and "+(this.options.zoom_sequence.length-1))}setZoomFactor(e){e<=this.options.zoom_sequence[0]?this.fire("zoomtoggle",{zoom:"out",show:!1}):this.fire("zoomtoggle",{zoom:"out",show:!0}),e>=this.options.zoom_sequence[this.options.zoom_sequence.length-1]?this.fire("zoomtoggle",{zoom:"in",show:!1}):this.fire("zoomtoggle",{zoom:"in",show:!0}),e==0&&(console.warn("Zoom factor must be greater than zero. Using 0.1"),e=.1),this.options.scale_factor=e,this.goToId(this.current_id,!this._updateDrawTimeline(!0),!0)}_createGroups(){this._groups=[];var e=this.timescale.getGroupLabels();if(e){this.options.has_groups=!0;for(var i=0;i<e.length;i++)this._createGroup(e[i])}}_createGroup(e){var i=new qn(e);this._addGroup(i),this._groups.push(i)}_addGroup(e){e.addTo(this._el.container)}_positionGroups(){if(this.options.has_groups){var e=this.options.height-this._el.timeaxis_background.offsetHeight,i=Math.floor(e/this.timescale.getNumberOfRows()-this.options.marker_padding);this.timescale.getGroupLabels();for(var a=0,s=0;a<this._groups.length;a++){var r=Math.floor(s*(i+this.options.marker_padding)),l=!1;r>e-this.options.marker_padding&&(l=!0),this._groups[a].setRowPosition(r,this._calculated_row_height+this.options.marker_padding/2),this._groups[a].setAlternateRowColor(vo(a),l),s+=this._groups[a].data.rows}}}_addMarker(e){e.addTo(this._el.marker_item_container),e.on("markerclick",this._onMarkerClick,this),e.on("added",this._onMarkerAdded,this)}_createMarker(e,i){var a=new Xn(e,this.options);this._addMarker(a),i<0?this._markers.push(a):this._markers.splice(i,0,a)}_createMarkers(e){for(var i=0;i<e.length;i++)this._createMarker(e[i],-1)}_removeMarker(e){e.removeFrom(this._el.marker_item_container)}_destroyMarker(e){this._removeMarker(this._markers[e]),this._markers.splice(e,1)}_calculateMarkerHeight(e){return e/this.timescale.getNumberOfRows()-this.options.marker_padding}_calculateRowHeight(e){return e/this.timescale.getNumberOfRows()}_calculateAvailableHeight(){return this.options.height-this._el.timeaxis_background.offsetHeight-this.options.marker_padding}_calculateMinimumTimeNavHeight(){return this.timescale.getNumberOfRows()*this.options.marker_height_min+this._el.timeaxis_background.offsetHeight+this.options.marker_padding}getMinimumHeight(){return this._calculateMinimumTimeNavHeight()}_assignRowsToMarkers(){var e=this._calculateAvailableHeight(),i=this._calculateMarkerHeight(e);this._positionGroups(),this._calculated_row_height=this._calculateRowHeight(e);for(var a=0;a<this._markers.length;a++){this._markers[a].setHeight(i);var s=this.timescale.getPositionInfo(a).row,r=Math.floor(s*(i+this.options.marker_padding))+this.options.marker_padding,l=e-r+this.options.marker_padding;this._markers[a].setRowPosition(r,l)}}_resetMarkersActive(){for(var e=0;e<this._markers.length;e++)this._markers[e].setActive(!1)}_resetMarkersBlurListeners(){for(var e=0;e<this._markers.length;e++)this._markers[e].off("markerblur",this._onMarkerBlur,this)}_findMarkerIndex(e){var i=-1;return(typeof e=="string"||e instanceof String)&&(i=Fn(e,this._markers,"unique_id",i)),i}_createEras(e){for(var i=0;i<e.length;i++){var a=e[i],s=new Bn(a.start_date,a.end_date,a.headline,this.options);this._eras.push(s),s.addTo(this._el.marker_item_container),s.on("added",this._onEraAdded,this)}}_positionEras(e){for(var i=0,a=0;a<this._eras.length;a++){var s={start:0,end:0,width:0};s.start=this.timescale.getPosition(this._eras[a].start_date.getTime()),s.end=this.timescale.getPosition(this._eras[a].end_date.getTime()),s.width=s.end-s.start,e?this._eras[a].setClass("tl-timeera tl-timeera-fast"):this._eras[a].setClass("tl-timeera"),this._eras[a].setPosition({left:s.start}),this._eras[a].setWidth(s.width),i++,i>5&&(i=0),this._eras[a].setColor(i)}}createMarker(e,i){this._createMarker(e,i)}createMarkers(e){this._createMarkers(e)}destroyMarker(e){this._destroyMarker(e)}destroyMarkerId(e){this.destroyMarker(this._findMarkerIndex(e))}goTo(e,i,a){var s=this.options.ease,r=this.options.duration,l=e<0?0:e;this._resetMarkersActive(),e>=0&&e<this._markers.length&&this._markers[e].setActive(!0),this.animateMovement(l,i,a,r,s),e>=0&&e<this._markers.length?this.current_id=this.current_focused_id=this._markers[e].data.unique_id:this.current_id=this.current_focused_id="",this._setLabelWithCurrentMarker()}goToId(e,i,a){this.goTo(this._findMarkerIndex(e),i,a)}focusOn(e,i,a){const s=this.options.ease,r=this.options.duration,l=e<0?0:e;this.animateMovement(l,i,a,r,s),this._resetMarkersBlurListeners(),e>=0&&e<this._markers.length&&(this._markers[e].setFocus(),this.current_focused_id=this._markers[e].data.unique_id,this._markers[e].on("markerblur",this._onMarkerBlur,this))}focusNext(){const e=this._findMarkerIndex(this.current_focused_id);e+1<this._markers.length?this.focusOn(e+1):this.focusOn(e)}focusPrevious(){const e=this._findMarkerIndex(this.current_focused_id);e-1>=0?this.focusOn(e-1):this.focusOn(e)}animateMovement(e,i,a,s,r){this.animator&&this.animator.stop(),i?(this._el.slider.className="tl-timenav-slider",this._el.slider.style.left=-this._markers[e].getLeft()+this.options.width/2+"px"):a?(this._el.slider.className="tl-timenav-slider tl-timenav-slider-animate",this.animate_css=!0,this._el.slider.style.left=-this._markers[e].getLeft()+this.options.width/2+"px"):(this._el.slider.className="tl-timenav-slider",this.animator=Ot(this._el.slider,{left:-this._markers[e].getLeft()+this.options.width/2+"px",duration:s,easing:r})),e>=0&&e<this._markers.length?this.current_id=this._markers[e].data.unique_id:this.current_id="",this._dispatchVisibleTicksChange()}goToId(e,i,a){this.goTo(this._findMarkerIndex(e),i,a)}_dispatchVisibleTicksChange(){this.ticks_change_timeout&&(clearTimeout(this.ticks_change_timeout),this.ticks_change_timeout=null),this.ticks_change_timeout=setTimeout(()=>{const e=this.timeaxis.getVisibleTicks();this.fire("visible_ticks_change",{visible_ticks:e})},this.options.duration)}_onLoaded(){this.ready=!0,this.fire("loaded",this.config)}_onMarkerAdded(e){this.fire("dateAdded",this.config)}_onEraAdded(e){this.fire("eraAdded",this.config)}_onMarkerRemoved(e){this.fire("dateRemoved",this.config)}_onMarkerClick(e){this.goToId(e.unique_id),this.fire("change",{unique_id:e.unique_id})}_onMarkerBlur(e){this.current_focused_id!==this.current_id&&this.focusOn(this._findMarkerIndex(this.current_id))}_onMouseScroll(e){var i=0,a=0,s={right:-(this.timescale.getPixelWidth()-this.options.width/2),left:this.options.width/2};e||(e=window.event),e.originalEvent&&(e=e.originalEvent),typeof e.wheelDeltaX<"u"&&(i=e.wheelDeltaY/6,Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?i=e.wheelDeltaX/6:i=0),i&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1),a=parseInt(this._el.slider.style.left.replace("px",""))+i,a>s.left?a=s.left:a<s.right&&(a=s.right),this.animate_css&&(this._el.slider.className="tl-timenav-slider",this.animate_css=!1),this._el.slider.style.left=a+"px"}_onDragMove(e){this.animate_css&&(this._el.slider.className="tl-timenav-slider",this.animate_css=!1)}_onKeydown(e){switch(Q.stopPropagation(e),e.key){case"ArrowUp":case"ArrowRight":{this.focusNext();break}case"ArrowDown":case"ArrowLeft":{this.focusPrevious();break}case"Home":{this.focusOn(0);break}case"End":{this.focusOn(this._markers.length-1);break}}}_drawTimeline(e){this.timescale=this._getTimeScale(),this.timeaxis.drawTicks(this.timescale,this.options.optimal_tick_width),this.positionMarkers(e),this._assignRowsToMarkers(),this._createGroups(),this._positionGroups(),this.has_eras&&this._positionEras(e)}_updateDrawTimeline(e){var i=!1;if(e){var a=new Tn(this.config,{display_width:this._el.container.offsetWidth,screen_multiplier:this.options.scale_factor,max_rows:this.max_rows});this.timescale.getMajorScale()==a.getMajorScale()&&this.timescale.getMinorScale()==a.getMinorScale()&&(i=!0)}else i=!0;return i?(this.timescale=this._getTimeScale(),this.timeaxis.positionTicks(this.timescale,this.options.optimal_tick_width),this.positionMarkers(),this._assignRowsToMarkers(),this._positionGroups(),this.has_eras&&this._positionEras(),this.updateDisplay()):this._drawTimeline(!0),i}_setLabelWithCurrentMarker(){const e=this._markers[this._findMarkerIndex(this.current_focused_id)],i=e&&e.ariaLabel?`, ${e.ariaLabel}, shown`:"";this._el.container.setAttribute("aria-label",`Timeline navigation ${i}`)}_initLayout(){this._el.line=O("div","tl-timenav-line",this._el.container),this._el.slider=O("div","tl-timenav-slider",this._el.container),this._el.slider_background=O("div","tl-timenav-slider-background",this._el.slider),this._el.marker_container_mask=O("div","tl-timenav-container-mask",this._el.slider),this._el.marker_container=O("div","tl-timenav-container",this._el.marker_container_mask),this._el.marker_item_container=O("div","tl-timenav-item-container",this._el.marker_container),this._el.timeaxis=O("div","tl-timeaxis",this._el.slider),this._el.timeaxis_background=O("div","tl-timeaxis-background",this._el.container),this.timeaxis=new Vn(this._el.timeaxis,this.options,this.language),this._swipable=new ws(this._el.slider_background,this._el.slider,{enable:{x:!0,y:!1},constraint:{top:!1,bottom:!1,left:this.options.width/2,right:!1},snap:!1}),this._swipable.enable()}_initEvents(){this._swipable.on("dragmove",this._onDragMove,this),Q.addListener(this._el.container,"mousewheel",this._onMouseScroll,this),Q.addListener(this._el.container,"DOMMouseScroll",this._onMouseScroll,this),Q.addListener(this._el.container,"keydown",this._onKeydown,this)}_initData(){this._createMarkers(this.config.events),this.config.eras&&this.config.eras.length>0&&(this.has_eras=!0,this._createEras(this.config.eras)),this._drawTimeline()}}qe(Jn,Be,It,Ct);var $a=function(){function t(e,i){for(var a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}();function Za(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(function(){if(typeof window>"u")return;var t=Array.prototype.slice,e=Element.prototype.matches||Element.prototype.msMatchesSelector,i=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","details","summary","iframe","object","embed","[contenteditable]"].join(","),a=function(){function p(y,_){Za(this,p),this._inertManager=_,this._rootElement=y,this._managedNodes=new Set,this._rootElement.hasAttribute("aria-hidden")?this._savedAriaHidden=this._rootElement.getAttribute("aria-hidden"):this._savedAriaHidden=null,this._rootElement.setAttribute("aria-hidden","true"),this._makeSubtreeUnfocusable(this._rootElement),this._observer=new MutationObserver(this._onMutation.bind(this)),this._observer.observe(this._rootElement,{attributes:!0,childList:!0,subtree:!0})}return $a(p,[{key:"destructor",value:function(){this._observer.disconnect(),this._rootElement&&(this._savedAriaHidden!==null?this._rootElement.setAttribute("aria-hidden",this._savedAriaHidden):this._rootElement.removeAttribute("aria-hidden")),this._managedNodes.forEach(function(_){this._unmanageNode(_.node)},this),this._observer=null,this._rootElement=null,this._managedNodes=null,this._inertManager=null}},{key:"_makeSubtreeUnfocusable",value:function(_){var L=this;l(_,function(z){return L._visitNode(z)});var I=document.activeElement;if(!document.body.contains(_)){for(var H=_,V=void 0;H;){if(H.nodeType===Node.DOCUMENT_FRAGMENT_NODE){V=H;break}H=H.parentNode}V&&(I=V.activeElement)}_.contains(I)&&(I.blur(),I===document.activeElement&&document.body.focus())}},{key:"_visitNode",value:function(_){if(_.nodeType===Node.ELEMENT_NODE){var L=_;L!==this._rootElement&&L.hasAttribute("inert")&&this._adoptInertRoot(L),(e.call(L,i)||L.hasAttribute("tabindex"))&&this._manageNode(L)}}},{key:"_manageNode",value:function(_){var L=this._inertManager.register(_,this);this._managedNodes.add(L)}},{key:"_unmanageNode",value:function(_){var L=this._inertManager.deregister(_,this);L&&this._managedNodes.delete(L)}},{key:"_unmanageSubtree",value:function(_){var L=this;l(_,function(I){return L._unmanageNode(I)})}},{key:"_adoptInertRoot",value:function(_){var L=this._inertManager.getInertRoot(_);L||(this._inertManager.setInert(_,!0),L=this._inertManager.getInertRoot(_)),L.managedNodes.forEach(function(I){this._manageNode(I.node)},this)}},{key:"_onMutation",value:function(_,L){_.forEach(function(I){var H=I.target;if(I.type==="childList")t.call(I.addedNodes).forEach(function(z){this._makeSubtreeUnfocusable(z)},this),t.call(I.removedNodes).forEach(function(z){this._unmanageSubtree(z)},this);else if(I.type==="attributes"){if(I.attributeName==="tabindex")this._manageNode(H);else if(H!==this._rootElement&&I.attributeName==="inert"&&H.hasAttribute("inert")){this._adoptInertRoot(H);var V=this._inertManager.getInertRoot(H);this._managedNodes.forEach(function(z){H.contains(z.node)&&V._manageNode(z.node)})}}},this)}},{key:"managedNodes",get:function(){return new Set(this._managedNodes)}},{key:"hasSavedAriaHidden",get:function(){return this._savedAriaHidden!==null}},{key:"savedAriaHidden",set:function(_){this._savedAriaHidden=_},get:function(){return this._savedAriaHidden}}]),p}(),s=function(){function p(y,_){Za(this,p),this._node=y,this._overrodeFocusMethod=!1,this._inertRoots=new Set([_]),this._savedTabIndex=null,this._destroyed=!1,this.ensureUntabbable()}return $a(p,[{key:"destructor",value:function(){if(this._throwIfDestroyed(),this._node&&this._node.nodeType===Node.ELEMENT_NODE){var _=this._node;this._savedTabIndex!==null?_.setAttribute("tabindex",this._savedTabIndex):_.removeAttribute("tabindex"),this._overrodeFocusMethod&&delete _.focus}this._node=null,this._inertRoots=null,this._destroyed=!0}},{key:"_throwIfDestroyed",value:function(){if(this.destroyed)throw new Error("Trying to access destroyed InertNode")}},{key:"ensureUntabbable",value:function(){if(this.node.nodeType===Node.ELEMENT_NODE){var _=this.node;if(e.call(_,i)){if(_.tabIndex===-1&&this.hasSavedTabIndex)return;_.hasAttribute("tabindex")&&(this._savedTabIndex=_.tabIndex),_.setAttribute("tabindex","-1"),_.nodeType===Node.ELEMENT_NODE&&(_.focus=function(){},this._overrodeFocusMethod=!0)}else _.hasAttribute("tabindex")&&(this._savedTabIndex=_.tabIndex,_.removeAttribute("tabindex"))}}},{key:"addInertRoot",value:function(_){this._throwIfDestroyed(),this._inertRoots.add(_)}},{key:"removeInertRoot",value:function(_){this._throwIfDestroyed(),this._inertRoots.delete(_),this._inertRoots.size===0&&this.destructor()}},{key:"destroyed",get:function(){return this._destroyed}},{key:"hasSavedTabIndex",get:function(){return this._savedTabIndex!==null}},{key:"node",get:function(){return this._throwIfDestroyed(),this._node}},{key:"savedTabIndex",set:function(_){this._throwIfDestroyed(),this._savedTabIndex=_},get:function(){return this._throwIfDestroyed(),this._savedTabIndex}}]),p}(),r=function(){function p(y){if(Za(this,p),!y)throw new Error("Missing required argument; InertManager needs to wrap a document.");this._document=y,this._managedNodes=new Map,this._inertRoots=new Map,this._observer=new MutationObserver(this._watchForInert.bind(this)),h(y.head||y.body||y.documentElement),y.readyState==="loading"?y.addEventListener("DOMContentLoaded",this._onDocumentLoaded.bind(this)):this._onDocumentLoaded()}return $a(p,[{key:"setInert",value:function(_,L){if(L){if(this._inertRoots.has(_))return;var I=new a(_,this);if(_.setAttribute("inert",""),this._inertRoots.set(_,I),!this._document.body.contains(_))for(var H=_.parentNode;H;)H.nodeType===11&&h(H),H=H.parentNode}else{if(!this._inertRoots.has(_))return;var V=this._inertRoots.get(_);V.destructor(),this._inertRoots.delete(_),_.removeAttribute("inert")}}},{key:"getInertRoot",value:function(_){return this._inertRoots.get(_)}},{key:"register",value:function(_,L){var I=this._managedNodes.get(_);return I!==void 0?I.addInertRoot(L):I=new s(_,L),this._managedNodes.set(_,I),I}},{key:"deregister",value:function(_,L){var I=this._managedNodes.get(_);return I?(I.removeInertRoot(L),I.destroyed&&this._managedNodes.delete(_),I):null}},{key:"_onDocumentLoaded",value:function(){var _=t.call(this._document.querySelectorAll("[inert]"));_.forEach(function(L){this.setInert(L,!0)},this),this._observer.observe(this._document.body||this._document.documentElement,{attributes:!0,subtree:!0,childList:!0})}},{key:"_watchForInert",value:function(_,L){var I=this;_.forEach(function(H){switch(H.type){case"childList":t.call(H.addedNodes).forEach(function(ie){if(ie.nodeType===Node.ELEMENT_NODE){var ee=t.call(ie.querySelectorAll("[inert]"));e.call(ie,"[inert]")&&ee.unshift(ie),ee.forEach(function(te){this.setInert(te,!0)},I)}},I);break;case"attributes":if(H.attributeName!=="inert")return;var V=H.target,z=V.hasAttribute("inert");I.setInert(V,z);break}},this)}}]),p}();function l(p,y,_){if(p.nodeType==Node.ELEMENT_NODE){var L=p;y&&y(L);var I=L.shadowRoot;if(I){l(I,y);return}if(L.localName=="content"){for(var H=L,V=H.getDistributedNodes?H.getDistributedNodes():[],z=0;z<V.length;z++)l(V[z],y);return}if(L.localName=="slot"){for(var ie=L,ee=ie.assignedNodes?ie.assignedNodes({flatten:!0}):[],te=0;te<ee.length;te++)l(ee[te],y);return}}for(var G=p.firstChild;G!=null;)l(G,y),G=G.nextSibling}function h(p){if(!p.querySelector("style#inert-style, link#inert-style")){var y=document.createElement("style");y.setAttribute("id","inert-style"),y.textContent=`
[inert] {
  pointer-events: none;
  cursor: default;
}

[inert], [inert] * {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
`,p.appendChild(y)}}if(!HTMLElement.prototype.hasOwnProperty("inert")){var m=new r(document);Object.defineProperty(HTMLElement.prototype,"inert",{enumerable:!0,get:function(){return this.hasAttribute("inert")},set:function(y){m.setInert(this,y)}})}})();class Kn{constructor(e,i,a,s){s&&this.setLanguage(s),this._el={container:{},scroll_container:{},background:{},content_container:{},content:{}},this._media=null,this._mediaclass={},this._text={},this._background_media=null,this._state={loaded:!1},this.has={headline:!1,text:!1,media:!1,title:!1,background:{image:!1,color:!1,color_value:""}},this.has.title=a,this.data={unique_id:null,background:null,start_date:null,end_date:null,location:null,text:null,media:null,autolink:!0},this.options={duration:1e3,slide_padding_lr:40,ease:ma,width:600,height:600,skinny_size:650,media_name:""},this.active=!1,this.animator={},fe(this.options,i),fe(this.data,e),this._initLayout(),this._initEvents()}show(){this.animator=Ot(this._el.slider_container,{left:-(this._el.container.offsetWidth*n)+"px",duration:this.options.duration,easing:this.options.ease})}hide(){}setActive(e){this.active=e,this.active?(this.data.background&&this.fire("background_change",this.has.background),this._setInteractive(!0),this.loadMedia()):(this.stopMedia(),this._setInteractive(!1))}addTo(e){e.appendChild(this._el.container)}removeFrom(e){e.removeChild(this._el.container)}updateDisplay(e,i,a){var s,r=this.options.slide_padding_lr,l=this.options.slide_padding_lr;e?this.options.width=e:this.options.width=this._el.container.offsetWidth,s=this.options.width-this.options.slide_padding_lr*2,ii&&this.options.width<=this.options.skinny_size?(r=0,l=0,s=this.options.width):a=="landscape"||this.options.width<=this.options.skinny_size&&(r=50,l=50,s=this.options.width-r-l),this._el.content.style.paddingLeft=r+"px",this._el.content.style.paddingRight=l+"px",this._el.content.style.width=s+"px",i?this.options.height=i:this.options.height=this._el.container.offsetHeight,this._media&&(!this.has.text&&this.has.headline?this._media.updateDisplay(s,this.options.height-this._text.headlineHeight(),a):!this.has.text&&!this.has.headline?this._media.updateDisplay(s,this.options.height,a):this.options.width<=this.options.skinny_size?this._media.updateDisplay(s,this.options.height,a):this._media.updateDisplay(s/2,this.options.height,a)),this._updateBackgroundDisplay()}loadMedia(){var e=this;this._media&&!this._state.loaded&&(this._media.loadMedia(),this._state.loaded=!0),this._background_media&&!this._background_media._state.loaded&&(this._background_media.on("loaded",function(){e._updateBackgroundDisplay()}),this._background_media.loadMedia())}stopMedia(){this._media&&this._state.loaded&&this._media.stopMedia()}getBackground(){return this.has.background}scrollToTop(){this._el.container.scrollTop=0}getFormattedDate(){if(Je(this.data.display_date).length>0)return this.data.display_date;var e="";return this.has.title||(this.data.end_date&&(e=" &mdash; "+this.data.end_date.getDisplayDate(this.getLanguage())),this.data.start_date&&(e=this.data.start_date.getDisplayDate(this.getLanguage())+e)),e}_initLayout(){if(this._el.container=O("div","tl-slide"),this.has.title&&(this._el.container.className="tl-slide tl-slide-titleslide"),this.data.unique_id&&(this._el.container.id=this.data.unique_id),this._el.scroll_container=O("div","tl-slide-scrollable-container",this._el.container),this._el.content_container=O("div","tl-slide-content-container",this._el.scroll_container),this._el.content=O("div","tl-slide-content",this._el.content_container),this._el.background=O("div","tl-slide-background",this._el.container),this.data.background){if(this.data.background.url){var e=oa(this.data.background,!0);e&&(this._background_media=new e.cls(this.data.background,{background:1}),this.has.background.image=!0,this._el.container.className+=" tl-full-image-background",this.has.background.color_value="#000",this._el.background.style.display="block"),this.data.background.alt&&(this._el.background.setAttribute("role","img"),this._el.background.setAttribute("aria-label",this.data.background.alt))}this.data.background.color&&(this.has.background.color=!0,this._el.container.className+=" tl-full-color-background",this.has.background.color_value=this.data.background.color),this.data.background.text_background&&(this._el.container.className+=" tl-text-background")}this.data.media&&this.data.media.url&&this.data.media.url!=""&&(this.has.media=!0),this.data.text&&this.data.text.text&&(this.has.text=!0),this.data.text&&this.data.text.headline&&(this.has.headline=!0),this.has.media&&(this.data.media.mediatype=oa(this.data.media),this.options.media_name=this.data.media.mediatype.name,this.options.media_type=this.data.media.mediatype.type,this.options.autolink=this.data.autolink,this._media=new this.data.media.mediatype.cls(this.data.media,this.options,this.getLanguage())),(this.has.text||this.has.headline)&&(this._text=new $n(this.data.text,{title:this.has.title,language:this.getLanguage(),autolink:this.data.autolink}),this._text.addDateText(this.getFormattedDate())),!this.has.text&&!this.has.headline&&this.has.media?(this._el.container.classList.add("tl-slide-media-only"),this._media.addTo(this._el.content)):this.has.headline&&this.has.media&&!this.has.text?(this._el.container.classList.add("tl-slide-media-only"),this._text.addTo(this._el.content),this._media.addTo(this._el.content)):this.has.text&&this.has.media?(this._text.addTo(this._el.content),this._media.addTo(this._el.content)):(this.has.text||this.has.headline)&&(this._el.container.classList.add("tl-slide-text-only"),this._text.addTo(this._el.content)),this.onLoaded()}_initEvents(){}_updateBackgroundDisplay(){this._background_media&&this._background_media._state.loaded&&(this._el.background.style.backgroundImage="url('"+this._background_media.getImageURL(this.options.width,this.options.height)+"')")}_setInteractive(e){e?this._el.container.removeAttribute("inert"):this._el.container.setAttribute("inert",!0)}}qe(Kn,Ct,Be,It);class ds{constructor(e,i,a){this._el={container:{},content_container:{},icon:{},title:{},description:{}},this.mediatype={},this.data={title:"Navigation",description:"Description",date:"Date"},this.options={direction:"previous"},this.animator=null,fe(this.options,i),fe(this.data,e),this._el.container=Ei("tl-slidenav-"+this.options.direction),ii&&this._el.container.setAttribute("ontouchstart"," "),this._initLayout(),this._initEvents(),a&&a.appendChild(this._el.container)}update(e){var i={title:"",description:"",date:e.getFormattedDate()};e.data.text&&e.data.text.headline&&(i.title=e.data.text.headline),this._update(i)}setColor(e){e?this._el.content_container.className="tl-slidenav-content-container tl-slidenav-inverted":this._el.content_container.className="tl-slidenav-content-container"}_onMouseClick(){this.fire("clicked",this.options)}_update(e){this.data=fe(this.data,e);const i=ci(this.data.title);this._el.title.innerHTML=i;const a=ci(this.data.date);this._el.description.innerHTML=a,this._el.container.setAttribute("aria-label",`${this.options.direction}, ${i}, ${a}`)}_initLayout(){this._el.content_container=O("div","tl-slidenav-content-container",this._el.container),this._el.icon=O("div","tl-slidenav-icon",this._el.content_container),this._el.title=O("div","tl-slidenav-title",this._el.content_container),this._el.description=O("div","tl-slidenav-description",this._el.content_container),this._el.icon.innerHTML="&nbsp;",this._update()}_initEvents(){Q.addListener(this._el.container,"click",this._onMouseClick,this)}}qe(ds,It,Be);class Qn{constructor(e,i,a,s){s&&this.setLanguage(s),this._el={container:{},background:{},slider_container_mask:{},slider_container:{},slider_item_container:{}},this._nav={},this._nav.previous={},this._nav.next={},this.slide_spacing=0,this._slides=[],this._swipable,this.preloadTimer,this._message,this.current_id="",this.data={},this.options={id:"",layout:"portrait",width:600,height:600,default_bg_color:{r:255,g:255,b:255},slide_padding_lr:40,start_at_slide:1,slide_default_fade:"0%",duration:1e3,ease:vi,dragging:!0,trackResize:!0},typeof e=="object"?(this._el.container=e,this.options.id=ei(6,"tl")):(this.options.id=e,this._el.container=Yi(e)),this._el.container.id||(this._el.container.id=this.options.id),this.animator=null,fe(this.options,a),fe(this.data,i)}init(){this._initLayout(),this._initEvents(),this._initData(),this.updateDisplay(),this.goTo(this.options.start_at_slide),this._onLoaded()}_addSlide(e){e.addTo(this._el.slider_item_container),e.on("added",this._onSlideAdded,this),e.on("background_change",this._onBackgroundChange,this)}_createSlide(e,i,a){var s=new Kn(e,this.options,i,this.getLanguage());this._addSlide(s),a<0?this._slides.push(s):this._slides.splice(a,0,s)}_createSlides(e){for(var i=0;i<e.length;i++)e[i].unique_id==""&&(e[i].unique_id=ei(6,"tl-slide")),this._createSlide(e[i],!1,-1)}_removeSlide(e){e.removeFrom(this._el.slider_item_container),e.off("added",this._onSlideRemoved,this),e.off("background_change",this._onBackgroundChange)}_destroySlide(e){this._removeSlide(this._slides[e]),this._slides.splice(e,1)}_findSlideIndex(e){var i=e;return(typeof e=="string"||e instanceof String)&&(i=Fn(e,this._slides,"unique_id")),i}updateDisplay(e,i,a,s){var r,l;typeof s>"u"?l=this.options.layout:l=s,this.options.layout=l,e?this.options.width=e:this.options.width=this._el.container.offsetWidth,i?this.options.height=i:this.options.height=this._el.container.offsetHeight,this.slide_spacing=this.options.width*2,r=this.options.height/2,this._nav.next.setPosition({top:r}),this._nav.previous.setPosition({top:r});for(var h=0;h<this._slides.length;h++)this._slides[h].updateDisplay(this.options.width,this.options.height,l),this._slides[h].setPosition({left:this.slide_spacing*h,top:0});this.goToId(this.current_id,!0,!0)}createSlide(e,i){this._createSlide(e,!1,i)}createSlides(e){this._createSlides(e)}destroySlide(e){this._destroySlide(e)}destroySlideId(e){this.destroySlide(this._findSlideIndex(e))}goTo(e,i,a){e=parseInt(e),isNaN(e)&&(e=0);var s=this;this.changeBackground({color_value:"",image:!1}),this.preloadTimer&&clearTimeout(this.preloadTimer);for(var r=0;r<this._slides.length;r++)this._slides[r].setActive(!1);e<this._slides.length&&e>=0&&(this.current_id=this._slides[e].data.unique_id,this.animator&&this.animator.stop(),this._swipable&&this._swipable.stopMomentum(),i?(this._el.slider_container.style.left=-(this.slide_spacing*e)+"px",this._onSlideChange(a)):this.animator=Ot(this._el.slider_container,{left:-(this.slide_spacing*e)+"px",duration:this.options.duration,easing:this.options.ease,complete:this._onSlideChange(a)}),this._slides[e].setActive(!0),this._slides[e+1]?(this.showNav(this._nav.next,!0),this._nav.next.update(this._slides[e+1])):this.showNav(this._nav.next,!1),this._slides[e-1]?(this.showNav(this._nav.previous,!0),this._nav.previous.update(this._slides[e-1])):this.showNav(this._nav.previous,!1),this.preloadTimer=setTimeout(function(){s.preloadSlides(e)},this.options.duration))}goToId(e,i,a){this.goTo(this._findSlideIndex(e),i,a)}preloadSlides(e){this._slides[e+1]&&(this._slides[e+1].loadMedia(),this._slides[e+1].scrollToTop()),this._slides[e+2]&&(this._slides[e+2].loadMedia(),this._slides[e+2].scrollToTop()),this._slides[e-1]&&(this._slides[e-1].loadMedia(),this._slides[e-1].scrollToTop()),this._slides[e-2]&&(this._slides[e-2].loadMedia(),this._slides[e-2].scrollToTop())}next(){var e=this._findSlideIndex(this.current_id);e+1<this._slides.length?this.goTo(e+1):this.goTo(e)}previous(){var e=this._findSlideIndex(this.current_id);e-1>=0?this.goTo(e-1):this.goTo(e)}showNav(e,i){this.options.width<=500&&ii?e.hide():i?e.show():e.hide()}changeBackground(e){var i={r:256,g:256,b:256};e.color_value&&e.color_value!=""?(i=Pn(e.color_value),i||(re("Invalid color value "+e.color_value),i=this.options.default_bg_color)):(i=this.options.default_bg_color,e.color_value="rgb("+i.r+" , "+i.g+", "+i.b+")"),i.r+""+i.g+i.b,this._el.background.style.backgroundImage="none",e.color_value?this._el.background.style.backgroundColor=e.color_value:this._el.background.style.backgroundColor="transparent",i.r<255||i.g<255||i.b<255||e.image?(this._nav.next.setColor(!0),this._nav.previous.setColor(!0)):(this._nav.next.setColor(!1),this._nav.previous.setColor(!1))}_updateDrawSlides(){for(var e=this.options.layout,i=0;i<this._slides.length;i++)this._slides[i].updateDisplay(this.options.width,this.options.height,e),this._slides[i].setPosition({left:this.slide_spacing*i,top:0});this.goToId(this.current_id,!0,!1)}_initLayout(){this._el.container.classList.add("tl-storyslider"),this._nav.previous=new ds({title:"Previous",description:"description"},{direction:"previous"},this._el.container),this._nav.next=new ds({title:"Next",description:"description"},{direction:"next"},this._el.container),this._el.slider_container_mask=O("div","tl-slider-container-mask",this._el.container),this._el.background=O("div","tl-slider-background tl-animate",this._el.container),this._el.slider_container=O("div","tl-slider-container tlanimate",this._el.slider_container_mask),this._el.slider_item_container=O("div","tl-slider-item-container",this._el.slider_container),this._el.slider_container.setAttribute("aria-live","polite"),this.options.width=this._el.container.offsetWidth,this.options.height=this._el.container.offsetHeight,this._el.slider_container.style.left="0px",_t&&(this._swipable=new ws(this._el.slider_container_mask,this._el.slider_container,{enable:{x:!0,y:!1},snap:!0}),this._swipable.enable(),this._message=new va(this._el.container,{message_class:"tl-message-full",message_icon_class:"tl-icon-swipe-left"},this.getLanguage()),this._message.updateMessage(this._("swipe_to_navigate")),this._message.addTo(this._el.container))}_initEvents(){this._nav.next.on("clicked",this._onNavigation,this),this._nav.previous.on("clicked",this._onNavigation,this),this._message&&this._message.on("clicked",this._onMessageClick,this),this._swipable&&(this._swipable.on("swipe_left",this._onNavigation,this),this._swipable.on("swipe_right",this._onNavigation,this),this._swipable.on("swipe_nodirection",this._onSwipeNoDirection,this))}_initData(){this.data.title&&this._createSlide(this.data.title,!0,-1),this._createSlides(this.data.events)}_onBackgroundChange(e){var i=this._findSlideIndex(this.current_id),a=this._slides[i].getBackground();this.changeBackground(e),this.fire("colorchange",a)}_onMessageClick(e){this._message.hide()}_onSwipeNoDirection(e){this.goToId(this.current_id)}_onNavigation(e){e.direction=="next"||e.direction=="left"?this.next():(e.direction=="previous"||e.direction=="right")&&this.previous(),this.fire("nav_"+e.direction,this.data)}_onSlideAdded(e){re("slideadded"),this.fire("slideAdded",this.data)}_onSlideRemoved(e){this.fire("slideRemoved",this.data)}_onSlideChange(e){e||this.fire("change",{unique_id:this.current_id})}_onMouseClick(e){}_fireMouseEvent(e){if(this._loaded){var i=e.type;i=i==="mouseenter"?"mouseover":i==="mouseleave"?"mouseout":i,this.hasEventListeners(i)&&(i==="contextmenu"&&Q.preventDefault(e),this.fire(i,{latlng:"something",layerPoint:"something else"}))}}_onLoaded(){this.fire("loaded",this.data)}}qe(Qn,Ct,Be);class er{constructor(e,i,a,s){this._el={parent:{},container:{},button_forwardtoend:{},button_backtostart:{},button_zoomin:{},button_zoomout:{},arrow:{},line:{},coverbar:{},grip:{}},this.collapsed=!1,typeof e=="object"?this._el.container=e:this._el.container=Yi(e),i&&(this._el.parent=i),this.data={visible_ticks_dates:{}},this.options={width:600,height:600,duration:1e3,ease:vi,menubar_default_y:0},this.animator={},this.setLanguage(s),fe(this.options,a),this._initLayout(),this._initEvents()}show(e){this.options.duration}hide(e){}toogleZoomIn(e){e?this._el.button_zoomin.removeAttribute("disabled"):this._el.button_zoomin.setAttribute("disabled",!0)}toogleZoomOut(e){e?this._el.button_zoomout.removeAttribute("disabled"):this._el.button_zoomout.setAttribute("disabled",!0)}changeVisibleTicks(e){const i=e.minor;if(!i.length){this.data.visible_ticks_dates={};return}const s=i[0].date.getFullYear(),l=i[i.length-1].date.getFullYear();this.data.visible_ticks_dates={start:s,end:l},this._updateZoomAriaLabels()}setSticky(e){this.options.menubar_default_y=e}setColor(e){e?this._el.container.className="tl-menubar tl-menubar-inverted":this._el.container.className="tl-menubar"}updateDisplay(e,i,a,s){this._updateDisplay(e,i,a,s)}_onButtonZoomIn(e){this.fire("zoom_in",e)}_onButtonZoomOut(e){this.fire("zoom_out",e)}_onButtonForwardToEnd(e){this.fire("forward_to_end",e)}_onButtonBackToStart(e){this.fire("back_to_start",e)}_initLayout(){this._el.button_zoomin=Ei("tl-menubar-button",this._el.container),this._el.button_zoomout=Ei("tl-menubar-button",this._el.container),this._el.button_forwardtoend=Ei("tl-menubar-button",this._el.container),this._el.button_backtostart=Ei("tl-menubar-button",this._el.container),ii&&this._el.container.setAttribute("ontouchstart"," "),this._el.button_backtostart.innerHTML="<span class='tl-icon-goback'></span>",this._el.button_backtostart.setAttribute("aria-label",this._("return_to_title")),this._el.button_forwardtoend.innerHTML="<span class='tl-icon-goend'></span>",this._el.button_forwardtoend.setAttribute("aria-label",this._("go_to_end")),this._el.button_zoomin.innerHTML="<span class='tl-icon-zoom-in'></span>",this._el.button_zoomin.setAttribute("aria-label",this._("zoom_in")),this._el.button_zoomout.innerHTML="<span class='tl-icon-zoom-out'></span>",this._el.button_zoomout.setAttribute("aria-label",this._("zoom_out"))}_initEvents(){Q.addListener(this._el.button_forwardtoend,"click",this._onButtonForwardToEnd,this),Q.addListener(this._el.button_backtostart,"click",this._onButtonBackToStart,this),Q.addListener(this._el.button_zoomin,"click",this._onButtonZoomIn,this),Q.addListener(this._el.button_zoomout,"click",this._onButtonZoomOut,this)}_updateDisplay(e,i,a){e&&(this.options.width=e),i&&(this.options.height=i)}_updateZoomAriaLabels(){Object.keys(this.data.visible_ticks_dates).length==0?(this._el.button_zoomin.setAttribute("aria-description",""),this._el.button_zoomout.setAttribute("aria-description","")):(this._el.button_zoomin.setAttribute("aria-description",this._("aria_label_zoomin",this.data.visible_ticks_dates)),this._el.button_zoomout.setAttribute("aria-description",this._("aria_label_zoomout",this.data.visible_ticks_dates)))}}qe(er,It,Be,Ct);let us=null;if(document){let t=document.getElementsByTagName("script");t&&t.length>0&&(us=t[t.length-1].src)}function ah(t){return function(e){if(t.config){var i=e.key,a=t._getSlideIndex(self.current_id),s=t.config.events.length-1,r=t.config.title?s+1:s,l=0;i=="ArrowLeft"?a!=l&&t.goToPrev():i=="ArrowRight"&&a!=r&&t.goToNext()}}}class tr{constructor(e,i,a){if(a||(a={}),this.ready=!1,this._el={container:Yi(e),storyslider:{},timenav:{},menubar:{}},a.lang&&!a.language&&(a.language=a.lang),this.language=vs,this._storyslider={},this._timenav={},this._menubar={},this._loaded={storyslider:!1,timenav:!1},this.config=null,this.options={script_path:"https://cdn.knightlab.com/libs/timeline3/latest/js/",height:this._el.container.offsetHeight,width:this._el.container.offsetWidth,debug:!1,font:"default",is_embed:!1,is_full_embed:!1,hash_bookmark:!1,default_bg_color:{r:255,g:255,b:255},scale_factor:2,layout:"landscape",timenav_position:"bottom",optimal_tick_width:60,base_class:"tl-timeline",timenav_height:null,timenav_height_percentage:25,timenav_mobile_height_percentage:40,timenav_height_min:175,marker_height_min:30,marker_width_min:100,marker_padding:5,start_at_slide:0,start_at_end:!1,menubar_height:0,skinny_size:650,medium_size:800,use_bc:!1,duration:1e3,ease:vi,dragging:!0,trackResize:!0,map_type:"stamen:toner-lite",slide_padding_lr:100,slide_default_fade:"0%",zoom_sequence:[.5,1,2,3,5,8,13,21,34,55,89],language:"en",ga_measurement_id:null,ga_property_id:null,track_events:["back_to_start","nav_next","nav_previous","zoom_in","zoom_out"],theme:null,sheets_proxy:"https://sheets-proxy.knightlab.com/proxy/",soundcite:!1},this.animator_timenav=null,this.animator_storyslider=null,this.animator_menubar=null,this.message=new va(this._el.container,{message_class:"tl-message-full"}),typeof a.default_bg_color=="string"){var s=Pn(a.default_bg_color);s?a.default_bg_color=s:(delete a.default_bg_color,re("Invalid default background color. Ignoring."))}fe(this.options,a),this.options.script_path||(this.options.script_path=this.determineScriptPath()),a.soundcite&&this.on("ready",()=>{re("Loading Soundcite resources "),Va("https://cdn.knightlab.com/libs/soundcite/latest/css/player.css"),ti("https://cdn.knightlab.com/libs/soundcite/latest/js/soundcite.min.js")}),this._loadStyles(),document.addEventListener("keydown",ah(this)),window.addEventListener("resize",(function(r){this.updateDisplay()}).bind(this)),this.options.debug&&_o(console.log),this._el.container.classList.add("tl-timeline"),this._el.container.setAttribute("tabindex","0"),this._el.container.setAttribute("role","region"),this._el.container.setAttribute("aria-label",this._("aria_label_timeline")),this.options.is_embed&&this._el.container.classList.add("tl-timeline-embed"),this.options.is_full_embed&&this._el.container.classList.add("tl-timeline-full-embed"),this._loadLanguage(i)}_loadStyles(){let e=null,i=null;if(this.options.font&&(this.options.font.indexOf("http")==0||this.options.font.match(/\.css$/)))e=this.options.font;else if(this.options.font){let a="../css/fonts/font."+this.options.font.toLowerCase()+".css";e=new URL(a,this.options.script_path).toString()}if(e&&Va(e),this.options.theme&&(this.options.theme.indexOf("http")==0||this.options.theme.match(/\.css$/)))i=this.options.theme;else if(this.options.theme){let a="../css/themes/timeline.theme."+this.options.theme.toLowerCase()+".css";i=new URL(a,this.options.script_path).toString()}i&&Va(i)}_loadLanguage(e){try{var i=this.options.language,a=this.options.script_path;Oo(i,a).then(s=>{s?(this.language=s,this.message.setLanguage(this.language),this.showMessage(this._("loading_timeline"))):this.showMessage(`Error loading ${i}`),this._initData(e)})}catch(s){this.showMessage(this._translateError(s))}}_initData(e){typeof e=="string"?bl(e,{callback:(function(i){this.setConfig(i)}).bind(this),sheets_proxy:this.options.sheets_proxy}):Jt==e.constructor?this.setConfig(e):this.setConfig(new Jt(e))}_translateError(e){return e.hasOwnProperty("stack")&&re(e.stack),e.message_key?this._(e.message_key)+(e.detail?" ["+e.detail+"]":""):e}showMessage(e){this.message?this.message.updateMessage(e):(re("No message display available."),re(e))}determineScriptPath(){let e=null;if(us)e=us;else{let i=document.getElementById("timeline-script-tag");i&&(e=i.src)}if(!e){let i=document.getElementsByTagName("script");for(let a=i.length-1;a>=0;a--)if(i[a].src){e=i[a].src;break}}return e?e.substr(0,e.lastIndexOf("/")+1):""}setConfig(e){if(this.config=e,this.config.isValid()&&(this.config.validate(),this._validateOptions()),this.config.isValid())try{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",this._onDataLoaded.bind(this)):this._onDataLoaded()}catch(r){this.showMessage("<strong>"+this._("error")+":</strong> "+this._translateError(r))}else{for(var i=[],a=0,s=this.config.getErrors();a<s.length;a++)i.push(this._translateError(s[a]));this.showMessage("<strong>"+this._("error")+":</strong> "+i.join("<br>"))}}_onDataLoaded(){this.fire("dataloaded"),this._initLayout(),this._initEvents(),this._initAnalytics(),this.message&&this.message.hide();let e=(a,s)=>{a.reduce((r,l)=>r||l.isIntersecting,!1)&&this.updateDisplay()};new IntersectionObserver(e.bind(this)).observe(this._el.container),this.ready=!0,this.fire("ready")}_initLayout(){this.message.removeFrom(this._el.container),this._el.container.innerHTML="",this.options.timenav_position=="top"?(this._el.timenav=O("div","tl-timenav",this._el.container),this._el.menubar=O("div","tl-menubar",this._el.container),this._el.storyslider=O("div","tl-storyslider",this._el.container)):(this._el.storyslider=O("div","tl-storyslider",this._el.container),this._el.timenav=O("div","tl-timenav",this._el.container),this._el.menubar=O("div","tl-menubar",this._el.container)),this._el.attribution=O("div","tl-attribution",this._el.container),this._el.attribution.innerHTML="<a href='https://timeline.knightlab.com' target='_blank' rel='noopener'><span class='tl-knightlab-logo'></span>TimelineJS</a>",this.options.width=this._el.container.offsetWidth,this.options.height=this._el.container.offsetHeight,this.options.timenav_height=this._calculateTimeNavHeight(this.options.timenav_height),this._timenav=new Jn(this._el.timenav,this.config,this.options,this.language),this._timenav.on("loaded",this._onTimeNavLoaded,this),this._timenav.options.height=this.options.timenav_height,this._timenav.init(),this.options.initial_zoom&&this.setZoom(this.options.initial_zoom),this._storyslider=new Qn(this._el.storyslider,this.config,this.options,this.language),this._el.storyslider.setAttribute("role","group"),this._el.storyslider.setAttribute("aria-label",this._("aria_label_timeline_content")),this._storyslider.on("loaded",this._onStorySliderLoaded,this),this._storyslider.init(),this._menubar=new er(this._el.menubar,this._el.container,this.options,this.getLanguage()),this.options.layout=="portrait"?this.options.storyslider_height=this.options.height-this.options.timenav_height-1:this.options.storyslider_height=this.options.height-1,this._updateDisplay(this._timenav.options.height,!0,2e3)}_initEvents(){this._timenav.on("change",this._onTimeNavChange,this),this._timenav.on("zoomtoggle",this._onZoomToggle,this),this._timenav.on("visible_ticks_change",this._onVisibleTicksChange,this),this._storyslider.on("change",this._onSlideChange,this),this._storyslider.on("colorchange",this._onColorChange,this),this._storyslider.on("nav_next",this._onStorySliderNext,this),this._storyslider.on("nav_previous",this._onStorySliderPrevious,this),this._menubar.on("zoom_in",this._onZoomIn,this),this._menubar.on("zoom_out",this._onZoomOut,this),this._menubar.on("forward_to_end",this._onForwardToEnd,this),this._menubar.on("back_to_start",this._onBackToStart,this)}_onColorChange(e){this.fire("color_change",{unique_id:this.current_id},this)}_onSlideChange(e){this.current_id!=e.unique_id&&(this.current_id=e.unique_id,this._timenav.goToId(this.current_id),this._onChange(e))}_onTimeNavChange(e){this.current_id!=e.unique_id&&(this.current_id=e.unique_id,this._storyslider.goToId(this.current_id),this._onChange(e))}_onZoomToggle(e){e.zoom=="in"?this._menubar.toogleZoomIn(e.show):e.zoom=="out"&&this._menubar.toogleZoomOut(e.show)}_onChange(e){this.fire("change",{unique_id:this.current_id},this),this.options.hash_bookmark&&this.current_id&&this._updateHashBookmark(this.current_id)}_onVisibleTicksChange(e){this._menubar.changeVisibleTicks(e.visible_ticks)}_onForwardToEnd(e){this.goToEnd(),this.fire("forward_to_end",{unique_id:this.current_id},this)}_onBackToStart(e){this.goToStart(),this.fire("back_to_start",{unique_id:this.current_id},this)}_onZoomIn(e){this._timenav.zoomIn(),this.fire("zoom_in",{zoom_level:this._timenav.options.scale_factor},this)}_onZoomOut(e){this._timenav.zoomOut(),this.fire("zoom_out",{zoom_level:this._timenav.options.scale_factor},this)}_onTimeNavLoaded(){this._loaded.timenav=!0,this._onLoaded()}_onStorySliderLoaded(){this._loaded.storyslider=!0,this._onLoaded()}_onStorySliderNext(e){this.fire("nav_next",e)}_onStorySliderPrevious(e){this.fire("nav_previous",e)}_updateDisplay(e,i,a){var s=this.options.duration,r=this.options.base_class,l=0;a&&(s=a),this.options.width=this._el.container.offsetWidth,this.options.height=this._el.container.offsetHeight,this.options.width<=this.options.skinny_size?(r+=" tl-skinny",this.options.layout="portrait"):this.options.width<=this.options.medium_size?(r+=" tl-medium",this.options.layout="landscape"):this.options.layout="landscape",_t&&(this.options.layout=co()),ii?(r+=" tl-mobile",this.options.timenav_height=this._calculateTimeNavHeight(e,this.options.timenav_mobile_height_percentage)):this.options.timenav_height=this._calculateTimeNavHeight(e),this.options.layout=="portrait"?r+=" tl-layout-portrait":r+=" tl-layout-landscape",this.options.storyslider_height=this.options.height-this.options.timenav_height,this.options.timenav_position=="top"?l=Math.ceil(this.options.timenav_height)/2-this._el.menubar.offsetHeight/2-39/2:l=Math.round(this.options.storyslider_height+1+Math.ceil(this.options.timenav_height)/2-this._el.menubar.offsetHeight/2-35/2),i?(this._el.timenav.style.height=Math.ceil(this.options.timenav_height)+"px",this.animator_storyslider&&this.animator_storyslider.stop(),this.animator_storyslider=Ot(this._el.storyslider,{height:this.options.storyslider_height+"px",duration:s/2,easing:Ai}),this.animator_menubar&&this.animator_menubar.stop(),this.animator_menubar=Ot(this._el.menubar,{top:l+"px",duration:s/2,easing:Ai})):(this._el.timenav.style.height=Math.ceil(this.options.timenav_height)+"px",this._el.storyslider.style.height=this.options.storyslider_height+"px",this._el.menubar.style.top=l+"px"),this.message&&this.message.updateDisplay(this.options.width,this.options.height),this._timenav.updateDisplay(this.options.width,this.options.timenav_height,i),this._storyslider.updateDisplay(this.options.width,this.options.storyslider_height,i,this.options.layout),this.language.direction=="rtl"&&(r+=" tl-rtl"),this._el.container.className=r}_calculateTimeNavHeight(e,i){var a=0;return e?a=e:(this.options.timenav_height_percentage||i)&&(i?a=Math.round(this.options.height/100*i):a=Math.round(this.options.height/100*this.options.timenav_height_percentage)),this._timenav.ready&&this.options.timenav_height_min<this._timenav.getMinimumHeight()&&(this.options.timenav_height_min=this._timenav.getMinimumHeight()),a<this.options.timenav_height_min&&(a=this.options.timenav_height_min),a=a-this.options.marker_padding*2,a}_validateOptions(){for(var e=["timenav_height","timenav_height_min","marker_height_min","marker_width_min","marker_padding","start_at_slide","slide_padding_lr"],i=0;i<e.length;i++){var a=e[i],s=this.options[a];let r=!0;typeof s=="number"?r=s==parseInt(s):typeof s=="string"&&(r=s.match(/^\s*(\-?\d+)?\s*$/)),r||this.config.logError({message_key:"invalid_integer_option",detail:a})}}_getSlideIndex(e){if(this.config){if(this.config.title&&this.config.title.unique_id==e)return 0;for(var i=0;i<this.config.events.length;i++)if(e==this.config.events[i].unique_id)return this.config.title?i+1:i}return-1}_getEventIndex(e){for(var i=0;i<this.config.events.length;i++)if(e==this.config.events[i].unique_id)return i;return-1}_onLoaded(){if(this._loaded.storyslider&&this._loaded.timenav&&(this.fire("loaded",this.config),fo(this.options.start_at_end)||this.options.start_at_slide>this.config.events.length?this.goToEnd():this.goTo(this.options.start_at_slide),this.options.hash_bookmark)){window.location.hash!=""?this.goToId(window.location.hash.replace("#event-","")):this._updateHashBookmark(this.current_id);let e=this;window.addEventListener("hashchange",function(){window.location.hash.indexOf("#event-")==0&&e.goToId(window.location.hash.replace("#event-",""))},!1)}}_updateHashBookmark(e){if(e){var i="#event-"+e.toString();window.history.replaceState(null,"Browsing TimelineJS",i),this.fire("hash_updated",{unique_id:this.current_id,hashbookmark:"#event-"+e.toString()},this)}}zoomIn(){this._timenav.zoomIn()}zoomOut(){this._timenav.zoomOut()}setZoom(e){this._timenav.setZoom(e)}goToId(e){this.current_id!=e&&(this.current_id=e,this._timenav.goToId(this.current_id),this._storyslider.goToId(this.current_id,!1,!0),this.fire("change",{unique_id:this.current_id},this))}goTo(e){if(!(e<0))try{this.config.title?e===0?this.goToId(this.config.title.unique_id):this.goToId(this.config.events[e-1].unique_id):this.goToId(this.config.events[e].unique_id)}catch{return}}goToStart(){this.goTo(0)}goToEnd(){var e=this.config.events.length-1;this.goTo(this.config.title?e+1:e)}goToPrev(){this.goTo(this._getSlideIndex(this.current_id)-1),this.focusContainer()}goToNext(){this.goTo(this._getSlideIndex(this.current_id)+1),this.focusContainer()}add(e){var i=this.config.addEvent(e),a=this._getEventIndex(i),s=this.config.events[a];this._storyslider.createSlide(s,this.config.title?a+1:a),this._storyslider._updateDrawSlides(),this._timenav.createMarker(s,a),this._timenav._updateDrawTimeline(!1),this.fire("added",{unique_id:i})}remove(e){if(e>=0&&e<this.config.events.length){this.config.events[e].unique_id==this.current_id&&(e<this.config.events.length-1?this.goTo(e+1):this.goTo(e-1));var i=this.config.events.splice(e,1);delete this.config.event_dict[i[0].unique_id],this._storyslider.destroySlide(this.config.title?e+1:e),this._storyslider._updateDrawSlides(),this._timenav.destroyMarker(e),this._timenav._updateDrawTimeline(!1),this.fire("removed",{unique_id:i[0].unique_id})}}removeId(e){this.remove(this._getEventIndex(e))}getData(e){if(this.config.title){if(e==0)return this.config.title;if(e>0&&e<=this.config.events.length)return this.config.events[e-1]}else if(e>=0&&e<this.config.events.length)return this.config.events[e];return null}getDataById(e){return this.getData(this._getSlideIndex(e))}getSlide(e){return e>=0&&e<this._storyslider._slides.length?this._storyslider._slides[e]:null}getSlideById(e){return this.getSlide(this._getSlideIndex(e))}getCurrentSlide(){return this.getSlideById(this.current_id)}updateDisplay(){this.ready?this._updateDisplay():re("updateDisplay called but timeline is not in ready state")}focusContainer(){this._el.container.focus()}_initGoogleAnalytics(e){ti(`https://www.googletagmanager.com/gtag/js?id=${e}`),window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},gtag("js",new Date),gtag("config",e)}_initAnalytics(){let e=this.options.ga_measurement_id||this.options.ga_property_id||null;if(e){this._initGoogleAnalytics(e);var i=this.options.track_events;for(let s=0;s<i.length;s++){var a=i[s];this.addEventListener(a,function(r){gtag("event",r.type)})}}}}qe(tr,Ct,Be);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var ir;function P(){return ir.apply(null,arguments)}function sh(t){ir=t}function ht(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Qt(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function he(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function bs(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(he(t,e))return!1;return!0}function Xe(t){return t===void 0}function Nt(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Fi(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function ar(t,e){var i=[],a,s=t.length;for(a=0;a<s;++a)i.push(e(t[a],a));return i}function Gt(t,e){for(var i in e)he(e,i)&&(t[i]=e[i]);return he(e,"toString")&&(t.toString=e.toString),he(e,"valueOf")&&(t.valueOf=e.valueOf),t}function gt(t,e,i,a){return Sr(t,e,i,a,!0).utc()}function nh(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function X(t){return t._pf==null&&(t._pf=nh()),t._pf}var cs;Array.prototype.some?cs=Array.prototype.some:cs=function(t){var e=Object(this),i=e.length>>>0,a;for(a=0;a<i;a++)if(a in e&&t.call(this,e[a],a,e))return!0;return!1};function ks(t){var e=null,i=!1,a=t._d&&!isNaN(t._d.getTime());if(a&&(e=X(t),i=cs.call(e.parsedDateParts,function(s){return s!=null}),a=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i),t._strict&&(a=a&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=a;else return a;return t._isValid}function ba(t){var e=gt(NaN);return t!=null?Gt(X(e),t):X(e).userInvalidated=!0,e}var En=P.momentProperties=[],Xa=!1;function Ts(t,e){var i,a,s,r=En.length;if(Xe(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Xe(e._i)||(t._i=e._i),Xe(e._f)||(t._f=e._f),Xe(e._l)||(t._l=e._l),Xe(e._strict)||(t._strict=e._strict),Xe(e._tzm)||(t._tzm=e._tzm),Xe(e._isUTC)||(t._isUTC=e._isUTC),Xe(e._offset)||(t._offset=e._offset),Xe(e._pf)||(t._pf=X(e)),Xe(e._locale)||(t._locale=e._locale),r>0)for(i=0;i<r;i++)a=En[i],s=e[a],Xe(s)||(t[a]=s);return t}function Hi(t){Ts(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Xa===!1&&(Xa=!0,P.updateOffset(this),Xa=!1)}function dt(t){return t instanceof Hi||t!=null&&t._isAMomentObject!=null}function sr(t){P.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function it(t,e){var i=!0;return Gt(function(){if(P.deprecationHandler!=null&&P.deprecationHandler(null,t),i){var a=[],s,r,l,h=arguments.length;for(r=0;r<h;r++){if(s="",typeof arguments[r]=="object"){s+=`
[`+r+"] ";for(l in arguments[0])he(arguments[0],l)&&(s+=l+": "+arguments[0][l]+", ");s=s.slice(0,-2)}else s=arguments[r];a.push(s)}sr(t+`
Arguments: `+Array.prototype.slice.call(a).join("")+`
`+new Error().stack),i=!1}return e.apply(this,arguments)},e)}var Ln={};function nr(t,e){P.deprecationHandler!=null&&P.deprecationHandler(t,e),Ln[t]||(sr(e),Ln[t]=!0)}P.suppressDeprecationWarnings=!1;P.deprecationHandler=null;function yt(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function rh(t){var e,i;for(i in t)he(t,i)&&(e=t[i],yt(e)?this[i]=e:this["_"+i]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function fs(t,e){var i=Gt({},t),a;for(a in e)he(e,a)&&(Qt(t[a])&&Qt(e[a])?(i[a]={},Gt(i[a],t[a]),Gt(i[a],e[a])):e[a]!=null?i[a]=e[a]:delete i[a]);for(a in t)he(t,a)&&!he(e,a)&&Qt(t[a])&&(i[a]=Gt({},i[a]));return i}function Ms(t){t!=null&&this.set(t)}var _s;Object.keys?_s=Object.keys:_s=function(t){var e,i=[];for(e in t)he(t,e)&&i.push(e);return i};var oh={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function lh(t,e,i){var a=this._calendar[t]||this._calendar.sameElse;return yt(a)?a.call(e,i):a}function pt(t,e,i){var a=""+Math.abs(t),s=e-a.length,r=t>=0;return(r?i?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+a}var xs=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Zi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ja={},fi={};function U(t,e,i,a){var s=a;typeof a=="string"&&(s=function(){return this[a]()}),t&&(fi[t]=s),e&&(fi[e[0]]=function(){return pt(s.apply(this,arguments),e[1],e[2])}),i&&(fi[i]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function hh(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function dh(t){var e=t.match(xs),i,a;for(i=0,a=e.length;i<a;i++)fi[e[i]]?e[i]=fi[e[i]]:e[i]=hh(e[i]);return function(s){var r="",l;for(l=0;l<a;l++)r+=yt(e[l])?e[l].call(s,t):e[l];return r}}function ta(t,e){return t.isValid()?(e=rr(e,t.localeData()),Ja[e]=Ja[e]||dh(e),Ja[e](t)):t.localeData().invalidDate()}function rr(t,e){var i=5;function a(s){return e.longDateFormat(s)||s}for(Zi.lastIndex=0;i>=0&&Zi.test(t);)t=t.replace(Zi,a),Zi.lastIndex=0,i-=1;return t}var uh={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ch(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.match(xs).map(function(a){return a==="MMMM"||a==="MM"||a==="DD"||a==="dddd"?a.slice(1):a}).join(""),this._longDateFormat[t])}var fh="Invalid date";function _h(){return this._invalidDate}var mh="%d",ph=/\d{1,2}/;function gh(t){return this._ordinal.replace("%d",t)}var yh={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function vh(t,e,i,a){var s=this._relativeTime[i];return yt(s)?s(t,e,i,a):s.replace(/%d/i,t)}function wh(t,e){var i=this._relativeTime[t>0?"future":"past"];return yt(i)?i(e):i.replace(/%s/i,e)}var An={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function at(t){return typeof t=="string"?An[t]||An[t.toLowerCase()]:void 0}function Ss(t){var e={},i,a;for(a in t)he(t,a)&&(i=at(a),i&&(e[i]=t[a]));return e}var bh={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function kh(t){var e=[],i;for(i in t)he(t,i)&&e.push({unit:i,priority:bh[i]});return e.sort(function(a,s){return a.priority-s.priority}),e}var or=/\d/,Ke=/\d\d/,lr=/\d{3}/,Ds=/\d{4}/,ka=/[+-]?\d{6}/,ve=/\d\d?/,hr=/\d\d\d\d?/,dr=/\d\d\d\d\d\d?/,Ta=/\d{1,3}/,Es=/\d{1,4}/,Ma=/[+-]?\d{1,6}/,bi=/\d+/,xa=/[+-]?\d+/,Th=/Z|[+-]\d\d:?\d\d/gi,Sa=/Z|[+-]\d\d(?::?\d\d)?/gi,Mh=/[+-]?\d+(\.\d{1,3})?/,Wi=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ki=/^[1-9]\d?/,Ls=/^([1-9]\d|\d)/,la;la={};function Y(t,e,i){la[t]=yt(e)?e:function(a,s){return a&&i?i:e}}function xh(t,e){return he(la,t)?la[t](e._strict,e._locale):new RegExp(Sh(t))}function Sh(t){return Lt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,i,a,s,r){return i||a||s||r}))}function Lt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Qe(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function se(t){var e=+t,i=0;return e!==0&&isFinite(e)&&(i=Qe(e)),i}var ms={};function _e(t,e){var i,a=e,s;for(typeof t=="string"&&(t=[t]),Nt(e)&&(a=function(r,l){l[e]=se(r)}),s=t.length,i=0;i<s;i++)ms[t[i]]=a}function Ui(t,e){_e(t,function(i,a,s,r){s._w=s._w||{},e(i,s._w,s,r)})}function Dh(t,e,i){e!=null&&he(ms,t)&&ms[t](e,i._a,i,t)}function Da(t){return t%4===0&&t%100!==0||t%400===0}var We=0,Dt=1,ft=2,Ee=3,ot=4,Et=5,Kt=6,Eh=7,Lh=8;U("Y",0,0,function(){var t=this.year();return t<=9999?pt(t,4):"+"+t});U(0,["YY",2],0,function(){return this.year()%100});U(0,["YYYY",4],0,"year");U(0,["YYYYY",5],0,"year");U(0,["YYYYYY",6,!0],0,"year");Y("Y",xa);Y("YY",ve,Ke);Y("YYYY",Es,Ds);Y("YYYYY",Ma,ka);Y("YYYYYY",Ma,ka);_e(["YYYYY","YYYYYY"],We);_e("YYYY",function(t,e){e[We]=t.length===2?P.parseTwoDigitYear(t):se(t)});_e("YY",function(t,e){e[We]=P.parseTwoDigitYear(t)});_e("Y",function(t,e){e[We]=parseInt(t,10)});function Li(t){return Da(t)?366:365}P.parseTwoDigitYear=function(t){return se(t)+(se(t)>68?1900:2e3)};var ur=Ti("FullYear",!0);function Ah(){return Da(this.year())}function Ti(t,e){return function(i){return i!=null?(cr(this,t,i),P.updateOffset(this,e),this):Ni(this,t)}}function Ni(t,e){if(!t.isValid())return NaN;var i=t._d,a=t._isUTC;switch(e){case"Milliseconds":return a?i.getUTCMilliseconds():i.getMilliseconds();case"Seconds":return a?i.getUTCSeconds():i.getSeconds();case"Minutes":return a?i.getUTCMinutes():i.getMinutes();case"Hours":return a?i.getUTCHours():i.getHours();case"Date":return a?i.getUTCDate():i.getDate();case"Day":return a?i.getUTCDay():i.getDay();case"Month":return a?i.getUTCMonth():i.getMonth();case"FullYear":return a?i.getUTCFullYear():i.getFullYear();default:return NaN}}function cr(t,e,i){var a,s,r,l,h;if(!(!t.isValid()||isNaN(i))){switch(a=t._d,s=t._isUTC,e){case"Milliseconds":return void(s?a.setUTCMilliseconds(i):a.setMilliseconds(i));case"Seconds":return void(s?a.setUTCSeconds(i):a.setSeconds(i));case"Minutes":return void(s?a.setUTCMinutes(i):a.setMinutes(i));case"Hours":return void(s?a.setUTCHours(i):a.setHours(i));case"Date":return void(s?a.setUTCDate(i):a.setDate(i));case"FullYear":break;default:return}r=i,l=t.month(),h=t.date(),h=h===29&&l===1&&!Da(r)?28:h,s?a.setUTCFullYear(r,l,h):a.setFullYear(r,l,h)}}function Oh(t){return t=at(t),yt(this[t])?this[t]():this}function Nh(t,e){if(typeof t=="object"){t=Ss(t);var i=kh(t),a,s=i.length;for(a=0;a<s;a++)this[i[a].unit](t[i[a].unit])}else if(t=at(t),yt(this[t]))return this[t](e);return this}function Ih(t,e){return(t%e+e)%e}var Me;Array.prototype.indexOf?Me=Array.prototype.indexOf:Me=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function As(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=Ih(e,12);return t+=(e-i)/12,i===1?Da(t)?29:28:31-i%7%2}U("M",["MM",2],"Mo",function(){return this.month()+1});U("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});U("MMMM",0,0,function(t){return this.localeData().months(this,t)});Y("M",ve,ki);Y("MM",ve,Ke);Y("MMM",function(t,e){return e.monthsShortRegex(t)});Y("MMMM",function(t,e){return e.monthsRegex(t)});_e(["M","MM"],function(t,e){e[Dt]=se(t)-1});_e(["MMM","MMMM"],function(t,e,i,a){var s=i._locale.monthsParse(t,a,i._strict);s!=null?e[Dt]=s:X(i).invalidMonth=t});var Rh="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_r=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ch=Wi,Ph=Wi;function Yh(t,e){return t?ht(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||_r).test(e)?"format":"standalone"][t.month()]:ht(this._months)?this._months:this._months.standalone}function Fh(t,e){return t?ht(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[_r.test(e)?"format":"standalone"][t.month()]:ht(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Hh(t,e,i){var a,s,r,l=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)r=gt([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(r,"").toLocaleLowerCase();return i?e==="MMM"?(s=Me.call(this._shortMonthsParse,l),s!==-1?s:null):(s=Me.call(this._longMonthsParse,l),s!==-1?s:null):e==="MMM"?(s=Me.call(this._shortMonthsParse,l),s!==-1?s:(s=Me.call(this._longMonthsParse,l),s!==-1?s:null)):(s=Me.call(this._longMonthsParse,l),s!==-1?s:(s=Me.call(this._shortMonthsParse,l),s!==-1?s:null))}function Wh(t,e,i){var a,s,r;if(this._monthsParseExact)return Hh.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(s=gt([2e3,a]),i&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!i&&!this._monthsParse[a]&&(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[a]=new RegExp(r.replace(".",""),"i")),i&&e==="MMMM"&&this._longMonthsParse[a].test(t))return a;if(i&&e==="MMM"&&this._shortMonthsParse[a].test(t))return a;if(!i&&this._monthsParse[a].test(t))return a}}function mr(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=se(e);else if(e=t.localeData().monthsParse(e),!Nt(e))return t}var i=e,a=t.date();return a=a<29?a:Math.min(a,As(t.year(),i)),t._isUTC?t._d.setUTCMonth(i,a):t._d.setMonth(i,a),t}function pr(t){return t!=null?(mr(this,t),P.updateOffset(this,!0),this):Ni(this,"Month")}function Uh(){return As(this.year(),this.month())}function zh(t){return this._monthsParseExact?(he(this,"_monthsRegex")||gr.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(he(this,"_monthsShortRegex")||(this._monthsShortRegex=Ch),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function jh(t){return this._monthsParseExact?(he(this,"_monthsRegex")||gr.call(this),t?this._monthsStrictRegex:this._monthsRegex):(he(this,"_monthsRegex")||(this._monthsRegex=Ph),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function gr(){function t(m,p){return p.length-m.length}var e=[],i=[],a=[],s,r,l,h;for(s=0;s<12;s++)r=gt([2e3,s]),l=Lt(this.monthsShort(r,"")),h=Lt(this.months(r,"")),e.push(l),i.push(h),a.push(h),a.push(l);e.sort(t),i.sort(t),a.sort(t),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Gh(t,e,i,a,s,r,l){var h;return t<100&&t>=0?(h=new Date(t+400,e,i,a,s,r,l),isFinite(h.getFullYear())&&h.setFullYear(t)):h=new Date(t,e,i,a,s,r,l),h}function Ii(t){var e,i;return t<100&&t>=0?(i=Array.prototype.slice.call(arguments),i[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function ha(t,e,i){var a=7+e-i,s=(7+Ii(t,0,a).getUTCDay()-e)%7;return-s+a-1}function yr(t,e,i,a,s){var r=(7+i-a)%7,l=ha(t,a,s),h=1+7*(e-1)+r+l,m,p;return h<=0?(m=t-1,p=Li(m)+h):h>Li(t)?(m=t+1,p=h-Li(t)):(m=t,p=h),{year:m,dayOfYear:p}}function Ri(t,e,i){var a=ha(t.year(),e,i),s=Math.floor((t.dayOfYear()-a-1)/7)+1,r,l;return s<1?(l=t.year()-1,r=s+At(l,e,i)):s>At(t.year(),e,i)?(r=s-At(t.year(),e,i),l=t.year()+1):(l=t.year(),r=s),{week:r,year:l}}function At(t,e,i){var a=ha(t,e,i),s=ha(t+1,e,i);return(Li(t)-a+s)/7}U("w",["ww",2],"wo","week");U("W",["WW",2],"Wo","isoWeek");Y("w",ve,ki);Y("ww",ve,Ke);Y("W",ve,ki);Y("WW",ve,Ke);Ui(["w","ww","W","WW"],function(t,e,i,a){e[a.substr(0,1)]=se(t)});function qh(t){return Ri(t,this._week.dow,this._week.doy).week}var Bh={dow:0,doy:6};function Vh(){return this._week.dow}function $h(){return this._week.doy}function Zh(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function Xh(t){var e=Ri(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}U("d",0,"do","day");U("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});U("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});U("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});U("e",0,0,"weekday");U("E",0,0,"isoWeekday");Y("d",ve);Y("e",ve);Y("E",ve);Y("dd",function(t,e){return e.weekdaysMinRegex(t)});Y("ddd",function(t,e){return e.weekdaysShortRegex(t)});Y("dddd",function(t,e){return e.weekdaysRegex(t)});Ui(["dd","ddd","dddd"],function(t,e,i,a){var s=i._locale.weekdaysParse(t,a,i._strict);s!=null?e.d=s:X(i).invalidWeekday=t});Ui(["d","e","E"],function(t,e,i,a){e[a]=se(t)});function Jh(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function Kh(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Os(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Qh="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),vr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ed="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),td=Wi,id=Wi,ad=Wi;function sd(t,e){var i=ht(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Os(i,this._week.dow):t?i[t.day()]:i}function nd(t){return t===!0?Os(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function rd(t){return t===!0?Os(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function od(t,e,i){var a,s,r,l=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)r=gt([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(r,"").toLocaleLowerCase();return i?e==="dddd"?(s=Me.call(this._weekdaysParse,l),s!==-1?s:null):e==="ddd"?(s=Me.call(this._shortWeekdaysParse,l),s!==-1?s:null):(s=Me.call(this._minWeekdaysParse,l),s!==-1?s:null):e==="dddd"?(s=Me.call(this._weekdaysParse,l),s!==-1||(s=Me.call(this._shortWeekdaysParse,l),s!==-1)?s:(s=Me.call(this._minWeekdaysParse,l),s!==-1?s:null)):e==="ddd"?(s=Me.call(this._shortWeekdaysParse,l),s!==-1||(s=Me.call(this._weekdaysParse,l),s!==-1)?s:(s=Me.call(this._minWeekdaysParse,l),s!==-1?s:null)):(s=Me.call(this._minWeekdaysParse,l),s!==-1||(s=Me.call(this._weekdaysParse,l),s!==-1)?s:(s=Me.call(this._shortWeekdaysParse,l),s!==-1?s:null))}function ld(t,e,i){var a,s,r;if(this._weekdaysParseExact)return od.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(s=gt([2e3,1]).day(a),i&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(r="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[a]=new RegExp(r.replace(".",""),"i")),i&&e==="dddd"&&this._fullWeekdaysParse[a].test(t))return a;if(i&&e==="ddd"&&this._shortWeekdaysParse[a].test(t))return a;if(i&&e==="dd"&&this._minWeekdaysParse[a].test(t))return a;if(!i&&this._weekdaysParse[a].test(t))return a}}function hd(t){if(!this.isValid())return t!=null?this:NaN;var e=Ni(this,"Day");return t!=null?(t=Jh(t,this.localeData()),this.add(t-e,"d")):e}function dd(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function ud(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=Kh(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function cd(t){return this._weekdaysParseExact?(he(this,"_weekdaysRegex")||Ns.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(he(this,"_weekdaysRegex")||(this._weekdaysRegex=td),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function fd(t){return this._weekdaysParseExact?(he(this,"_weekdaysRegex")||Ns.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(he(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=id),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function _d(t){return this._weekdaysParseExact?(he(this,"_weekdaysRegex")||Ns.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(he(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ad),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ns(){function t(y,_){return _.length-y.length}var e=[],i=[],a=[],s=[],r,l,h,m,p;for(r=0;r<7;r++)l=gt([2e3,1]).day(r),h=Lt(this.weekdaysMin(l,"")),m=Lt(this.weekdaysShort(l,"")),p=Lt(this.weekdays(l,"")),e.push(h),i.push(m),a.push(p),s.push(h),s.push(m),s.push(p);e.sort(t),i.sort(t),a.sort(t),s.sort(t),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Is(){return this.hours()%12||12}function md(){return this.hours()||24}U("H",["HH",2],0,"hour");U("h",["hh",2],0,Is);U("k",["kk",2],0,md);U("hmm",0,0,function(){return""+Is.apply(this)+pt(this.minutes(),2)});U("hmmss",0,0,function(){return""+Is.apply(this)+pt(this.minutes(),2)+pt(this.seconds(),2)});U("Hmm",0,0,function(){return""+this.hours()+pt(this.minutes(),2)});U("Hmmss",0,0,function(){return""+this.hours()+pt(this.minutes(),2)+pt(this.seconds(),2)});function wr(t,e){U(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}wr("a",!0);wr("A",!1);function br(t,e){return e._meridiemParse}Y("a",br);Y("A",br);Y("H",ve,Ls);Y("h",ve,ki);Y("k",ve,ki);Y("HH",ve,Ke);Y("hh",ve,Ke);Y("kk",ve,Ke);Y("hmm",hr);Y("hmmss",dr);Y("Hmm",hr);Y("Hmmss",dr);_e(["H","HH"],Ee);_e(["k","kk"],function(t,e,i){var a=se(t);e[Ee]=a===24?0:a});_e(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t});_e(["h","hh"],function(t,e,i){e[Ee]=se(t),X(i).bigHour=!0});_e("hmm",function(t,e,i){var a=t.length-2;e[Ee]=se(t.substr(0,a)),e[ot]=se(t.substr(a)),X(i).bigHour=!0});_e("hmmss",function(t,e,i){var a=t.length-4,s=t.length-2;e[Ee]=se(t.substr(0,a)),e[ot]=se(t.substr(a,2)),e[Et]=se(t.substr(s)),X(i).bigHour=!0});_e("Hmm",function(t,e,i){var a=t.length-2;e[Ee]=se(t.substr(0,a)),e[ot]=se(t.substr(a))});_e("Hmmss",function(t,e,i){var a=t.length-4,s=t.length-2;e[Ee]=se(t.substr(0,a)),e[ot]=se(t.substr(a,2)),e[Et]=se(t.substr(s))});function pd(t){return(t+"").toLowerCase().charAt(0)==="p"}var gd=/[ap]\.?m?\.?/i,yd=Ti("Hours",!0);function vd(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}var kr={calendar:oh,longDateFormat:uh,invalidDate:fh,ordinal:mh,dayOfMonthOrdinalParse:ph,relativeTime:yh,months:Rh,monthsShort:fr,week:Bh,weekdays:Qh,weekdaysMin:ed,weekdaysShort:vr,meridiemParse:gd},be={},Si={},Ci;function wd(t,e){var i,a=Math.min(t.length,e.length);for(i=0;i<a;i+=1)if(t[i]!==e[i])return i;return a}function On(t){return t&&t.toLowerCase().replace("_","-")}function bd(t){for(var e=0,i,a,s,r;e<t.length;){for(r=On(t[e]).split("-"),i=r.length,a=On(t[e+1]),a=a?a.split("-"):null;i>0;){if(s=Ea(r.slice(0,i).join("-")),s)return s;if(a&&a.length>=i&&wd(r,a)>=i-1)break;i--}e++}return Ci}function kd(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Ea(t){var e=null,i;if(be[t]===void 0&&typeof module<"u"&&module&&module.exports&&kd(t))try{e=Ci._abbr,i=require,i("./locale/"+t),Bt(e)}catch{be[t]=null}return be[t]}function Bt(t,e){var i;return t&&(Xe(e)?i=Pt(t):i=Rs(t,e),i?Ci=i:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Ci._abbr}function Rs(t,e){if(e!==null){var i,a=kr;if(e.abbr=t,be[t]!=null)nr("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=be[t]._config;else if(e.parentLocale!=null)if(be[e.parentLocale]!=null)a=be[e.parentLocale]._config;else if(i=Ea(e.parentLocale),i!=null)a=i._config;else return Si[e.parentLocale]||(Si[e.parentLocale]=[]),Si[e.parentLocale].push({name:t,config:e}),null;return be[t]=new Ms(fs(a,e)),Si[t]&&Si[t].forEach(function(s){Rs(s.name,s.config)}),Bt(t),be[t]}else return delete be[t],null}function Td(t,e){if(e!=null){var i,a,s=kr;be[t]!=null&&be[t].parentLocale!=null?be[t].set(fs(be[t]._config,e)):(a=Ea(t),a!=null&&(s=a._config),e=fs(s,e),a==null&&(e.abbr=t),i=new Ms(e),i.parentLocale=be[t],be[t]=i),Bt(t)}else be[t]!=null&&(be[t].parentLocale!=null?(be[t]=be[t].parentLocale,t===Bt()&&Bt(t)):be[t]!=null&&delete be[t]);return be[t]}function Pt(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ci;if(!ht(t)){if(e=Ea(t),e)return e;t=[t]}return bd(t)}function Md(){return _s(be)}function Cs(t){var e,i=t._a;return i&&X(t).overflow===-2&&(e=i[Dt]<0||i[Dt]>11?Dt:i[ft]<1||i[ft]>As(i[We],i[Dt])?ft:i[Ee]<0||i[Ee]>24||i[Ee]===24&&(i[ot]!==0||i[Et]!==0||i[Kt]!==0)?Ee:i[ot]<0||i[ot]>59?ot:i[Et]<0||i[Et]>59?Et:i[Kt]<0||i[Kt]>999?Kt:-1,X(t)._overflowDayOfYear&&(e<We||e>ft)&&(e=ft),X(t)._overflowWeeks&&e===-1&&(e=Eh),X(t)._overflowWeekday&&e===-1&&(e=Lh),X(t).overflow=e),t}var xd=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sd=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Dd=/Z|[+-]\d\d(?::?\d\d)?/,Xi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ka=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ed=/^\/?Date\((-?\d+)/i,Ld=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ad={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Tr(t){var e,i,a=t._i,s=xd.exec(a)||Sd.exec(a),r,l,h,m,p=Xi.length,y=Ka.length;if(s){for(X(t).iso=!0,e=0,i=p;e<i;e++)if(Xi[e][1].exec(s[1])){l=Xi[e][0],r=Xi[e][2]!==!1;break}if(l==null){t._isValid=!1;return}if(s[3]){for(e=0,i=y;e<i;e++)if(Ka[e][1].exec(s[3])){h=(s[2]||" ")+Ka[e][0];break}if(h==null){t._isValid=!1;return}}if(!r&&h!=null){t._isValid=!1;return}if(s[4])if(Dd.exec(s[4]))m="Z";else{t._isValid=!1;return}t._f=l+(h||"")+(m||""),Ys(t)}else t._isValid=!1}function Od(t,e,i,a,s,r){var l=[Nd(t),fr.indexOf(e),parseInt(i,10),parseInt(a,10),parseInt(s,10)];return r&&l.push(parseInt(r,10)),l}function Nd(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Id(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Rd(t,e,i){if(t){var a=vr.indexOf(t),s=new Date(e[0],e[1],e[2]).getDay();if(a!==s)return X(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function Cd(t,e,i){if(t)return Ad[t];if(e)return 0;var a=parseInt(i,10),s=a%100,r=(a-s)/100;return r*60+s}function Mr(t){var e=Ld.exec(Id(t._i)),i;if(e){if(i=Od(e[4],e[3],e[2],e[5],e[6],e[7]),!Rd(e[1],i,t))return;t._a=i,t._tzm=Cd(e[8],e[9],e[10]),t._d=Ii.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),X(t).rfc2822=!0}else t._isValid=!1}function Pd(t){var e=Ed.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(Tr(t),t._isValid===!1)delete t._isValid;else return;if(Mr(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:P.createFromInputFallback(t)}P.createFromInputFallback=it("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function di(t,e,i){return t??e??i}function Yd(t){var e=new Date(P.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Ps(t){var e,i,a=[],s,r,l;if(!t._d){for(s=Yd(t),t._w&&t._a[ft]==null&&t._a[Dt]==null&&Fd(t),t._dayOfYear!=null&&(l=di(t._a[We],s[We]),(t._dayOfYear>Li(l)||t._dayOfYear===0)&&(X(t)._overflowDayOfYear=!0),i=Ii(l,0,t._dayOfYear),t._a[Dt]=i.getUTCMonth(),t._a[ft]=i.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=a[e]=s[e];for(;e<7;e++)t._a[e]=a[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Ee]===24&&t._a[ot]===0&&t._a[Et]===0&&t._a[Kt]===0&&(t._nextDay=!0,t._a[Ee]=0),t._d=(t._useUTC?Ii:Gh).apply(null,a),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ee]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==r&&(X(t).weekdayMismatch=!0)}}function Fd(t){var e,i,a,s,r,l,h,m,p;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(r=1,l=4,i=di(e.GG,t._a[We],Ri(ge(),1,4).year),a=di(e.W,1),s=di(e.E,1),(s<1||s>7)&&(m=!0)):(r=t._locale._week.dow,l=t._locale._week.doy,p=Ri(ge(),r,l),i=di(e.gg,t._a[We],p.year),a=di(e.w,p.week),e.d!=null?(s=e.d,(s<0||s>6)&&(m=!0)):e.e!=null?(s=e.e+r,(e.e<0||e.e>6)&&(m=!0)):s=r),a<1||a>At(i,r,l)?X(t)._overflowWeeks=!0:m!=null?X(t)._overflowWeekday=!0:(h=yr(i,a,s,r,l),t._a[We]=h.year,t._dayOfYear=h.dayOfYear)}P.ISO_8601=function(){};P.RFC_2822=function(){};function Ys(t){if(t._f===P.ISO_8601){Tr(t);return}if(t._f===P.RFC_2822){Mr(t);return}t._a=[],X(t).empty=!0;var e=""+t._i,i,a,s,r,l,h=e.length,m=0,p,y;for(s=rr(t._f,t._locale).match(xs)||[],y=s.length,i=0;i<y;i++)r=s[i],a=(e.match(xh(r,t))||[])[0],a&&(l=e.substr(0,e.indexOf(a)),l.length>0&&X(t).unusedInput.push(l),e=e.slice(e.indexOf(a)+a.length),m+=a.length),fi[r]?(a?X(t).empty=!1:X(t).unusedTokens.push(r),Dh(r,a,t)):t._strict&&!a&&X(t).unusedTokens.push(r);X(t).charsLeftOver=h-m,e.length>0&&X(t).unusedInput.push(e),t._a[Ee]<=12&&X(t).bigHour===!0&&t._a[Ee]>0&&(X(t).bigHour=void 0),X(t).parsedDateParts=t._a.slice(0),X(t).meridiem=t._meridiem,t._a[Ee]=Hd(t._locale,t._a[Ee],t._meridiem),p=X(t).era,p!==null&&(t._a[We]=t._locale.erasConvertYear(p,t._a[We])),Ps(t),Cs(t)}function Hd(t,e,i){var a;return i==null?e:t.meridiemHour!=null?t.meridiemHour(e,i):(t.isPM!=null&&(a=t.isPM(i),a&&e<12&&(e+=12),!a&&e===12&&(e=0)),e)}function Wd(t){var e,i,a,s,r,l,h=!1,m=t._f.length;if(m===0){X(t).invalidFormat=!0,t._d=new Date(NaN);return}for(s=0;s<m;s++)r=0,l=!1,e=Ts({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[s],Ys(e),ks(e)&&(l=!0),r+=X(e).charsLeftOver,r+=X(e).unusedTokens.length*10,X(e).score=r,h?r<a&&(a=r,i=e):(a==null||r<a||l)&&(a=r,i=e,l&&(h=!0));Gt(t,i||e)}function Ud(t){if(!t._d){var e=Ss(t._i),i=e.day===void 0?e.date:e.day;t._a=ar([e.year,e.month,i,e.hour,e.minute,e.second,e.millisecond],function(a){return a&&parseInt(a,10)}),Ps(t)}}function zd(t){var e=new Hi(Cs(xr(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function xr(t){var e=t._i,i=t._f;return t._locale=t._locale||Pt(t._l),e===null||i===void 0&&e===""?ba({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),dt(e)?new Hi(Cs(e)):(Fi(e)?t._d=e:ht(i)?Wd(t):i?Ys(t):jd(t),ks(t)||(t._d=null),t))}function jd(t){var e=t._i;Xe(e)?t._d=new Date(P.now()):Fi(e)?t._d=new Date(e.valueOf()):typeof e=="string"?Pd(t):ht(e)?(t._a=ar(e.slice(0),function(i){return parseInt(i,10)}),Ps(t)):Qt(e)?Ud(t):Nt(e)?t._d=new Date(e):P.createFromInputFallback(t)}function Sr(t,e,i,a,s){var r={};return(e===!0||e===!1)&&(a=e,e=void 0),(i===!0||i===!1)&&(a=i,i=void 0),(Qt(t)&&bs(t)||ht(t)&&t.length===0)&&(t=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=s,r._l=i,r._i=t,r._f=e,r._strict=a,zd(r)}function ge(t,e,i,a){return Sr(t,e,i,a,!1)}var Gd=it("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ge.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:ba()}),qd=it("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ge.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:ba()});function Dr(t,e){var i,a;if(e.length===1&&ht(e[0])&&(e=e[0]),!e.length)return ge();for(i=e[0],a=1;a<e.length;++a)(!e[a].isValid()||e[a][t](i))&&(i=e[a]);return i}function Bd(){var t=[].slice.call(arguments,0);return Dr("isBefore",t)}function Vd(){var t=[].slice.call(arguments,0);return Dr("isAfter",t)}var $d=function(){return Date.now?Date.now():+new Date},Di=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Zd(t){var e,i=!1,a,s=Di.length;for(e in t)if(he(t,e)&&!(Me.call(Di,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(a=0;a<s;++a)if(t[Di[a]]){if(i)return!1;parseFloat(t[Di[a]])!==se(t[Di[a]])&&(i=!0)}return!0}function Xd(){return this._isValid}function Jd(){return ut(NaN)}function La(t){var e=Ss(t),i=e.year||0,a=e.quarter||0,s=e.month||0,r=e.week||e.isoWeek||0,l=e.day||0,h=e.hour||0,m=e.minute||0,p=e.second||0,y=e.millisecond||0;this._isValid=Zd(e),this._milliseconds=+y+p*1e3+m*6e4+h*1e3*60*60,this._days=+l+r*7,this._months=+s+a*3+i*12,this._data={},this._locale=Pt(),this._bubble()}function ia(t){return t instanceof La}function ps(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Kd(t,e,i){var a=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0,l;for(l=0;l<a;l++)(i&&t[l]!==e[l]||!i&&se(t[l])!==se(e[l]))&&r++;return r+s}function Er(t,e){U(t,0,0,function(){var i=this.utcOffset(),a="+";return i<0&&(i=-i,a="-"),a+pt(~~(i/60),2)+e+pt(~~i%60,2)})}Er("Z",":");Er("ZZ","");Y("Z",Sa);Y("ZZ",Sa);_e(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Fs(Sa,t)});var Qd=/([\+\-]|\d\d)/gi;function Fs(t,e){var i=(e||"").match(t),a,s,r;return i===null?null:(a=i[i.length-1]||[],s=(a+"").match(Qd)||["-",0,0],r=+(s[1]*60)+se(s[2]),r===0?0:s[0]==="+"?r:-r)}function Hs(t,e){var i,a;return e._isUTC?(i=e.clone(),a=(dt(t)||Fi(t)?t.valueOf():ge(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+a),P.updateOffset(i,!1),i):ge(t).local()}function gs(t){return-Math.round(t._d.getTimezoneOffset())}P.updateOffset=function(){};function eu(t,e,i){var a=this._offset||0,s;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=Fs(Sa,t),t===null)return this}else Math.abs(t)<16&&!i&&(t=t*60);return!this._isUTC&&e&&(s=gs(this)),this._offset=t,this._isUTC=!0,s!=null&&this.add(s,"m"),a!==t&&(!e||this._changeInProgress?Or(this,ut(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,P.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?a:gs(this)}function tu(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function iu(t){return this.utcOffset(0,t)}function au(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(gs(this),"m")),this}function su(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=Fs(Th,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function nu(t){return this.isValid()?(t=t?ge(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function ru(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ou(){if(!Xe(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Ts(t,this),t=xr(t),t._a?(e=t._isUTC?gt(t._a):ge(t._a),this._isDSTShifted=this.isValid()&&Kd(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function lu(){return this.isValid()?!this._isUTC:!1}function hu(){return this.isValid()?this._isUTC:!1}function Lr(){return this.isValid()?this._isUTC&&this._offset===0:!1}var du=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,uu=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ut(t,e){var i=t,a=null,s,r,l;return ia(t)?i={ms:t._milliseconds,d:t._days,M:t._months}:Nt(t)||!isNaN(+t)?(i={},e?i[e]=+t:i.milliseconds=+t):(a=du.exec(t))?(s=a[1]==="-"?-1:1,i={y:0,d:se(a[ft])*s,h:se(a[Ee])*s,m:se(a[ot])*s,s:se(a[Et])*s,ms:se(ps(a[Kt]*1e3))*s}):(a=uu.exec(t))?(s=a[1]==="-"?-1:1,i={y:Xt(a[2],s),M:Xt(a[3],s),w:Xt(a[4],s),d:Xt(a[5],s),h:Xt(a[6],s),m:Xt(a[7],s),s:Xt(a[8],s)}):i==null?i={}:typeof i=="object"&&("from"in i||"to"in i)&&(l=cu(ge(i.from),ge(i.to)),i={},i.ms=l.milliseconds,i.M=l.months),r=new La(i),ia(t)&&he(t,"_locale")&&(r._locale=t._locale),ia(t)&&he(t,"_isValid")&&(r._isValid=t._isValid),r}ut.fn=La.prototype;ut.invalid=Jd;function Xt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Nn(t,e){var i={};return i.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function cu(t,e){var i;return t.isValid()&&e.isValid()?(e=Hs(e,t),t.isBefore(e)?i=Nn(t,e):(i=Nn(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function Ar(t,e){return function(i,a){var s,r;return a!==null&&!isNaN(+a)&&(nr(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=a,a=r),s=ut(i,a),Or(this,s,t),this}}function Or(t,e,i,a){var s=e._milliseconds,r=ps(e._days),l=ps(e._months);t.isValid()&&(a=a??!0,l&&mr(t,Ni(t,"Month")+l*i),r&&cr(t,"Date",Ni(t,"Date")+r*i),s&&t._d.setTime(t._d.valueOf()+s*i),a&&P.updateOffset(t,r||l))}var fu=Ar(1,"add"),_u=Ar(-1,"subtract");function Nr(t){return typeof t=="string"||t instanceof String}function mu(t){return dt(t)||Fi(t)||Nr(t)||Nt(t)||gu(t)||pu(t)||t===null||t===void 0}function pu(t){var e=Qt(t)&&!bs(t),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,r,l=a.length;for(s=0;s<l;s+=1)r=a[s],i=i||he(t,r);return e&&i}function gu(t){var e=ht(t),i=!1;return e&&(i=t.filter(function(a){return!Nt(a)&&Nr(t)}).length===0),e&&i}function yu(t){var e=Qt(t)&&!bs(t),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,r;for(s=0;s<a.length;s+=1)r=a[s],i=i||he(t,r);return e&&i}function vu(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function wu(t,e){arguments.length===1&&(arguments[0]?mu(arguments[0])?(t=arguments[0],e=void 0):yu(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var i=t||ge(),a=Hs(i,this).startOf("day"),s=P.calendarFormat(this,a)||"sameElse",r=e&&(yt(e[s])?e[s].call(this,i):e[s]);return this.format(r||this.localeData().calendar(s,this,ge(i)))}function bu(){return new Hi(this)}function ku(t,e){var i=dt(t)?t:ge(t);return this.isValid()&&i.isValid()?(e=at(e)||"millisecond",e==="millisecond"?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf()):!1}function Tu(t,e){var i=dt(t)?t:ge(t);return this.isValid()&&i.isValid()?(e=at(e)||"millisecond",e==="millisecond"?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf()):!1}function Mu(t,e,i,a){var s=dt(t)?t:ge(t),r=dt(e)?e:ge(e);return this.isValid()&&s.isValid()&&r.isValid()?(a=a||"()",(a[0]==="("?this.isAfter(s,i):!this.isBefore(s,i))&&(a[1]===")"?this.isBefore(r,i):!this.isAfter(r,i))):!1}function xu(t,e){var i=dt(t)?t:ge(t),a;return this.isValid()&&i.isValid()?(e=at(e)||"millisecond",e==="millisecond"?this.valueOf()===i.valueOf():(a=i.valueOf(),this.clone().startOf(e).valueOf()<=a&&a<=this.clone().endOf(e).valueOf())):!1}function Su(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Du(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Eu(t,e,i){var a,s,r;if(!this.isValid())return NaN;if(a=Hs(t,this),!a.isValid())return NaN;switch(s=(a.utcOffset()-this.utcOffset())*6e4,e=at(e),e){case"year":r=aa(this,a)/12;break;case"month":r=aa(this,a);break;case"quarter":r=aa(this,a)/3;break;case"second":r=(this-a)/1e3;break;case"minute":r=(this-a)/6e4;break;case"hour":r=(this-a)/36e5;break;case"day":r=(this-a-s)/864e5;break;case"week":r=(this-a-s)/6048e5;break;default:r=this-a}return i?r:Qe(r)}function aa(t,e){if(t.date()<e.date())return-aa(e,t);var i=(e.year()-t.year())*12+(e.month()-t.month()),a=t.clone().add(i,"months"),s,r;return e-a<0?(s=t.clone().add(i-1,"months"),r=(e-a)/(a-s)):(s=t.clone().add(i+1,"months"),r=(e-a)/(s-a)),-(i+r)||0}P.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";P.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Lu(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Au(t){if(!this.isValid())return null;var e=t!==!0,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?ta(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):yt(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ta(i,"Z")):ta(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ou(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",i,a,s,r;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),i="["+t+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",r=e+'[")]',this.format(i+a+s+r)}function Nu(t){t||(t=this.isUtc()?P.defaultFormatUtc:P.defaultFormat);var e=ta(this,t);return this.localeData().postformat(e)}function Iu(t,e){return this.isValid()&&(dt(t)&&t.isValid()||ge(t).isValid())?ut({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Ru(t){return this.from(ge(),t)}function Cu(t,e){return this.isValid()&&(dt(t)&&t.isValid()||ge(t).isValid())?ut({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Pu(t){return this.to(ge(),t)}function Ir(t){var e;return t===void 0?this._locale._abbr:(e=Pt(t),e!=null&&(this._locale=e),this)}var Rr=it("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function Cr(){return this._locale}var da=1e3,_i=60*da,ua=60*_i,Pr=(365*400+97)*24*ua;function mi(t,e){return(t%e+e)%e}function Yr(t,e,i){return t<100&&t>=0?new Date(t+400,e,i)-Pr:new Date(t,e,i).valueOf()}function Fr(t,e,i){return t<100&&t>=0?Date.UTC(t+400,e,i)-Pr:Date.UTC(t,e,i)}function Yu(t){var e,i;if(t=at(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?Fr:Yr,t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=mi(e+(this._isUTC?0:this.utcOffset()*_i),ua);break;case"minute":e=this._d.valueOf(),e-=mi(e,_i);break;case"second":e=this._d.valueOf(),e-=mi(e,da);break}return this._d.setTime(e),P.updateOffset(this,!0),this}function Fu(t){var e,i;if(t=at(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?Fr:Yr,t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=ua-mi(e+(this._isUTC?0:this.utcOffset()*_i),ua)-1;break;case"minute":e=this._d.valueOf(),e+=_i-mi(e,_i)-1;break;case"second":e=this._d.valueOf(),e+=da-mi(e,da)-1;break}return this._d.setTime(e),P.updateOffset(this,!0),this}function Hu(){return this._d.valueOf()-(this._offset||0)*6e4}function Wu(){return Math.floor(this.valueOf()/1e3)}function Uu(){return new Date(this.valueOf())}function zu(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function ju(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Gu(){return this.isValid()?this.toISOString():null}function qu(){return ks(this)}function Bu(){return Gt({},X(this))}function Vu(){return X(this).overflow}function $u(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}U("N",0,0,"eraAbbr");U("NN",0,0,"eraAbbr");U("NNN",0,0,"eraAbbr");U("NNNN",0,0,"eraName");U("NNNNN",0,0,"eraNarrow");U("y",["y",1],"yo","eraYear");U("y",["yy",2],0,"eraYear");U("y",["yyy",3],0,"eraYear");U("y",["yyyy",4],0,"eraYear");Y("N",Ws);Y("NN",Ws);Y("NNN",Ws);Y("NNNN",nc);Y("NNNNN",rc);_e(["N","NN","NNN","NNNN","NNNNN"],function(t,e,i,a){var s=i._locale.erasParse(t,a,i._strict);s?X(i).era=s:X(i).invalidEra=t});Y("y",bi);Y("yy",bi);Y("yyy",bi);Y("yyyy",bi);Y("yo",oc);_e(["y","yy","yyy","yyyy"],We);_e(["yo"],function(t,e,i,a){var s;i._locale._eraYearOrdinalRegex&&(s=t.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?e[We]=i._locale.eraYearOrdinalParse(t,s):e[We]=parseInt(t,10)});function Zu(t,e){var i,a,s,r=this._eras||Pt("en")._eras;for(i=0,a=r.length;i<a;++i){switch(typeof r[i].since){case"string":s=P(r[i].since).startOf("day"),r[i].since=s.valueOf();break}switch(typeof r[i].until){case"undefined":r[i].until=1/0;break;case"string":s=P(r[i].until).startOf("day").valueOf(),r[i].until=s.valueOf();break}}return r}function Xu(t,e,i){var a,s,r=this.eras(),l,h,m;for(t=t.toUpperCase(),a=0,s=r.length;a<s;++a)if(l=r[a].name.toUpperCase(),h=r[a].abbr.toUpperCase(),m=r[a].narrow.toUpperCase(),i)switch(e){case"N":case"NN":case"NNN":if(h===t)return r[a];break;case"NNNN":if(l===t)return r[a];break;case"NNNNN":if(m===t)return r[a];break}else if([l,h,m].indexOf(t)>=0)return r[a]}function Ju(t,e){var i=t.since<=t.until?1:-1;return e===void 0?P(t.since).year():P(t.since).year()+(e-t.offset)*i}function Ku(){var t,e,i,a=this.localeData().eras();for(t=0,e=a.length;t<e;++t)if(i=this.clone().startOf("day").valueOf(),a[t].since<=i&&i<=a[t].until||a[t].until<=i&&i<=a[t].since)return a[t].name;return""}function Qu(){var t,e,i,a=this.localeData().eras();for(t=0,e=a.length;t<e;++t)if(i=this.clone().startOf("day").valueOf(),a[t].since<=i&&i<=a[t].until||a[t].until<=i&&i<=a[t].since)return a[t].narrow;return""}function ec(){var t,e,i,a=this.localeData().eras();for(t=0,e=a.length;t<e;++t)if(i=this.clone().startOf("day").valueOf(),a[t].since<=i&&i<=a[t].until||a[t].until<=i&&i<=a[t].since)return a[t].abbr;return""}function tc(){var t,e,i,a,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(i=s[t].since<=s[t].until?1:-1,a=this.clone().startOf("day").valueOf(),s[t].since<=a&&a<=s[t].until||s[t].until<=a&&a<=s[t].since)return(this.year()-P(s[t].since).year())*i+s[t].offset;return this.year()}function ic(t){return he(this,"_erasNameRegex")||Us.call(this),t?this._erasNameRegex:this._erasRegex}function ac(t){return he(this,"_erasAbbrRegex")||Us.call(this),t?this._erasAbbrRegex:this._erasRegex}function sc(t){return he(this,"_erasNarrowRegex")||Us.call(this),t?this._erasNarrowRegex:this._erasRegex}function Ws(t,e){return e.erasAbbrRegex(t)}function nc(t,e){return e.erasNameRegex(t)}function rc(t,e){return e.erasNarrowRegex(t)}function oc(t,e){return e._eraYearOrdinalRegex||bi}function Us(){var t=[],e=[],i=[],a=[],s,r,l,h,m,p=this.eras();for(s=0,r=p.length;s<r;++s)l=Lt(p[s].name),h=Lt(p[s].abbr),m=Lt(p[s].narrow),e.push(l),t.push(h),i.push(m),a.push(l),a.push(h),a.push(m);this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}U(0,["gg",2],0,function(){return this.weekYear()%100});U(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Aa(t,e){U(0,[t,t.length],0,e)}Aa("gggg","weekYear");Aa("ggggg","weekYear");Aa("GGGG","isoWeekYear");Aa("GGGGG","isoWeekYear");Y("G",xa);Y("g",xa);Y("GG",ve,Ke);Y("gg",ve,Ke);Y("GGGG",Es,Ds);Y("gggg",Es,Ds);Y("GGGGG",Ma,ka);Y("ggggg",Ma,ka);Ui(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,a){e[a.substr(0,2)]=se(t)});Ui(["gg","GG"],function(t,e,i,a){e[a]=P.parseTwoDigitYear(t)});function lc(t){return Hr.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function hc(t){return Hr.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function dc(){return At(this.year(),1,4)}function uc(){return At(this.isoWeekYear(),1,4)}function cc(){var t=this.localeData()._week;return At(this.year(),t.dow,t.doy)}function fc(){var t=this.localeData()._week;return At(this.weekYear(),t.dow,t.doy)}function Hr(t,e,i,a,s){var r;return t==null?Ri(this,a,s).year:(r=At(t,a,s),e>r&&(e=r),_c.call(this,t,e,i,a,s))}function _c(t,e,i,a,s){var r=yr(t,e,i,a,s),l=Ii(r.year,0,r.dayOfYear);return this.year(l.getUTCFullYear()),this.month(l.getUTCMonth()),this.date(l.getUTCDate()),this}U("Q",0,"Qo","quarter");Y("Q",or);_e("Q",function(t,e){e[Dt]=(se(t)-1)*3});function mc(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}U("D",["DD",2],"Do","date");Y("D",ve,ki);Y("DD",ve,Ke);Y("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});_e(["D","DD"],ft);_e("Do",function(t,e){e[ft]=se(t.match(ve)[0])});var Wr=Ti("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear");Y("DDD",Ta);Y("DDDD",lr);_e(["DDD","DDDD"],function(t,e,i){i._dayOfYear=se(t)});function pc(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}U("m",["mm",2],0,"minute");Y("m",ve,Ls);Y("mm",ve,Ke);_e(["m","mm"],ot);var gc=Ti("Minutes",!1);U("s",["ss",2],0,"second");Y("s",ve,Ls);Y("ss",ve,Ke);_e(["s","ss"],Et);var yc=Ti("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)});U(0,["SS",2],0,function(){return~~(this.millisecond()/10)});U(0,["SSS",3],0,"millisecond");U(0,["SSSS",4],0,function(){return this.millisecond()*10});U(0,["SSSSS",5],0,function(){return this.millisecond()*100});U(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});U(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});U(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});U(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Y("S",Ta,or);Y("SS",Ta,Ke);Y("SSS",Ta,lr);var qt,Ur;for(qt="SSSS";qt.length<=9;qt+="S")Y(qt,bi);function vc(t,e){e[Kt]=se(("0."+t)*1e3)}for(qt="S";qt.length<=9;qt+="S")_e(qt,vc);Ur=Ti("Milliseconds",!1);U("z",0,0,"zoneAbbr");U("zz",0,0,"zoneName");function wc(){return this._isUTC?"UTC":""}function bc(){return this._isUTC?"Coordinated Universal Time":""}var S=Hi.prototype;S.add=fu;S.calendar=wu;S.clone=bu;S.diff=Eu;S.endOf=Fu;S.format=Nu;S.from=Iu;S.fromNow=Ru;S.to=Cu;S.toNow=Pu;S.get=Oh;S.invalidAt=Vu;S.isAfter=ku;S.isBefore=Tu;S.isBetween=Mu;S.isSame=xu;S.isSameOrAfter=Su;S.isSameOrBefore=Du;S.isValid=qu;S.lang=Rr;S.locale=Ir;S.localeData=Cr;S.max=qd;S.min=Gd;S.parsingFlags=Bu;S.set=Nh;S.startOf=Yu;S.subtract=_u;S.toArray=zu;S.toObject=ju;S.toDate=Uu;S.toISOString=Au;S.inspect=Ou;typeof Symbol<"u"&&Symbol.for!=null&&(S[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});S.toJSON=Gu;S.toString=Lu;S.unix=Wu;S.valueOf=Hu;S.creationData=$u;S.eraName=Ku;S.eraNarrow=Qu;S.eraAbbr=ec;S.eraYear=tc;S.year=ur;S.isLeapYear=Ah;S.weekYear=lc;S.isoWeekYear=hc;S.quarter=S.quarters=mc;S.month=pr;S.daysInMonth=Uh;S.week=S.weeks=Zh;S.isoWeek=S.isoWeeks=Xh;S.weeksInYear=cc;S.weeksInWeekYear=fc;S.isoWeeksInYear=dc;S.isoWeeksInISOWeekYear=uc;S.date=Wr;S.day=S.days=hd;S.weekday=dd;S.isoWeekday=ud;S.dayOfYear=pc;S.hour=S.hours=yd;S.minute=S.minutes=gc;S.second=S.seconds=yc;S.millisecond=S.milliseconds=Ur;S.utcOffset=eu;S.utc=iu;S.local=au;S.parseZone=su;S.hasAlignedHourOffset=nu;S.isDST=ru;S.isLocal=lu;S.isUtcOffset=hu;S.isUtc=Lr;S.isUTC=Lr;S.zoneAbbr=wc;S.zoneName=bc;S.dates=it("dates accessor is deprecated. Use date instead.",Wr);S.months=it("months accessor is deprecated. Use month instead",pr);S.years=it("years accessor is deprecated. Use year instead",ur);S.zone=it("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",tu);S.isDSTShifted=it("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ou);function kc(t){return ge(t*1e3)}function Tc(){return ge.apply(null,arguments).parseZone()}function zr(t){return t}var de=Ms.prototype;de.calendar=lh;de.longDateFormat=ch;de.invalidDate=_h;de.ordinal=gh;de.preparse=zr;de.postformat=zr;de.relativeTime=vh;de.pastFuture=wh;de.set=rh;de.eras=Zu;de.erasParse=Xu;de.erasConvertYear=Ju;de.erasAbbrRegex=ac;de.erasNameRegex=ic;de.erasNarrowRegex=sc;de.months=Yh;de.monthsShort=Fh;de.monthsParse=Wh;de.monthsRegex=jh;de.monthsShortRegex=zh;de.week=qh;de.firstDayOfYear=$h;de.firstDayOfWeek=Vh;de.weekdays=sd;de.weekdaysMin=rd;de.weekdaysShort=nd;de.weekdaysParse=ld;de.weekdaysRegex=cd;de.weekdaysShortRegex=fd;de.weekdaysMinRegex=_d;de.isPM=pd;de.meridiem=vd;function ca(t,e,i,a){var s=Pt(),r=gt().set(a,e);return s[i](r,t)}function jr(t,e,i){if(Nt(t)&&(e=t,t=void 0),t=t||"",e!=null)return ca(t,e,i,"month");var a,s=[];for(a=0;a<12;a++)s[a]=ca(t,a,i,"month");return s}function zs(t,e,i,a){typeof t=="boolean"?(Nt(e)&&(i=e,e=void 0),e=e||""):(e=t,i=e,t=!1,Nt(e)&&(i=e,e=void 0),e=e||"");var s=Pt(),r=t?s._week.dow:0,l,h=[];if(i!=null)return ca(e,(i+r)%7,a,"day");for(l=0;l<7;l++)h[l]=ca(e,(l+r)%7,a,"day");return h}function Mc(t,e){return jr(t,e,"months")}function xc(t,e){return jr(t,e,"monthsShort")}function Sc(t,e,i){return zs(t,e,i,"weekdays")}function Dc(t,e,i){return zs(t,e,i,"weekdaysShort")}function Ec(t,e,i){return zs(t,e,i,"weekdaysMin")}Bt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=se(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+i}});P.lang=it("moment.lang is deprecated. Use moment.locale instead.",Bt);P.langData=it("moment.langData is deprecated. Use moment.localeData instead.",Pt);var Tt=Math.abs;function Lc(){var t=this._data;return this._milliseconds=Tt(this._milliseconds),this._days=Tt(this._days),this._months=Tt(this._months),t.milliseconds=Tt(t.milliseconds),t.seconds=Tt(t.seconds),t.minutes=Tt(t.minutes),t.hours=Tt(t.hours),t.months=Tt(t.months),t.years=Tt(t.years),this}function Gr(t,e,i,a){var s=ut(e,i);return t._milliseconds+=a*s._milliseconds,t._days+=a*s._days,t._months+=a*s._months,t._bubble()}function Ac(t,e){return Gr(this,t,e,1)}function Oc(t,e){return Gr(this,t,e,-1)}function In(t){return t<0?Math.floor(t):Math.ceil(t)}function Nc(){var t=this._milliseconds,e=this._days,i=this._months,a=this._data,s,r,l,h,m;return t>=0&&e>=0&&i>=0||t<=0&&e<=0&&i<=0||(t+=In(ys(i)+e)*864e5,e=0,i=0),a.milliseconds=t%1e3,s=Qe(t/1e3),a.seconds=s%60,r=Qe(s/60),a.minutes=r%60,l=Qe(r/60),a.hours=l%24,e+=Qe(l/24),m=Qe(qr(e)),i+=m,e-=In(ys(m)),h=Qe(i/12),i%=12,a.days=e,a.months=i,a.years=h,this}function qr(t){return t*4800/146097}function ys(t){return t*146097/4800}function Ic(t){if(!this.isValid())return NaN;var e,i,a=this._milliseconds;if(t=at(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+a/864e5,i=this._months+qr(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+Math.round(ys(this._months)),t){case"week":return e/7+a/6048e5;case"day":return e+a/864e5;case"hour":return e*24+a/36e5;case"minute":return e*1440+a/6e4;case"second":return e*86400+a/1e3;case"millisecond":return Math.floor(e*864e5)+a;default:throw new Error("Unknown unit "+t)}}function Yt(t){return function(){return this.as(t)}}var Br=Yt("ms"),Rc=Yt("s"),Cc=Yt("m"),Pc=Yt("h"),Yc=Yt("d"),Fc=Yt("w"),Hc=Yt("M"),Wc=Yt("Q"),Uc=Yt("y"),zc=Br;function jc(){return ut(this)}function Gc(t){return t=at(t),this.isValid()?this[t+"s"]():NaN}function si(t){return function(){return this.isValid()?this._data[t]:NaN}}var qc=si("milliseconds"),Bc=si("seconds"),Vc=si("minutes"),$c=si("hours"),Zc=si("days"),Xc=si("months"),Jc=si("years");function Kc(){return Qe(this.days()/7)}var St=Math.round,ui={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Qc(t,e,i,a,s){return s.relativeTime(e||1,!!i,t,a)}function ef(t,e,i,a){var s=ut(t).abs(),r=St(s.as("s")),l=St(s.as("m")),h=St(s.as("h")),m=St(s.as("d")),p=St(s.as("M")),y=St(s.as("w")),_=St(s.as("y")),L=r<=i.ss&&["s",r]||r<i.s&&["ss",r]||l<=1&&["m"]||l<i.m&&["mm",l]||h<=1&&["h"]||h<i.h&&["hh",h]||m<=1&&["d"]||m<i.d&&["dd",m];return i.w!=null&&(L=L||y<=1&&["w"]||y<i.w&&["ww",y]),L=L||p<=1&&["M"]||p<i.M&&["MM",p]||_<=1&&["y"]||["yy",_],L[2]=e,L[3]=+t>0,L[4]=a,Qc.apply(null,L)}function tf(t){return t===void 0?St:typeof t=="function"?(St=t,!0):!1}function af(t,e){return ui[t]===void 0?!1:e===void 0?ui[t]:(ui[t]=e,t==="s"&&(ui.ss=e-1),!0)}function sf(t,e){if(!this.isValid())return this.localeData().invalidDate();var i=!1,a=ui,s,r;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(i=t),typeof e=="object"&&(a=Object.assign({},ui,e),e.s!=null&&e.ss==null&&(a.ss=e.s-1)),s=this.localeData(),r=ef(this,!i,a,s),i&&(r=s.pastFuture(+this,r)),s.postformat(r)}var Qa=Math.abs;function li(t){return(t>0)-(t<0)||+t}function Oa(){if(!this.isValid())return this.localeData().invalidDate();var t=Qa(this._milliseconds)/1e3,e=Qa(this._days),i=Qa(this._months),a,s,r,l,h=this.asSeconds(),m,p,y,_;return h?(a=Qe(t/60),s=Qe(a/60),t%=60,a%=60,r=Qe(i/12),i%=12,l=t?t.toFixed(3).replace(/\.?0+$/,""):"",m=h<0?"-":"",p=li(this._months)!==li(h)?"-":"",y=li(this._days)!==li(h)?"-":"",_=li(this._milliseconds)!==li(h)?"-":"",m+"P"+(r?p+r+"Y":"")+(i?p+i+"M":"")+(e?y+e+"D":"")+(s||a||t?"T":"")+(s?_+s+"H":"")+(a?_+a+"M":"")+(t?_+l+"S":"")):"P0D"}var oe=La.prototype;oe.isValid=Xd;oe.abs=Lc;oe.add=Ac;oe.subtract=Oc;oe.as=Ic;oe.asMilliseconds=Br;oe.asSeconds=Rc;oe.asMinutes=Cc;oe.asHours=Pc;oe.asDays=Yc;oe.asWeeks=Fc;oe.asMonths=Hc;oe.asQuarters=Wc;oe.asYears=Uc;oe.valueOf=zc;oe._bubble=Nc;oe.clone=jc;oe.get=Gc;oe.milliseconds=qc;oe.seconds=Bc;oe.minutes=Vc;oe.hours=$c;oe.days=Zc;oe.weeks=Kc;oe.months=Xc;oe.years=Jc;oe.humanize=sf;oe.toISOString=Oa;oe.toString=Oa;oe.toJSON=Oa;oe.locale=Ir;oe.localeData=Cr;oe.toIsoString=it("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Oa);oe.lang=Rr;U("X",0,0,"unix");U("x",0,0,"valueOf");Y("x",xa);Y("X",Mh);_e("X",function(t,e,i){i._d=new Date(parseFloat(t)*1e3)});_e("x",function(t,e,i){i._d=new Date(se(t))});//! moment.js
P.version="2.30.1";sh(ge);P.fn=S;P.min=Bd;P.max=Vd;P.now=$d;P.utc=gt;P.unix=kc;P.months=Mc;P.isDate=Fi;P.locale=Bt;P.invalid=ba;P.duration=ut;P.isMoment=dt;P.weekdays=Sc;P.parseZone=Tc;P.localeData=Pt;P.isDuration=ia;P.monthsShort=xc;P.weekdaysMin=Ec;P.defineLocale=Rs;P.updateLocale=Td;P.locales=Md;P.weekdaysShort=Dc;P.normalizeUnits=at;P.relativeTimeRounding=tf;P.relativeTimeThreshold=af;P.calendarFormat=vu;P.prototype=S;P.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const me="Hardware",Ye="Operating Systems",Ze="Programming Languages",Ji="Softwares and Libraries",Ht="Web Frontend",Wt="Databases",es="Deep Learning & 3D",Mt="Companies",Ut="Network Protocols",xt="Misc.",of=to({__name:"Timeline",setup(t){const e=io(null),a=[{day:"1939",group:me,name:"Bombe"},{day:"1945-06-30",group:xt,name:"von Neumann architecture"},{day:"1946-02-15",group:me,name:"ENIAC"},{day:"1947",group:Ze,name:"Assembly language"},{day:"1951-03-31",group:me,name:"UNIVAC"},{day:"1956-09-14",group:me,name:"IBM 350 HDD"},{day:"1957",group:Ze,name:"Fortran"},{day:"1957",group:Mt,name:"Digital Equipment Corp."},{day:"1960-11",group:me,name:"DEC PDP-1"},{day:"1960",group:xt,name:"Quick Sort"},{day:"1961",group:xt,name:"Compatible Time-Sharing System"},{day:"1964-04-07",group:xt,name:"IBM System/360"},{day:"1965-03-22",group:me,name:"DEC PDP-8"},{day:"1968-07-18",group:Mt,name:"Intel"},{day:"1969",group:Ye,name:"UNIX"},{day:"1969-05-01",group:Mt,name:"AMD"},{day:"1969-07-20",group:me,name:"Apollo 11"},{day:"1969-11-21",group:Ut,name:"ARPANET"},{day:"1970",group:Ze,name:"Pascal"},{day:"1971-11-15",group:me,name:"Intel 4004"},{day:"1972",group:Ze,name:"C"},{day:"1973-03-05",group:Ut,name:"Telnet"},{day:"1973-05-22",group:Ut,name:"Ethernet"},{day:"1974",group:xt,name:"Xerox PARC Alto GUI"},{day:"1974-04-01",group:me,name:"Intel 8008"},{day:"1975-04-04",group:Mt,name:"Microsoft"},{day:"1976",group:me,name:"Apple-1"},{day:"1978-03-09",group:Ye,name:"BSD"},{day:"1979",group:Wt,name:"Oracle"},{day:"1981",group:me,name:"IBM PC"},{day:"1981",group:Ye,name:"MS-DOS"},{day:"1983-01-01",group:Ut,name:"TCP/IP (Internet)"},{day:"1983-01-19",group:me,name:"Apple Lisa"},{day:"1982",group:Ye,name:"HP-UX"},{day:"1982-02-24",group:xt,name:"Sun Microsystems"},{day:"1983-06-07",group:Wt,name:"DB2"},{day:"1983-07-15",group:me,name:"Nintendo Entertainment System"},{day:"1983-09-27",group:Ye,name:"GNU"},{day:"1983-10",group:Ji,name:"Word"},{day:"1984-02-01",group:Mt,name:"Dell"},{day:"1984-01-24",group:me,name:"Macintosh"},{day:"1984",group:Ze,name:"Verilog, Matlab"},{day:"1985",group:Ze,name:"C++"},{day:"1985-04-26",group:me,name:"ARM"},{day:"1987-02-21",group:Mt,name:"TSMC"},{day:"1987-12-18",group:Ze,name:"Perl"},{day:"1986-02",group:Ye,name:"IBM AIX"},{day:"1988",group:Ye,name:"POSIX"},{day:"1990-02-19",group:Ji,name:"Photoshop"},{day:"1991",group:Ut,name:"HTTP/0.9"},{day:"1991-02-20",group:Ze,name:"Python"},{day:"1991-09-17",group:Ye,name:"GNU/Linux"},{day:"1992-06",group:Ye,name:"Solaris"},{day:"1993-03-22",group:me,name:"Intel Pentium"},{day:"1993-09-15",group:Ye,name:"Debian"},{day:"1994-10-13",group:Ht,name:"Netscape"},{day:"1994-12-03",group:me,name:"PlayStation"},{day:"1995-08-24",group:Ht,name:"Internet Explorer"},{day:"1995-08-24",group:Ye,name:"Windows 95"},{day:"1995",group:Ze,name:"Java, JavaScript, PHP"},{day:"1995-05-23",group:Wt,name:"MySQL"},{day:"1995-07",group:Ut,name:"Secure Shell (SSH)"},{day:"1995-07-16",group:Mt,name:"Amazon"},{day:"1996-05",group:Ut,name:"HTTP/1.0 (RFC1945)"},{day:"1996-07-08",group:Wt,name:"PostgreSQL"},{day:"1996-12-25",group:Ze,name:"Ruby"},{day:"1997-06-05",group:Ye,name:"Symbian"},{day:"1998-09-04",group:Mt,name:"Google"},{day:"1999-10-11",group:me,name:"GeForce 256"},{day:"2000-03-06",group:me,name:"AMD Athlon 1Ghz"},{day:"2000-05",group:Ut,name:"HTTPS (RFC2818)"},{day:"2000-08-17",group:Wt,name:"SQLite"},{day:"2001-01-15",group:xt,name:"Wikipedia"},{day:"2001-03-24",group:Ye,name:"OS X 10"},{day:"2001-10-25",group:Ye,name:"Windows XP"},{day:"2001-11-15",group:me,name:"Xbox"},{day:"2003-06",group:Ji,name:"Spring Framework"},{day:"2004-10-20",group:Ye,name:"Ubuntu"},{day:"2004-02-04",group:Mt,name:"Facebook"},{day:"2004-11-09",group:Ht,name:"Firefox"},{day:"2005-04-07",group:xt,name:"Git"},{day:"2005-07-21",group:Ji,name:"Django"},{day:"2006-04-01",group:Wt,name:"Hadoop"},{day:"2006-01",group:me,name:"Intel Core Duo"},{day:"2006-08-26",group:Ht,name:"jQuery"},{day:"2007",group:me,name:"1TB HDD, iPhone"},{day:"2007-07-23",group:es,name:"CUDA"},{day:"2007-07-29",group:Ye,name:"iOS"},{day:"2007-10-19",group:xt,name:"GitHub"},{day:"2008-09-02",group:Ht,name:"Chrome"},{day:"2008-09-23",group:Ye,name:"Android"},{day:"2009-02-11",group:Wt,name:"MongoDB"},{day:"2009-04-10",group:Wt,name:"Redis"},{day:"2009-05-27",group:Ze,name:"Node.js"},{day:"2012-02-29",group:me,name:"Raspberry Pi"},{day:"2012-03",group:Ze,name:"Go"},{day:"2012-10-01",group:Ze,name:"TypeScript"},{day:"2013-05-29",group:Ht,name:"React"},{day:"2014-02",group:Ht,name:"Vue.js"},{day:"2015-04-10",group:me,name:"Apple Watch"},{day:"2015-05-15",group:Ze,name:"Rust"},{day:"2015-09-14",group:Ht,name:"Angular"},{day:"2015-11-09",group:es,name:"TensorFlow"},{day:"2016-09",group:es,name:"PyTorch"},{day:"2017-03-03",group:me,name:"Nintendo Switch"},{day:"2020-11-10",group:me,name:"Apple M1"},{day:"2022-04-20",group:me,name:"AMD Ryzen 5800X3D"}].map(s=>{const r=P(s.day).toDate();return{start_date:{year:r.getFullYear(),month:r.getMonth()+1,day:r.getDay()},text:{headline:s.name},group:s.group}});return ao(()=>{new tr(e.value,{events:a})}),(s,r)=>(so(),no("div",{ref_key:"timeline",ref:e},null,512))}});export{of as default};
